/**
 *
 * Copyright (c) 2016 Yodlee Inc. All Rights Reserved.
 *
 * This software is the confidential and proprietary information of Yodlee, Inc.
 * Use is subject to license terms.
 *
 */

package com.yodlee.ycc.test.web.controllers;


import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.beans.factory.annotation.Autowired;
import org.testng.annotations.BeforeClass;
import org.testng.annotations.Test;

import org.testng.Assert;



import com.yodlee.ycc.app.search.ReportSearchFilter;
import com.yodlee.ycc.app.web.controllers.DashBoardController;
import com.yodlee.ycc.test.web.MainServiceTest;

public class DashBoardControllerTest extends MainServiceTest{

	private static final String devAppIdHeader = "94AAC319-CF5E-4733-AA42-CA88C79C656D";
	
	private static Logger logger = LoggerFactory.getLogger(DashBoardControllerTest.class);

	@Autowired
	private DashBoardController dashBoardController;

	private ReportSearchFilter filter;


	@BeforeClass
	public void setRequestParameters() {
		this.filter=new ReportSearchFilter();
		this.filter.setCobrandId("BAC [10001372]");
		this.filter.setReportType("REFRESH");
		this.filter.setCustomerId("10000004");
	}

	@Test
	public void cobOverallRefreshStatisticsTest() {
		this.filter.setGroupBy("COBRAND");
		this.filter.setTimeSlot("PT12H");
		this.filter.setCobrandId("10001372");
		this.filter.setConsolidatedBy("");
		this.filter.setOffSetTimeSlot("");
		this.filter.setInclude("");
		this.filter.setProviderIds("");
		this.filter.setNumRecords("");
		this.filter.setTop("");
		this.filter.setCustomerId("10000004");
		this.filter.setReportType("REFRESH");
		String response = this.dashBoardController.cobRefreshStats("3099:fdskj",devAppIdHeader, this.filter);
		Assert.assertNotNull(response);
		Assert.assertTrue(!response.isEmpty(), "cobOverallRefreshStatistics is empty");
		Assert.assertTrue(!response.contains("errorCode"), "cobOverallRefreshStatistics is throwing some error - "+response);
		Assert.assertTrue(response.contains("\"id\":\"10001372\""), "cobOverallRefreshStatistics JSON is changed - "+response);
		Assert.assertTrue(!response.contains("\"breakups\""), "cobOverallRefreshStatistics JSON is changed - "+response);
		Assert.assertTrue(!response.contains("\"details\""), "cobOverallRefreshStatistics JSON is changed - "+response);
		Assert.assertEquals(response, "{\"refreshStats\":{\"refreshType\":\"REFRESH\",\"groupBy\":\"COBRAND\",\"info\":[{\"summary\":{\"totalVolume\":\"317376\",\"success\":{\"volume\":\"305820.0\",\"rate\":\"96.36\"},\"failure\":[{\"volume\":\"2809\",\"rate\":\"0.89\",\"type\":\"TECHNICAL\"},{\"volume\":\"3143\",\"rate\":\"0.99\",\"type\":\"SITE\"},{\"volume\":\"5594\",\"rate\":\"1.76\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"20.8\",\"max\":\"3601.19\"}},\"name\":\"restserver_BAC\",\"id\":\"10001372\",\"lastModified\":\"2018-03-06T04:00:00Z\"}]}}");
	}
	
	
	@Test
	public void channelOverallRefreshStatisticsTest() {
		this.filter.setGroupBy("COBRAND");
		this.filter.setTimeSlot("PT12H");
		this.filter.setCobrandId("10001372");
		this.filter.setOffSetTimeSlot("");
		this.filter.setInclude("");
		this.filter.setProviderIds("");
		this.filter.setNumRecords("");
		this.filter.setConsolidatedBy("consolidate");
		this.filter.setTop("");
		this.filter.setCustomerId("10000004");
		this.filter.setReportType("REFRESH");
		String response = this.dashBoardController.cobRefreshStats("3099:fdskj",devAppIdHeader, this.filter);
		Assert.assertNotNull(response);
		Assert.assertTrue(!response.isEmpty(), "cobOverallRefreshStatistics is empty");
		Assert.assertTrue(!response.contains("errorCode"), "cobOverallRefreshStatistics is throwing some error - "+response);
		Assert.assertTrue(response.contains("\"id\":\"10001372\""), "cobOverallRefreshStatistics JSON is changed - "+response);
		Assert.assertTrue(!response.contains("\"breakups\""), "cobOverallRefreshStatistics JSON is changed - "+response);
		Assert.assertTrue(!response.contains("\"details\""), "cobOverallRefreshStatistics JSON is changed - "+response);
		Assert.assertEquals(response, "{\"refreshStats\":{\"refreshType\":\"REFRESH\",\"groupBy\":\"COBRAND\",\"info\":[{\"summary\":{\"totalVolume\":\"317376\",\"success\":{\"volume\":\"305820.0\",\"rate\":\"96.36\"},\"failure\":[{\"volume\":\"2809\",\"rate\":\"0.89\",\"type\":\"TECHNICAL\"},{\"volume\":\"3143\",\"rate\":\"0.99\",\"type\":\"SITE\"},{\"volume\":\"5594\",\"rate\":\"1.76\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"20.8\",\"max\":\"3601.19\"}},\"name\":\"restserver_BAC\",\"id\":\"10001372\",\"lastModified\":\"2018-03-06T04:00:00Z\"}]}}");
	}
	
	
	@Test
	public void cobRefreshStatsComparisonTest() {
		this.filter.setGroupBy("COBRAND");
		this.filter.setTimeSlot("PT24H");
		this.filter.setOffSetTimeSlot("PT24H");
		this.filter.setCobrandId("10001372");
		this.filter.setProviderIds("");
		this.filter.setConsolidatedBy("");
		this.filter.setInclude("");
		this.filter.setNumRecords("");
		this.filter.setTop("");
		this.filter.setCustomerId("10000004");
		this.filter.setReportType("REFRESH");
		String response = this.dashBoardController.cobRefreshStats("3099:fdskj",devAppIdHeader, this.filter);
		Assert.assertNotNull(response);
		Assert.assertTrue(!response.isEmpty(), "cobRefreshStatsComparison is empty");
		Assert.assertTrue(!response.contains("errorCode"), "cobRefreshStatsComparison is throwing some error - "+response);
		Assert.assertTrue(response.contains("\"id\":\"10001372\""), "cobRefreshStatsComparison JSON is changed - "+response);
		Assert.assertTrue(!response.contains("\"breakups\""), "cobRefreshStatsComparison JSON is changed - "+response);
		Assert.assertTrue(!response.contains("\"details\""), "cobRefreshStatsComparison JSON is changed - "+response);
		Assert.assertEquals(response, "{\"refreshStats\":{\"refreshType\":\"REFRESH\",\"groupBy\":\"COBRAND\",\"info\":[{\"summary\":{\"totalVolume\":\"417511\",\"success\":{\"volume\":\"398052.0\",\"rate\":\"95.34\"},\"failure\":[{\"volume\":\"3950\",\"rate\":\"0.95\",\"type\":\"TECHNICAL\"},{\"volume\":\"6710\",\"rate\":\"1.61\",\"type\":\"SITE\"},{\"volume\":\"8792\",\"rate\":\"2.11\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"18.75\",\"max\":\"3599.98\"}},\"name\":\"restserver_BAC\",\"id\":\"10001372\",\"lastModified\":\"2018-03-06T04:00:00Z\"}]}}");
	}

	@Test
	public void cobRefreshStatsForTopVolumeSitesTest() {
		this.filter.setGroupBy("PROVIDER");
		this.filter.setNumRecords("15");
		this.filter.setTop("TOP_VOLUME");
		this.filter.setCobrandId("10001372");
		this.filter.setConsolidatedBy("");
		this.filter.setOffSetTimeSlot("");
		this.filter.setProviderIds("");
		this.filter.setInclude("");
		this.filter.setTimeSlot("");
		this.filter.setCustomerId("10000004");
		this.filter.setReportType("REFRESH");
		String response = this.dashBoardController.cobRefreshStats("3099:fdskj",devAppIdHeader, this.filter);
		Assert.assertNotNull(response);
		Assert.assertTrue(!response.isEmpty(), "cobRefreshStatsForTopVolumeSites is empty");
		Assert.assertTrue(!response.contains("errorCode"), "cobRefreshStatsForTopVolumeSites is throwing some error - "+response);
		Assert.assertTrue(response.contains("\"PROVIDER\""), "cobRefreshStatsForTopVolumeSites JSON is changed - "+response);
		Assert.assertTrue(response.contains("\"TOP_VOLUME\""), "cobRefreshStatsForTopVolumeSites JSON is changed - "+response);
		Assert.assertTrue(response.contains("\"2852\""), "cobRefreshStatsForTopVolumeSites JSON is changed - "+response);
	}
	
	@Test
	public void cobRefreshStatsForTopVolumeSitesWithCobrandIDVarianceTest() {
		this.filter.setGroupBy("PROVIDER");
		this.filter.setNumRecords("15");
		this.filter.setTop("TOP_VOLUME");
		this.filter.setCobrandId("[10001372]");
		this.filter.setConsolidatedBy("");
		this.filter.setOffSetTimeSlot("");
		this.filter.setProviderIds("");
		this.filter.setInclude("");
		this.filter.setTimeSlot("");
		this.filter.setCustomerId("10000004");
		this.filter.setReportType("REFRESH");
		String response = this.dashBoardController.cobRefreshStats("3099:fdskj",devAppIdHeader, this.filter);
		Assert.assertNotNull(response);
		Assert.assertTrue(!response.isEmpty(), "cobRefreshStatsForTopVolumeSites is empty");
		Assert.assertTrue(!response.contains("errorCode"), "cobRefreshStatsForTopVolumeSites is throwing some error - "+response);
		Assert.assertTrue(response.contains("\"PROVIDER\""), "cobRefreshStatsForTopVolumeSites JSON is changed - "+response);
		Assert.assertTrue(response.contains("\"TOP_VOLUME\""), "cobRefreshStatsForTopVolumeSites JSON is changed - "+response);
		Assert.assertTrue(response.contains("\"2852\""), "cobRefreshStatsForTopVolumeSites JSON is changed - "+response);
	}
	
	
	@Test
	public void cobRefreshStatsForTopFailureSitesTest() {
		this.filter.setGroupBy("PROVIDER");
		this.filter.setNumRecords("15");
		this.filter.setTop("TOP_FAILURE");
		this.filter.setOffSetTimeSlot("");
		this.filter.setConsolidatedBy("");
		this.filter.setCobrandId("10001372");
		this.filter.setProviderIds("");
		this.filter.setInclude("");
		this.filter.setTimeSlot("");
		this.filter.setCustomerId("10000004");
		this.filter.setReportType("REFRESH");
		String response = this.dashBoardController.cobRefreshStats("3099:fdskj",devAppIdHeader, this.filter);
		Assert.assertNotNull(response);
		Assert.assertTrue(!response.isEmpty(), "cobRefreshStatsForTopFailureSites is empty");
		Assert.assertTrue(!response.contains("errorCode"), "cobRefreshStatsForTopFailureSites is throwing some error - "+response);
		Assert.assertTrue(response.contains("\"PROVIDER\""), "cobRefreshStatsForTopFailureSites JSON is changed - "+response);
		Assert.assertTrue(response.contains("\"TOP_FAILURE\""), "cobRefreshStatsForTopFailureSites JSON is changed - "+response);
		Assert.assertTrue(response.contains("9856"), "cobRefreshStatsForTopFailureSites JSON is changed - "+response);
	}

	@Test
	public void cobRefreshStatsForHistoricRefreshTrendsTest() {
		this.filter.setGroupBy("COBRAND");
		this.filter.setTimeSlot("P15D");
		this.filter.setInclude("historic");
		this.filter.setOffSetTimeSlot("");
		this.filter.setCobrandId("10001372");
		this.filter.setProviderIds("");
		this.filter.setNumRecords("");
		this.filter.setConsolidatedBy("");
		this.filter.setTop("");
		this.filter.setCustomerId("10000004");
		this.filter.setReportType("REFRESH");
		String response = this.dashBoardController.cobRefreshStats("3099:fdskj",devAppIdHeader, this.filter);
		Assert.assertNotNull(response);
		Assert.assertTrue(!response.isEmpty(), "cobRefreshStatsForHistoricRefreshTrends is empty");
		Assert.assertTrue(!response.contains("errorCode"), "cobRefreshStatsForHistoricRefreshTrends is throwing some error - "+response);
		Assert.assertTrue(response.contains("\"id\":\"10001372\""), "cobRefreshStatsForHistoricRefreshTrends JSON is changed - "+response);
		Assert.assertTrue(!response.contains("\"breakups\""), "cobRefreshStatsForHistoricRefreshTrends JSON is changed - "+response);
		Assert.assertEquals(response, "{\"refreshStats\":{\"refreshType\":\"REFRESH\",\"groupBy\":\"COBRAND\",\"info\":[{\"summary\":{\"totalVolume\":\"488661\",\"success\":{\"volume\":\"461026.0\",\"rate\":\"94.34\"},\"failure\":[{\"volume\":\"6783\",\"rate\":\"1.39\",\"type\":\"TECHNICAL\"},{\"volume\":\"7552\",\"rate\":\"1.55\",\"type\":\"SITE\"},{\"volume\":\"13298\",\"rate\":\"2.72\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"19.35\",\"max\":\"3601.43\"}},\"name\":\"restserver_BAC\",\"details\":[{\"date\":\"2018/02/15\",\"summary\":{\"totalVolume\":\"292095\",\"success\":{\"volume\":\"273117\",\"rate\":\"93.5\"},\"failure\":[{\"volume\":\"4619\",\"rate\":\"1.58\",\"type\":\"TECHNICAL\"},{\"volume\":\"5030\",\"rate\":\"1.72\",\"type\":\"SITE\"},{\"volume\":\"9325\",\"rate\":\"3.19\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"18.59\",\"max\":\"3601.43\"}}},{\"date\":\"2018/02/14\",\"summary\":{\"totalVolume\":\"670779\",\"success\":{\"volume\":\"640620\",\"rate\":\"95.5\"},\"failure\":[{\"volume\":\"7139\",\"rate\":\"1.06\",\"type\":\"TECHNICAL\"},{\"volume\":\"8046\",\"rate\":\"1.2\",\"type\":\"SITE\"},{\"volume\":\"14969\",\"rate\":\"2.23\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"16.79\",\"max\":\"3601.27\"}}},{\"date\":\"2018/02/13\",\"summary\":{\"totalVolume\":\"716377\",\"success\":{\"volume\":\"681417\",\"rate\":\"95.12\"},\"failure\":[{\"volume\":\"7867\",\"rate\":\"1.1\",\"type\":\"TECHNICAL\"},{\"volume\":\"12724\",\"rate\":\"1.78\",\"type\":\"SITE\"},{\"volume\":\"14352\",\"rate\":\"2.0\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"16.28\",\"max\":\"3603.53\"}}},{\"date\":\"2018/02/12\",\"summary\":{\"totalVolume\":\"744743\",\"success\":{\"volume\":\"705195\",\"rate\":\"94.69\"},\"failure\":[{\"volume\":\"8900\",\"rate\":\"1.2\",\"type\":\"TECHNICAL\"},{\"volume\":\"14226\",\"rate\":\"1.91\",\"type\":\"SITE\"},{\"volume\":\"16397\",\"rate\":\"2.2\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"17.55\",\"max\":\"3600.68\"}}},{\"date\":\"2018/02/11\",\"summary\":{\"totalVolume\":\"409904\",\"success\":{\"volume\":\"389450\",\"rate\":\"95.01\"},\"failure\":[{\"volume\":\"5345\",\"rate\":\"1.3\",\"type\":\"TECHNICAL\"},{\"volume\":\"6995\",\"rate\":\"1.71\",\"type\":\"SITE\"},{\"volume\":\"8106\",\"rate\":\"1.98\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"17.21\",\"max\":\"3600.48\"}}},{\"date\":\"2018/02/10\",\"summary\":{\"totalVolume\":\"462243\",\"success\":{\"volume\":\"421899\",\"rate\":\"91.27\"},\"failure\":[{\"volume\":\"8350\",\"rate\":\"1.81\",\"type\":\"TECHNICAL\"},{\"volume\":\"19036\",\"rate\":\"4.12\",\"type\":\"SITE\"},{\"volume\":\"12958\",\"rate\":\"2.8\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"21.81\",\"max\":\"3601.10\"}}},{\"date\":\"2018/02/09\",\"summary\":{\"totalVolume\":\"639863\",\"success\":{\"volume\":\"603380\",\"rate\":\"94.3\"},\"failure\":[{\"volume\":\"9099\",\"rate\":\"1.42\",\"type\":\"TECHNICAL\"},{\"volume\":\"12355\",\"rate\":\"1.93\",\"type\":\"SITE\"},{\"volume\":\"15027\",\"rate\":\"2.35\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"16.02\",\"max\":\"3600.59\"}}},{\"date\":\"2018/02/08\",\"summary\":{\"totalVolume\":\"647660\",\"success\":{\"volume\":\"607304\",\"rate\":\"93.77\"},\"failure\":[{\"volume\":\"10355\",\"rate\":\"1.6\",\"type\":\"TECHNICAL\"},{\"volume\":\"14829\",\"rate\":\"2.29\",\"type\":\"SITE\"},{\"volume\":\"15167\",\"rate\":\"2.34\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"15.73\",\"max\":\"3600.50\"}}},{\"date\":\"2018/02/07\",\"summary\":{\"totalVolume\":\"679166\",\"success\":{\"volume\":\"633298\",\"rate\":\"93.25\"},\"failure\":[{\"volume\":\"8206\",\"rate\":\"1.21\",\"type\":\"TECHNICAL\"},{\"volume\":\"21081\",\"rate\":\"3.1\",\"type\":\"SITE\"},{\"volume\":\"16575\",\"rate\":\"2.44\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"15.84\",\"max\":\"3601.31\"}}},{\"date\":\"2018/02/06\",\"summary\":{\"totalVolume\":\"724147\",\"success\":{\"volume\":\"678315\",\"rate\":\"93.67\"},\"failure\":[{\"volume\":\"9256\",\"rate\":\"1.28\",\"type\":\"TECHNICAL\"},{\"volume\":\"21035\",\"rate\":\"2.9\",\"type\":\"SITE\"},{\"volume\":\"15530\",\"rate\":\"2.14\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"15.68\",\"max\":\"3600.27\"}}},{\"date\":\"2018/02/05\",\"summary\":{\"totalVolume\":\"743364\",\"success\":{\"volume\":\"700943\",\"rate\":\"94.29\"},\"failure\":[{\"volume\":\"8584\",\"rate\":\"1.15\",\"type\":\"TECHNICAL\"},{\"volume\":\"16925\",\"rate\":\"2.28\",\"type\":\"SITE\"},{\"volume\":\"16886\",\"rate\":\"2.27\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"17.23\",\"max\":\"3601.15\"}}},{\"date\":\"2018/02/04\",\"summary\":{\"totalVolume\":\"396473\",\"success\":{\"volume\":\"379708\",\"rate\":\"95.77\"},\"failure\":[{\"volume\":\"3778\",\"rate\":\"0.95\",\"type\":\"TECHNICAL\"},{\"volume\":\"5438\",\"rate\":\"1.37\",\"type\":\"SITE\"},{\"volume\":\"7542\",\"rate\":\"1.9\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"14.99\",\"max\":\"3601.06\"}}},{\"date\":\"2018/02/03\",\"summary\":{\"totalVolume\":\"428137\",\"success\":{\"volume\":\"396678\",\"rate\":\"92.65\"},\"failure\":[{\"volume\":\"6356\",\"rate\":\"1.48\",\"type\":\"TECHNICAL\"},{\"volume\":\"11526\",\"rate\":\"2.69\",\"type\":\"SITE\"},{\"volume\":\"13577\",\"rate\":\"3.17\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"20.28\",\"max\":\"3600.78\"}}},{\"date\":\"2018/02/02\",\"summary\":{\"totalVolume\":\"637122\",\"success\":{\"volume\":\"600919\",\"rate\":\"94.32\"},\"failure\":[{\"volume\":\"7814\",\"rate\":\"1.23\",\"type\":\"TECHNICAL\"},{\"volume\":\"12849\",\"rate\":\"2.02\",\"type\":\"SITE\"},{\"volume\":\"15537\",\"rate\":\"2.44\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"15.22\",\"max\":\"3600.71\"}}}],\"id\":\"10001372\",\"lastModified\":\"2018-02-16T04:00:00Z\"}]}}");
	}
	
	
	@Test
	public void cobRefreshStatsForCommonDataTest() {
		this.filter.setGroupBy("COBRAND");
		this.filter.setTimeSlot("P15D");
		this.filter.setCobrandId("10001372");
		this.filter.setOffSetTimeSlot("");
		this.filter.setInclude("historic,latencyBreakup");
		this.filter.setProviderIds("");
		this.filter.setConsolidatedBy("");
		this.filter.setNumRecords("");
		this.filter.setTop("");
		this.filter.setCustomerId("10000004");
		this.filter.setReportType("REFRESH");
		String response = this.dashBoardController.cobRefreshStats("3099:fdskj",devAppIdHeader, this.filter);
		Assert.assertNotNull(response);
		Assert.assertTrue(!response.isEmpty(), "cobRefreshStatsForCommonData is empty");
		Assert.assertTrue(!response.contains("errorCode"), "cobRefreshStatsForCommonData is throwing some error - "+response);
		Assert.assertTrue(response.contains("\"id\":\"10001372\""), "cobRefreshStatsForCommonData JSON is changed - "+response);
		Assert.assertTrue(response.contains("\"details"), "cobRefreshStatsForCommonData JSON is changed - "+response);
		Assert.assertTrue(response.contains("\"breakups"), "cobRefreshStatsForCommonData JSON is changed - "+response);
		Assert.assertEquals(response, "{\"refreshStats\":{\"refreshType\":\"REFRESH\",\"groupBy\":\"COBRAND\",\"info\":[{\"summary\":{\"totalVolume\":\"488661\",\"success\":{\"volume\":\"461026.0\",\"rate\":\"94.34\"},\"failure\":[{\"volume\":\"6783\",\"rate\":\"1.39\",\"type\":\"TECHNICAL\"},{\"volume\":\"7552\",\"rate\":\"1.55\",\"type\":\"SITE\"},{\"volume\":\"13298\",\"rate\":\"2.72\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"19.35\",\"max\":\"3601.43\",\"breakups\":[{\"volume\":\"355932\",\"rate\":\"72.84\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"55131\",\"rate\":\"11.28\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"33189\",\"rate\":\"6.79\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"18539\",\"rate\":\"3.79\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"10478\",\"rate\":\"2.14\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"15392\",\"rate\":\"3.15\",\"range\":\"GRT_THAN_100_SECS\"}]}},\"name\":\"restserver_BAC\",\"details\":[{\"date\":\"2018/02/15\",\"summary\":{\"totalVolume\":\"292095\",\"success\":{\"volume\":\"273117\",\"rate\":\"93.5\"},\"failure\":[{\"volume\":\"4619\",\"rate\":\"1.58\",\"type\":\"TECHNICAL\"},{\"volume\":\"5030\",\"rate\":\"1.72\",\"type\":\"SITE\"},{\"volume\":\"9325\",\"rate\":\"3.19\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"18.59\",\"max\":\"3601.43\",\"breakups\":[{\"volume\":\"215072\",\"rate\":\"73.63\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"34075\",\"rate\":\"11.67\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"18604\",\"rate\":\"6.37\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"10294\",\"rate\":\"3.52\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"5803\",\"rate\":\"1.99\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"8247\",\"rate\":\"2.82\",\"range\":\"GRT_THAN_100_SECS\"}]}}},{\"date\":\"2018/02/14\",\"summary\":{\"totalVolume\":\"670779\",\"success\":{\"volume\":\"640620\",\"rate\":\"95.5\"},\"failure\":[{\"volume\":\"7139\",\"rate\":\"1.06\",\"type\":\"TECHNICAL\"},{\"volume\":\"8046\",\"rate\":\"1.2\",\"type\":\"SITE\"},{\"volume\":\"14969\",\"rate\":\"2.23\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"16.79\",\"max\":\"3601.27\",\"breakups\":[{\"volume\":\"514707\",\"rate\":\"76.73\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"66438\",\"rate\":\"9.9\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"38859\",\"rate\":\"5.79\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"20515\",\"rate\":\"3.06\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"12205\",\"rate\":\"1.82\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"18055\",\"rate\":\"2.69\",\"range\":\"GRT_THAN_100_SECS\"}]}}},{\"date\":\"2018/02/13\",\"summary\":{\"totalVolume\":\"716377\",\"success\":{\"volume\":\"681417\",\"rate\":\"95.12\"},\"failure\":[{\"volume\":\"7867\",\"rate\":\"1.1\",\"type\":\"TECHNICAL\"},{\"volume\":\"12724\",\"rate\":\"1.78\",\"type\":\"SITE\"},{\"volume\":\"14352\",\"rate\":\"2.0\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"16.28\",\"max\":\"3603.53\",\"breakups\":[{\"volume\":\"554563\",\"rate\":\"77.41\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"68811\",\"rate\":\"9.61\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"40076\",\"rate\":\"5.59\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"21587\",\"rate\":\"3.01\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"12950\",\"rate\":\"1.81\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"18390\",\"rate\":\"2.57\",\"range\":\"GRT_THAN_100_SECS\"}]}}},{\"date\":\"2018/02/12\",\"summary\":{\"totalVolume\":\"744743\",\"success\":{\"volume\":\"705195\",\"rate\":\"94.69\"},\"failure\":[{\"volume\":\"8900\",\"rate\":\"1.2\",\"type\":\"TECHNICAL\"},{\"volume\":\"14226\",\"rate\":\"1.91\",\"type\":\"SITE\"},{\"volume\":\"16397\",\"rate\":\"2.2\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"17.55\",\"max\":\"3600.68\",\"breakups\":[{\"volume\":\"558069\",\"rate\":\"74.93\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"79533\",\"rate\":\"10.68\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"46084\",\"rate\":\"6.19\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"25217\",\"rate\":\"3.39\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"14832\",\"rate\":\"1.99\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"21008\",\"rate\":\"2.82\",\"range\":\"GRT_THAN_100_SECS\"}]}}},{\"date\":\"2018/02/11\",\"summary\":{\"totalVolume\":\"409904\",\"success\":{\"volume\":\"389450\",\"rate\":\"95.01\"},\"failure\":[{\"volume\":\"5345\",\"rate\":\"1.3\",\"type\":\"TECHNICAL\"},{\"volume\":\"6995\",\"rate\":\"1.71\",\"type\":\"SITE\"},{\"volume\":\"8106\",\"rate\":\"1.98\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"17.21\",\"max\":\"3600.48\",\"breakups\":[{\"volume\":\"308139\",\"rate\":\"75.17\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"43898\",\"rate\":\"10.71\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"25457\",\"rate\":\"6.21\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"13514\",\"rate\":\"3.3\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"8171\",\"rate\":\"1.99\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"10725\",\"rate\":\"2.62\",\"range\":\"GRT_THAN_100_SECS\"}]}}},{\"date\":\"2018/02/10\",\"summary\":{\"totalVolume\":\"462243\",\"success\":{\"volume\":\"421899\",\"rate\":\"91.27\"},\"failure\":[{\"volume\":\"8350\",\"rate\":\"1.81\",\"type\":\"TECHNICAL\"},{\"volume\":\"19036\",\"rate\":\"4.12\",\"type\":\"SITE\"},{\"volume\":\"12958\",\"rate\":\"2.8\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"21.81\",\"max\":\"3601.10\",\"breakups\":[{\"volume\":\"321067\",\"rate\":\"69.46\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"59067\",\"rate\":\"12.78\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"34158\",\"rate\":\"7.39\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"18231\",\"rate\":\"3.94\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"11308\",\"rate\":\"2.45\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"18412\",\"rate\":\"3.98\",\"range\":\"GRT_THAN_100_SECS\"}]}}},{\"date\":\"2018/02/09\",\"summary\":{\"totalVolume\":\"639863\",\"success\":{\"volume\":\"603380\",\"rate\":\"94.3\"},\"failure\":[{\"volume\":\"9099\",\"rate\":\"1.42\",\"type\":\"TECHNICAL\"},{\"volume\":\"12355\",\"rate\":\"1.93\",\"type\":\"SITE\"},{\"volume\":\"15027\",\"rate\":\"2.35\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"16.02\",\"max\":\"3600.59\",\"breakups\":[{\"volume\":\"491777\",\"rate\":\"76.86\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"69069\",\"rate\":\"10.79\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"35282\",\"rate\":\"5.51\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"18124\",\"rate\":\"2.83\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"9950\",\"rate\":\"1.56\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"15661\",\"rate\":\"2.45\",\"range\":\"GRT_THAN_100_SECS\"}]}}},{\"date\":\"2018/02/08\",\"summary\":{\"totalVolume\":\"647660\",\"success\":{\"volume\":\"607304\",\"rate\":\"93.77\"},\"failure\":[{\"volume\":\"10355\",\"rate\":\"1.6\",\"type\":\"TECHNICAL\"},{\"volume\":\"14829\",\"rate\":\"2.29\",\"type\":\"SITE\"},{\"volume\":\"15167\",\"rate\":\"2.34\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"15.73\",\"max\":\"3600.50\",\"breakups\":[{\"volume\":\"498872\",\"rate\":\"77.03\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"70232\",\"rate\":\"10.84\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"35563\",\"rate\":\"5.49\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"17981\",\"rate\":\"2.78\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"9752\",\"rate\":\"1.51\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"15260\",\"rate\":\"2.36\",\"range\":\"GRT_THAN_100_SECS\"}]}}},{\"date\":\"2018/02/07\",\"summary\":{\"totalVolume\":\"679166\",\"success\":{\"volume\":\"633298\",\"rate\":\"93.25\"},\"failure\":[{\"volume\":\"8206\",\"rate\":\"1.21\",\"type\":\"TECHNICAL\"},{\"volume\":\"21081\",\"rate\":\"3.1\",\"type\":\"SITE\"},{\"volume\":\"16575\",\"rate\":\"2.44\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"15.84\",\"max\":\"3601.31\",\"breakups\":[{\"volume\":\"521700\",\"rate\":\"76.81\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"74639\",\"rate\":\"10.99\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"37389\",\"rate\":\"5.51\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"19232\",\"rate\":\"2.83\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"10217\",\"rate\":\"1.5\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"15989\",\"rate\":\"2.35\",\"range\":\"GRT_THAN_100_SECS\"}]}}},{\"date\":\"2018/02/06\",\"summary\":{\"totalVolume\":\"724147\",\"success\":{\"volume\":\"678315\",\"rate\":\"93.67\"},\"failure\":[{\"volume\":\"9256\",\"rate\":\"1.28\",\"type\":\"TECHNICAL\"},{\"volume\":\"21035\",\"rate\":\"2.9\",\"type\":\"SITE\"},{\"volume\":\"15530\",\"rate\":\"2.14\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"15.68\",\"max\":\"3600.27\",\"breakups\":[{\"volume\":\"562020\",\"rate\":\"77.61\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"72245\",\"rate\":\"9.98\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"40382\",\"rate\":\"5.58\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"21038\",\"rate\":\"2.91\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"11535\",\"rate\":\"1.59\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"16927\",\"rate\":\"2.34\",\"range\":\"GRT_THAN_100_SECS\"}]}}},{\"date\":\"2018/02/05\",\"summary\":{\"totalVolume\":\"743364\",\"success\":{\"volume\":\"700943\",\"rate\":\"94.29\"},\"failure\":[{\"volume\":\"8584\",\"rate\":\"1.15\",\"type\":\"TECHNICAL\"},{\"volume\":\"16925\",\"rate\":\"2.28\",\"type\":\"SITE\"},{\"volume\":\"16886\",\"rate\":\"2.27\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"17.23\",\"max\":\"3601.15\",\"breakups\":[{\"volume\":\"559089\",\"rate\":\"75.21\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"80507\",\"rate\":\"10.83\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"46058\",\"rate\":\"6.2\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"23954\",\"rate\":\"3.22\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"13417\",\"rate\":\"1.8\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"20339\",\"rate\":\"2.74\",\"range\":\"GRT_THAN_100_SECS\"}]}}},{\"date\":\"2018/02/04\",\"summary\":{\"totalVolume\":\"396473\",\"success\":{\"volume\":\"379708\",\"rate\":\"95.77\"},\"failure\":[{\"volume\":\"3778\",\"rate\":\"0.95\",\"type\":\"TECHNICAL\"},{\"volume\":\"5438\",\"rate\":\"1.37\",\"type\":\"SITE\"},{\"volume\":\"7542\",\"rate\":\"1.9\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"14.99\",\"max\":\"3601.06\",\"breakups\":[{\"volume\":\"307519\",\"rate\":\"77.56\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"40673\",\"rate\":\"10.26\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"23177\",\"rate\":\"5.85\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"11444\",\"rate\":\"2.89\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"6367\",\"rate\":\"1.61\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"7293\",\"rate\":\"1.84\",\"range\":\"GRT_THAN_100_SECS\"}]}}},{\"date\":\"2018/02/03\",\"summary\":{\"totalVolume\":\"428137\",\"success\":{\"volume\":\"396678\",\"rate\":\"92.65\"},\"failure\":[{\"volume\":\"6356\",\"rate\":\"1.48\",\"type\":\"TECHNICAL\"},{\"volume\":\"11526\",\"rate\":\"2.69\",\"type\":\"SITE\"},{\"volume\":\"13577\",\"rate\":\"3.17\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"20.28\",\"max\":\"3600.78\",\"breakups\":[{\"volume\":\"298323\",\"rate\":\"69.68\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"61190\",\"rate\":\"14.29\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"32249\",\"rate\":\"7.53\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"15250\",\"rate\":\"3.56\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"7877\",\"rate\":\"1.84\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"13248\",\"rate\":\"3.09\",\"range\":\"GRT_THAN_100_SECS\"}]}}},{\"date\":\"2018/02/02\",\"summary\":{\"totalVolume\":\"637122\",\"success\":{\"volume\":\"600919\",\"rate\":\"94.32\"},\"failure\":[{\"volume\":\"7814\",\"rate\":\"1.23\",\"type\":\"TECHNICAL\"},{\"volume\":\"12849\",\"rate\":\"2.02\",\"type\":\"SITE\"},{\"volume\":\"15537\",\"rate\":\"2.44\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"15.22\",\"max\":\"3600.71\",\"breakups\":[{\"volume\":\"496872\",\"rate\":\"77.99\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"69043\",\"rate\":\"10.84\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"31967\",\"rate\":\"5.02\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"15682\",\"rate\":\"2.46\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"8638\",\"rate\":\"1.36\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"14920\",\"rate\":\"2.34\",\"range\":\"GRT_THAN_100_SECS\"}]}}}],\"id\":\"10001372\",\"lastModified\":\"2018-02-16T04:00:00Z\"}]}}");
	}
	
	
	@Test
	public void cobRefreshStatsForHistoricLatencyTrendsTest() {
		this.filter.setGroupBy("COBRAND");
		this.filter.setTimeSlot("P15D");
		this.filter.setInclude("historic");
		this.filter.setCobrandId("10001372");
		this.filter.setProviderIds("");
		this.filter.setConsolidatedBy("");
		this.filter.setOffSetTimeSlot("");
		this.filter.setNumRecords("");
		this.filter.setTop("");
		this.filter.setCustomerId("10000004");
		this.filter.setReportType("REFRESH");
		String response = this.dashBoardController.cobRefreshStats("3099:fdskj",devAppIdHeader, this.filter);
		Assert.assertNotNull(response);
		Assert.assertTrue(!response.isEmpty(), "cobRefreshStatsForHistoricLatencyTrends is empty");
		Assert.assertTrue(!response.contains("errorCode"), "cobRefreshStatsForHistoricLatencyTrends is throwing some error - "+response);
		Assert.assertTrue(response.contains("\"id\":\"10001372\""), "cobRefreshStatsForHistoricLatencyTrends JSON is changed - "+response);
		Assert.assertTrue(!response.contains("\"breakups\""), "cobRefreshStatsForHistoricLatencyTrends JSON is changed - "+response);
		Assert.assertEquals(response, "{\"refreshStats\":{\"refreshType\":\"REFRESH\",\"groupBy\":\"COBRAND\",\"info\":[{\"summary\":{\"totalVolume\":\"488661\",\"success\":{\"volume\":\"461026.0\",\"rate\":\"94.34\"},\"failure\":[{\"volume\":\"6783\",\"rate\":\"1.39\",\"type\":\"TECHNICAL\"},{\"volume\":\"7552\",\"rate\":\"1.55\",\"type\":\"SITE\"},{\"volume\":\"13298\",\"rate\":\"2.72\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"19.35\",\"max\":\"3601.43\"}},\"name\":\"restserver_BAC\",\"details\":[{\"date\":\"2018/02/15\",\"summary\":{\"totalVolume\":\"292095\",\"success\":{\"volume\":\"273117\",\"rate\":\"93.5\"},\"failure\":[{\"volume\":\"4619\",\"rate\":\"1.58\",\"type\":\"TECHNICAL\"},{\"volume\":\"5030\",\"rate\":\"1.72\",\"type\":\"SITE\"},{\"volume\":\"9325\",\"rate\":\"3.19\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"18.59\",\"max\":\"3601.43\"}}},{\"date\":\"2018/02/14\",\"summary\":{\"totalVolume\":\"670779\",\"success\":{\"volume\":\"640620\",\"rate\":\"95.5\"},\"failure\":[{\"volume\":\"7139\",\"rate\":\"1.06\",\"type\":\"TECHNICAL\"},{\"volume\":\"8046\",\"rate\":\"1.2\",\"type\":\"SITE\"},{\"volume\":\"14969\",\"rate\":\"2.23\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"16.79\",\"max\":\"3601.27\"}}},{\"date\":\"2018/02/13\",\"summary\":{\"totalVolume\":\"716377\",\"success\":{\"volume\":\"681417\",\"rate\":\"95.12\"},\"failure\":[{\"volume\":\"7867\",\"rate\":\"1.1\",\"type\":\"TECHNICAL\"},{\"volume\":\"12724\",\"rate\":\"1.78\",\"type\":\"SITE\"},{\"volume\":\"14352\",\"rate\":\"2.0\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"16.28\",\"max\":\"3603.53\"}}},{\"date\":\"2018/02/12\",\"summary\":{\"totalVolume\":\"744743\",\"success\":{\"volume\":\"705195\",\"rate\":\"94.69\"},\"failure\":[{\"volume\":\"8900\",\"rate\":\"1.2\",\"type\":\"TECHNICAL\"},{\"volume\":\"14226\",\"rate\":\"1.91\",\"type\":\"SITE\"},{\"volume\":\"16397\",\"rate\":\"2.2\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"17.55\",\"max\":\"3600.68\"}}},{\"date\":\"2018/02/11\",\"summary\":{\"totalVolume\":\"409904\",\"success\":{\"volume\":\"389450\",\"rate\":\"95.01\"},\"failure\":[{\"volume\":\"5345\",\"rate\":\"1.3\",\"type\":\"TECHNICAL\"},{\"volume\":\"6995\",\"rate\":\"1.71\",\"type\":\"SITE\"},{\"volume\":\"8106\",\"rate\":\"1.98\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"17.21\",\"max\":\"3600.48\"}}},{\"date\":\"2018/02/10\",\"summary\":{\"totalVolume\":\"462243\",\"success\":{\"volume\":\"421899\",\"rate\":\"91.27\"},\"failure\":[{\"volume\":\"8350\",\"rate\":\"1.81\",\"type\":\"TECHNICAL\"},{\"volume\":\"19036\",\"rate\":\"4.12\",\"type\":\"SITE\"},{\"volume\":\"12958\",\"rate\":\"2.8\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"21.81\",\"max\":\"3601.10\"}}},{\"date\":\"2018/02/09\",\"summary\":{\"totalVolume\":\"639863\",\"success\":{\"volume\":\"603380\",\"rate\":\"94.3\"},\"failure\":[{\"volume\":\"9099\",\"rate\":\"1.42\",\"type\":\"TECHNICAL\"},{\"volume\":\"12355\",\"rate\":\"1.93\",\"type\":\"SITE\"},{\"volume\":\"15027\",\"rate\":\"2.35\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"16.02\",\"max\":\"3600.59\"}}},{\"date\":\"2018/02/08\",\"summary\":{\"totalVolume\":\"647660\",\"success\":{\"volume\":\"607304\",\"rate\":\"93.77\"},\"failure\":[{\"volume\":\"10355\",\"rate\":\"1.6\",\"type\":\"TECHNICAL\"},{\"volume\":\"14829\",\"rate\":\"2.29\",\"type\":\"SITE\"},{\"volume\":\"15167\",\"rate\":\"2.34\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"15.73\",\"max\":\"3600.50\"}}},{\"date\":\"2018/02/07\",\"summary\":{\"totalVolume\":\"679166\",\"success\":{\"volume\":\"633298\",\"rate\":\"93.25\"},\"failure\":[{\"volume\":\"8206\",\"rate\":\"1.21\",\"type\":\"TECHNICAL\"},{\"volume\":\"21081\",\"rate\":\"3.1\",\"type\":\"SITE\"},{\"volume\":\"16575\",\"rate\":\"2.44\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"15.84\",\"max\":\"3601.31\"}}},{\"date\":\"2018/02/06\",\"summary\":{\"totalVolume\":\"724147\",\"success\":{\"volume\":\"678315\",\"rate\":\"93.67\"},\"failure\":[{\"volume\":\"9256\",\"rate\":\"1.28\",\"type\":\"TECHNICAL\"},{\"volume\":\"21035\",\"rate\":\"2.9\",\"type\":\"SITE\"},{\"volume\":\"15530\",\"rate\":\"2.14\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"15.68\",\"max\":\"3600.27\"}}},{\"date\":\"2018/02/05\",\"summary\":{\"totalVolume\":\"743364\",\"success\":{\"volume\":\"700943\",\"rate\":\"94.29\"},\"failure\":[{\"volume\":\"8584\",\"rate\":\"1.15\",\"type\":\"TECHNICAL\"},{\"volume\":\"16925\",\"rate\":\"2.28\",\"type\":\"SITE\"},{\"volume\":\"16886\",\"rate\":\"2.27\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"17.23\",\"max\":\"3601.15\"}}},{\"date\":\"2018/02/04\",\"summary\":{\"totalVolume\":\"396473\",\"success\":{\"volume\":\"379708\",\"rate\":\"95.77\"},\"failure\":[{\"volume\":\"3778\",\"rate\":\"0.95\",\"type\":\"TECHNICAL\"},{\"volume\":\"5438\",\"rate\":\"1.37\",\"type\":\"SITE\"},{\"volume\":\"7542\",\"rate\":\"1.9\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"14.99\",\"max\":\"3601.06\"}}},{\"date\":\"2018/02/03\",\"summary\":{\"totalVolume\":\"428137\",\"success\":{\"volume\":\"396678\",\"rate\":\"92.65\"},\"failure\":[{\"volume\":\"6356\",\"rate\":\"1.48\",\"type\":\"TECHNICAL\"},{\"volume\":\"11526\",\"rate\":\"2.69\",\"type\":\"SITE\"},{\"volume\":\"13577\",\"rate\":\"3.17\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"20.28\",\"max\":\"3600.78\"}}},{\"date\":\"2018/02/02\",\"summary\":{\"totalVolume\":\"637122\",\"success\":{\"volume\":\"600919\",\"rate\":\"94.32\"},\"failure\":[{\"volume\":\"7814\",\"rate\":\"1.23\",\"type\":\"TECHNICAL\"},{\"volume\":\"12849\",\"rate\":\"2.02\",\"type\":\"SITE\"},{\"volume\":\"15537\",\"rate\":\"2.44\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"15.22\",\"max\":\"3600.71\"}}}],\"id\":\"10001372\",\"lastModified\":\"2018-02-16T04:00:00Z\"}]}}");
	}

	@Test
	public void cobRefreshStatsForLatencyBreakupTest() {
		this.filter.setGroupBy("COBRAND");
		this.filter.setTimeSlot("PT12H");
		this.filter.setInclude("latencyBreakup");
		this.filter.setCobrandId("10001372");
		this.filter.setOffSetTimeSlot("");
		this.filter.setConsolidatedBy("");
		this.filter.setProviderIds("");
		this.filter.setNumRecords("");
		this.filter.setTop("");
		this.filter.setCustomerId("10000004");
		this.filter.setReportType("REFRESH");
		String response = this.dashBoardController.cobRefreshStats("3099:fdskj",devAppIdHeader, this.filter);
		Assert.assertNotNull(response);
		Assert.assertTrue(!response.isEmpty(), "cobRefreshStatsForHistoricLatencyTrends is empty");
		Assert.assertTrue(!response.contains("errorCode"), "cobRefreshStatsForHistoricLatencyTrends is throwing some error - "+response);
		Assert.assertTrue(response.contains("\"id\":\"10001372\""), "cobRefreshStatsForHistoricLatencyTrends JSON is changed - "+response);
		Assert.assertTrue(response.contains("\"breakups\""), "cobRefreshStatsForHistoricLatencyTrends JSON is changed - "+response);
		Assert.assertTrue(!response.contains("\"details\""), "cobRefreshStatsForHistoricLatencyTrends JSON is changed - "+response);
		Assert.assertEquals(response, "{\"refreshStats\":{\"refreshType\":\"REFRESH\",\"groupBy\":\"COBRAND\",\"info\":[{\"summary\":{\"totalVolume\":\"317376\",\"success\":{\"volume\":\"305820.0\",\"rate\":\"96.36\"},\"failure\":[{\"volume\":\"2809\",\"rate\":\"0.89\",\"type\":\"TECHNICAL\"},{\"volume\":\"3143\",\"rate\":\"0.99\",\"type\":\"SITE\"},{\"volume\":\"5594\",\"rate\":\"1.76\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"20.8\",\"max\":\"3601.19\",\"breakups\":[{\"volume\":\"232571\",\"rate\":\"73.28\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"30038\",\"rate\":\"9.46\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"21215\",\"rate\":\"6.68\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"12629\",\"rate\":\"3.98\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"8257\",\"rate\":\"2.6\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"12666\",\"rate\":\"3.99\",\"range\":\"GRT_THAN_100_SECS\"}]}},\"name\":\"restserver_BAC\",\"id\":\"10001372\",\"lastModified\":\"2018-03-06T04:00:00Z\"}]}}");
	}
	
	@Test
	public void siteRefreshStatsTest() {
		this.filter.setGroupBy("PROVIDER");
		this.filter.setCobrandId("10001372");
		this.filter.setTimeSlot("PT12H");
		this.filter.setInclude("container");
		this.filter.setProviderIds("5");
		this.filter.setConsolidatedBy("");
		this.filter.setOffSetTimeSlot("");
		this.filter.setNumRecords("");
		this.filter.setTop("");
		this.filter.setCustomerId("10000004");
		this.filter.setReportType("REFRESH");
		String response = this.dashBoardController.cobRefreshStats("3099:fdskj",devAppIdHeader, this.filter);
		Assert.assertNotNull(response);
		Assert.assertTrue(!response.isEmpty(), "siteRefreshStats is empty");
		Assert.assertTrue(!response.contains("errorCode"), "siteRefreshStats is throwing some error - "+response);
		Assert.assertTrue(response.contains("\"id\":\"5\""), "siteRefreshStats JSON is changed - "+response);
		Assert.assertTrue(response.contains("\"containerStats\""), "siteRefreshStats JSON is changed - "+response);
		Assert.assertTrue(!response.contains("\"details\""), "siteRefreshStats JSON is changed - "+response);
		Assert.assertEquals(response, "{\"refreshStats\":{\"orderBy\":\"VOLUME\",\"refreshType\":\"REFRESH\",\"groupBy\":\"PROVIDER\",\"info\":[{\"summary\":{\"totalVolume\":\"4801\",\"success\":{\"volume\":\"4630\",\"rate\":\"96.44\"},\"failure\":[{\"volume\":\"10\",\"rate\":\"0.21\",\"type\":\"TECHNICAL\"},{\"volume\":\"125\",\"rate\":\"2.6\",\"type\":\"SITE\"},{\"volume\":\"36\",\"rate\":\"0.75\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"31.91\",\"max\":\"0.0\"},\"containerStats\":[{\"container\":\"loans\",\"totalVolume\":\"169\",\"success\":{\"volume\":\"159\",\"rate\":\"94.08\"},\"failure\":[{\"volume\":\"1\",\"rate\":\"0.59\",\"type\":\"TECHNICAL\"},{\"volume\":\"7\",\"rate\":\"4.14\",\"type\":\"SITE\"},{\"volume\":\"2\",\"rate\":\"1.18\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"23.0\",\"max\":\"0.0\"},\"name\":\"Wells Fargo - Loan\",\"id\":\"4594\"},{\"container\":\"bill_payment\",\"totalVolume\":\"8\",\"success\":{\"volume\":\"7\",\"rate\":\"87.5\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"1\",\"rate\":\"12.5\",\"type\":\"SITE\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"33.68\",\"max\":\"0.0\"},\"name\":\"Wells Fargo - Bill Pay\",\"id\":\"4646\"},{\"container\":\"mortgage\",\"totalVolume\":\"1344\",\"success\":{\"volume\":\"1302\",\"rate\":\"96.88\"},\"failure\":[{\"volume\":\"2\",\"rate\":\"0.15\",\"type\":\"TECHNICAL\"},{\"volume\":\"33\",\"rate\":\"2.46\",\"type\":\"SITE\"},{\"volume\":\"7\",\"rate\":\"0.52\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"26.23\",\"max\":\"0.0\"},\"name\":\"Wells Fargo - Mortgage\",\"id\":\"3797\"},{\"container\":\"credits\",\"totalVolume\":\"1111\",\"success\":{\"volume\":\"1072\",\"rate\":\"96.49\"},\"failure\":[{\"volume\":\"2\",\"rate\":\"0.18\",\"type\":\"TECHNICAL\"},{\"volume\":\"28\",\"rate\":\"2.52\",\"type\":\"SITE\"},{\"volume\":\"9\",\"rate\":\"0.81\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"19.59\",\"max\":\"0.0\"},\"name\":\"Wells Fargo - Credit Card\",\"id\":\"982\"},{\"container\":\"bank\",\"totalVolume\":\"1756\",\"success\":{\"volume\":\"1700\",\"rate\":\"96.81\"},\"failure\":[{\"volume\":\"5\",\"rate\":\"0.28\",\"type\":\"TECHNICAL\"},{\"volume\":\"36\",\"rate\":\"2.05\",\"type\":\"SITE\"},{\"volume\":\"15\",\"rate\":\"0.85\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"39.55\",\"max\":\"0.0\"},\"name\":\"Wells Fargo - Bank\",\"id\":\"5\"},{\"container\":\"stocks\",\"totalVolume\":\"413\",\"success\":{\"volume\":\"390\",\"rate\":\"94.43\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"20\",\"rate\":\"4.84\",\"type\":\"SITE\"},{\"volume\":\"3\",\"rate\":\"0.73\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"54.66\",\"max\":\"0.0\"},\"name\":\"Wells Fargo - Investments\",\"id\":\"10862\"}]},\"name\":\"Wells Fargo\",\"id\":\"5\",\"lastModified\":\"2018-03-06T04:00:00Z\"}]}}");
	}

	
	@Test
	public void siteRefreshStatsComparisonTest() {
		this.filter.setGroupBy("PROVIDER");
		this.filter.setCobrandId("10001372");
		this.filter.setTimeSlot("PT24H");
		this.filter.setInclude("container");
		this.filter.setProviderIds("5");
		this.filter.setConsolidatedBy("");
		this.filter.setOffSetTimeSlot("PT24H");
		this.filter.setNumRecords("");
		this.filter.setTop("");
		this.filter.setCustomerId("10000004");
		this.filter.setReportType("REFRESH");
		String response = this.dashBoardController.cobRefreshStats("3099:fdskj",devAppIdHeader, this.filter);
		Assert.assertNotNull(response);
		Assert.assertTrue(!response.isEmpty(), "siteRefreshStatsComparison is empty");
		Assert.assertTrue(!response.contains("errorCode"), "siteRefreshStatsComparison is throwing some error - "+response);
		Assert.assertTrue(response.contains("\"id\":\"5\""), "siteRefreshStatsComparison JSON is changed - "+response);
		Assert.assertTrue(response.contains("\"containerStats\""), "siteRefreshStatsComparison JSON is changed - "+response);
		Assert.assertTrue(!response.contains("\"details\""), "siteRefreshStatsComparison JSON is changed - "+response);
		Assert.assertEquals(response, "{\"refreshStats\":{\"orderBy\":\"VOLUME\",\"refreshType\":\"REFRESH\",\"groupBy\":\"PROVIDER\",\"info\":[{\"summary\":{\"totalVolume\":\"6444\",\"success\":{\"volume\":\"6203\",\"rate\":\"96.26\"},\"failure\":[{\"volume\":\"8\",\"rate\":\"0.12\",\"type\":\"TECHNICAL\"},{\"volume\":\"168\",\"rate\":\"2.61\",\"type\":\"SITE\"},{\"volume\":\"65\",\"rate\":\"1.01\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"23.14\",\"max\":\"0.0\"},\"containerStats\":[{\"container\":\"loans\",\"totalVolume\":\"268\",\"success\":{\"volume\":\"251\",\"rate\":\"93.66\"},\"failure\":[{\"volume\":\"5\",\"rate\":\"1.87\",\"type\":\"TECHNICAL\"},{\"volume\":\"6\",\"rate\":\"2.24\",\"type\":\"SITE\"},{\"volume\":\"6\",\"rate\":\"2.24\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"19.69\",\"max\":\"0.0\"},\"name\":\"Wells Fargo - Loan\",\"id\":\"4594\"},{\"container\":\"bill_payment\",\"totalVolume\":\"10\",\"success\":{\"volume\":\"10\",\"rate\":\"100.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"34.11\",\"max\":\"0.0\"},\"name\":\"Wells Fargo - Bill Pay\",\"id\":\"4646\"},{\"container\":\"mortgage\",\"totalVolume\":\"1909\",\"success\":{\"volume\":\"1855\",\"rate\":\"97.17\"},\"failure\":[{\"volume\":\"1\",\"rate\":\"0.05\",\"type\":\"TECHNICAL\"},{\"volume\":\"42\",\"rate\":\"2.2\",\"type\":\"SITE\"},{\"volume\":\"11\",\"rate\":\"0.58\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"18.3\",\"max\":\"0.0\"},\"name\":\"Wells Fargo - Mortgage\",\"id\":\"3797\"},{\"container\":\"credits\",\"totalVolume\":\"1455\",\"success\":{\"volume\":\"1400\",\"rate\":\"96.22\"},\"failure\":[{\"volume\":\"1\",\"rate\":\"0.07\",\"type\":\"TECHNICAL\"},{\"volume\":\"46\",\"rate\":\"3.16\",\"type\":\"SITE\"},{\"volume\":\"8\",\"rate\":\"0.55\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"16.7\",\"max\":\"0.0\"},\"name\":\"Wells Fargo - Credit Card\",\"id\":\"982\"},{\"container\":\"bank\",\"totalVolume\":\"2295\",\"success\":{\"volume\":\"2203\",\"rate\":\"95.99\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"57\",\"rate\":\"2.48\",\"type\":\"SITE\"},{\"volume\":\"35\",\"rate\":\"1.53\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"26.03\",\"max\":\"0.0\"},\"name\":\"Wells Fargo - Bank\",\"id\":\"5\"},{\"container\":\"stocks\",\"totalVolume\":\"507\",\"success\":{\"volume\":\"484\",\"rate\":\"95.46\"},\"failure\":[{\"volume\":\"1\",\"rate\":\"0.2\",\"type\":\"TECHNICAL\"},{\"volume\":\"17\",\"rate\":\"3.35\",\"type\":\"SITE\"},{\"volume\":\"5\",\"rate\":\"0.99\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"48.42\",\"max\":\"0.0\"},\"name\":\"Wells Fargo - Investments\",\"id\":\"10862\"}]},\"name\":\"Wells Fargo\",\"id\":\"5\",\"lastModified\":\"2018-03-06T04:00:00Z\"}]}}");
	}
	
	@Test
	public void siteHistoricRefreshStatsTest() {
		this.filter.setGroupBy("PROVIDER");
		this.filter.setCobrandId("10001372");
		this.filter.setTimeSlot("P7D");
		this.filter.setConsolidatedBy("");
		this.filter.setInclude("historic");
		this.filter.setProviderIds("5");
		this.filter.setNumRecords("");
		this.filter.setOffSetTimeSlot("");
		this.filter.setTop("");
		this.filter.setCustomerId("10000004");
		this.filter.setReportType("REFRESH");
		String response = this.dashBoardController.cobRefreshStats("3099:fdskj",devAppIdHeader, this.filter);
		Assert.assertNotNull(response);
		Assert.assertTrue(!response.isEmpty(), "siteHistoricRefreshStats is empty");
		Assert.assertTrue(!response.contains("errorCode"), "siteHistoricRefreshStats is throwing some error - "+response);
		Assert.assertTrue(response.contains("\"id\":\"5\""), "siteHistoricRefreshStats JSON is changed - "+response);
		Assert.assertTrue(!response.contains("\"containerStats\""), "siteHistoricRefreshStats JSON is changed - "+response);
		Assert.assertTrue(response.contains("\"details\""), "siteHistoricRefreshStats JSON is changed - "+response);
		Assert.assertEquals(response, "{\"refreshStats\":{\"orderBy\":\"VOLUME\",\"refreshType\":\"REFRESH\",\"groupBy\":\"PROVIDER\",\"info\":[{\"summary\":{\"totalVolume\":\"9565\",\"success\":{\"volume\":\"9197.0\",\"rate\":\"96.15\"},\"failure\":[{\"volume\":\"20\",\"rate\":\"0.21\",\"type\":\"TECHNICAL\"},{\"volume\":\"255\",\"rate\":\"2.67\",\"type\":\"SITE\"},{\"volume\":\"93\",\"rate\":\"0.97\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"27.29\",\"max\":\"0.0\"}},\"name\":\"Wells Fargo\",\"details\":[{\"date\":\"2018/03/05\",\"summary\":{\"totalVolume\":\"4619\",\"success\":{\"volume\":\"4432\",\"rate\":\"95.95\"},\"failure\":[{\"volume\":\"9\",\"rate\":\"0.19\",\"type\":\"TECHNICAL\"},{\"volume\":\"125\",\"rate\":\"2.71\",\"type\":\"SITE\"},{\"volume\":\"53\",\"rate\":\"1.15\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"22.59\",\"max\":\"347.48\"}}},{\"date\":\"2018/03/04\",\"summary\":{\"totalVolume\":\"6444\",\"success\":{\"volume\":\"6203\",\"rate\":\"96.26\"},\"failure\":[{\"volume\":\"8\",\"rate\":\"0.12\",\"type\":\"TECHNICAL\"},{\"volume\":\"168\",\"rate\":\"2.61\",\"type\":\"SITE\"},{\"volume\":\"65\",\"rate\":\"1.01\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"23.14\",\"max\":\"372.82\"}}},{\"date\":\"2018/03/03\",\"summary\":{\"totalVolume\":\"9985\",\"success\":{\"volume\":\"9733\",\"rate\":\"97.48\"},\"failure\":[{\"volume\":\"31\",\"rate\":\"0.31\",\"type\":\"TECHNICAL\"},{\"volume\":\"148\",\"rate\":\"1.48\",\"type\":\"SITE\"},{\"volume\":\"73\",\"rate\":\"0.73\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"25.37\",\"max\":\"330.98\"}}},{\"date\":\"2018/03/02\",\"summary\":{\"totalVolume\":\"9452\",\"success\":{\"volume\":\"9176\",\"rate\":\"97.08\"},\"failure\":[{\"volume\":\"21\",\"rate\":\"0.22\",\"type\":\"TECHNICAL\"},{\"volume\":\"169\",\"rate\":\"1.79\",\"type\":\"SITE\"},{\"volume\":\"86\",\"rate\":\"0.91\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"22.7\",\"max\":\"297.6\"}}},{\"date\":\"2018/03/01\",\"summary\":{\"totalVolume\":\"9977\",\"success\":{\"volume\":\"9699\",\"rate\":\"97.21\"},\"failure\":[{\"volume\":\"29\",\"rate\":\"0.29\",\"type\":\"TECHNICAL\"},{\"volume\":\"155\",\"rate\":\"1.55\",\"type\":\"SITE\"},{\"volume\":\"94\",\"rate\":\"0.94\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"23.51\",\"max\":\"3601.8\"}}},{\"date\":\"2018/02/28\",\"summary\":{\"totalVolume\":\"8884\",\"success\":{\"volume\":\"8641\",\"rate\":\"97.26\"},\"failure\":[{\"volume\":\"21\",\"rate\":\"0.24\",\"type\":\"TECHNICAL\"},{\"volume\":\"154\",\"rate\":\"1.73\",\"type\":\"SITE\"},{\"volume\":\"68\",\"rate\":\"0.77\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"23.29\",\"max\":\"305.81\"}}}],\"id\":\"5\",\"lastModified\":\"2018-03-05T20:00:00Z\"}]}}");
	}
	
	@Test
	public void siteCommonRefreshStatsTest() {
		this.filter.setGroupBy("PROVIDER");
		this.filter.setCobrandId("10001372");
		this.filter.setTimeSlot("P15D");
		this.filter.setConsolidatedBy("");
		this.filter.setInclude("container,historic");
		this.filter.setProviderIds("5");
		this.filter.setOffSetTimeSlot("");
		this.filter.setNumRecords("");
		this.filter.setTop("");
		this.filter.setCustomerId("10000004");
		this.filter.setReportType("REFRESH");
		String response = this.dashBoardController.cobRefreshStats("3099:fdskj",devAppIdHeader, this.filter);
		Assert.assertNotNull(response);
		Assert.assertTrue(!response.isEmpty(), "siteCommonRefreshStats is empty");
		Assert.assertTrue(!response.contains("errorCode"), "siteCommonRefreshStats is throwing some error - "+response);
		Assert.assertTrue(response.contains("\"id\":\"5\""), "siteCommonRefreshStats JSON is changed - "+response);
		Assert.assertTrue(response.contains("\"containerStats\""), "siteCommonRefreshStats JSON is changed - "+response);
		Assert.assertTrue(response.contains("\"details\""), "siteCommonRefreshStats JSON is changed - "+response);
		Assert.assertEquals(response, "{\"refreshStats\":{\"orderBy\":\"VOLUME\",\"refreshType\":\"REFRESH\",\"groupBy\":\"PROVIDER\",\"info\":[{\"summary\":{\"totalVolume\":\"9565\",\"success\":{\"volume\":\"9197\",\"rate\":\"96.15\"},\"failure\":[{\"volume\":\"20\",\"rate\":\"0.21\",\"type\":\"TECHNICAL\"},{\"volume\":\"255\",\"rate\":\"2.67\",\"type\":\"SITE\"},{\"volume\":\"93\",\"rate\":\"0.97\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"27.29\",\"max\":\"0.0\"},\"containerStats\":[{\"container\":\"loans\",\"totalVolume\":\"355\",\"success\":{\"volume\":\"330\",\"rate\":\"92.96\"},\"failure\":[{\"volume\":\"5\",\"rate\":\"1.41\",\"type\":\"TECHNICAL\"},{\"volume\":\"13\",\"rate\":\"3.66\",\"type\":\"SITE\"},{\"volume\":\"7\",\"rate\":\"1.97\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"21.07\",\"max\":\"0.0\"},\"name\":\"Wells Fargo - Loan\",\"id\":\"4594\"},{\"container\":\"bill_payment\",\"totalVolume\":\"13\",\"success\":{\"volume\":\"12\",\"rate\":\"92.31\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"1\",\"rate\":\"7.69\",\"type\":\"SITE\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"35.56\",\"max\":\"0.0\"},\"name\":\"Wells Fargo - Bill Pay\",\"id\":\"4646\"},{\"container\":\"mortgage\",\"totalVolume\":\"2869\",\"success\":{\"volume\":\"2786\",\"rate\":\"97.11\"},\"failure\":[{\"volume\":\"3\",\"rate\":\"0.1\",\"type\":\"TECHNICAL\"},{\"volume\":\"66\",\"rate\":\"2.3\",\"type\":\"SITE\"},{\"volume\":\"14\",\"rate\":\"0.49\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"22.12\",\"max\":\"0.0\"},\"name\":\"Wells Fargo - Mortgage\",\"id\":\"3797\"},{\"container\":\"credits\",\"totalVolume\":\"2149\",\"success\":{\"volume\":\"2058\",\"rate\":\"95.77\"},\"failure\":[{\"volume\":\"4\",\"rate\":\"0.19\",\"type\":\"TECHNICAL\"},{\"volume\":\"64\",\"rate\":\"2.98\",\"type\":\"SITE\"},{\"volume\":\"23\",\"rate\":\"1.07\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"18.13\",\"max\":\"0.0\"},\"name\":\"Wells Fargo - Credit Card\",\"id\":\"982\"},{\"container\":\"bank\",\"totalVolume\":\"3377\",\"success\":{\"volume\":\"3260\",\"rate\":\"96.54\"},\"failure\":[{\"volume\":\"6\",\"rate\":\"0.18\",\"type\":\"TECHNICAL\"},{\"volume\":\"71\",\"rate\":\"2.1\",\"type\":\"SITE\"},{\"volume\":\"40\",\"rate\":\"1.18\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"32.49\",\"max\":\"0.0\"},\"name\":\"Wells Fargo - Bank\",\"id\":\"5\"},{\"container\":\"stocks\",\"totalVolume\":\"802\",\"success\":{\"volume\":\"751\",\"rate\":\"93.64\"},\"failure\":[{\"volume\":\"2\",\"rate\":\"0.25\",\"type\":\"TECHNICAL\"},{\"volume\":\"40\",\"rate\":\"4.99\",\"type\":\"SITE\"},{\"volume\":\"9\",\"rate\":\"1.12\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"51.05\",\"max\":\"0.0\"},\"name\":\"Wells Fargo - Investments\",\"id\":\"10862\"}]},\"name\":\"Wells Fargo\",\"details\":[{\"date\":\"2018/03/05\",\"summary\":{\"totalVolume\":\"4619\",\"success\":{\"volume\":\"4432\",\"rate\":\"95.95\"},\"failure\":[{\"volume\":\"9\",\"rate\":\"0.19\",\"type\":\"TECHNICAL\"},{\"volume\":\"125\",\"rate\":\"2.71\",\"type\":\"SITE\"},{\"volume\":\"53\",\"rate\":\"1.15\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"22.59\",\"max\":\"347.48\"},\"containerStats\":[{\"container\":\"stocks\",\"totalVolume\":\"375\",\"success\":{\"volume\":\"348\",\"rate\":\"92.8\"},\"failure\":[{\"volume\":\"2\",\"rate\":\"0.53\",\"type\":\"TECHNICAL\"},{\"volume\":\"19\",\"rate\":\"5.07\",\"type\":\"SITE\"},{\"volume\":\"6\",\"rate\":\"1.6\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"47.32\",\"max\":\"347.48\"},\"name\":\"Wells Fargo - Investments\",\"id\":\"10862\"},{\"container\":\"mortgage\",\"totalVolume\":\"1484\",\"success\":{\"volume\":\"1445\",\"rate\":\"97.37\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"32\",\"rate\":\"2.16\",\"type\":\"SITE\"},{\"volume\":\"7\",\"rate\":\"0.47\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.05\",\"avg\":\"18.42\",\"max\":\"207.12\"},\"name\":\"Wells Fargo - Mortgage\",\"id\":\"3797\"},{\"container\":\"loans\",\"totalVolume\":\"181\",\"success\":{\"volume\":\"167\",\"rate\":\"92.27\"},\"failure\":[{\"volume\":\"4\",\"rate\":\"2.21\",\"type\":\"TECHNICAL\"},{\"volume\":\"6\",\"rate\":\"3.31\",\"type\":\"SITE\"},{\"volume\":\"4\",\"rate\":\"2.21\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"2.45\",\"avg\":\"19.51\",\"max\":\"154.00\"},\"name\":\"Wells Fargo - Loan\",\"id\":\"4594\"},{\"container\":\"bill_payment\",\"totalVolume\":\"5\",\"success\":{\"volume\":\"5\",\"rate\":\"100.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"31.84\",\"avg\":\"38.57\",\"max\":\"46.93\"},\"name\":\"Wells Fargo - Bill Pay\",\"id\":\"4646\"},{\"container\":\"bank\",\"totalVolume\":\"1571\",\"success\":{\"volume\":\"1513\",\"rate\":\"96.31\"},\"failure\":[{\"volume\":\"1\",\"rate\":\"0.06\",\"type\":\"TECHNICAL\"},{\"volume\":\"34\",\"rate\":\"2.16\",\"type\":\"SITE\"},{\"volume\":\"23\",\"rate\":\"1.46\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"24.75\",\"max\":\"155.81\"},\"name\":\"Wells Fargo - Bank\",\"id\":\"5\"},{\"container\":\"credits\",\"totalVolume\":\"1003\",\"success\":{\"volume\":\"954\",\"rate\":\"95.11\"},\"failure\":[{\"volume\":\"2\",\"rate\":\"0.2\",\"type\":\"TECHNICAL\"},{\"volume\":\"34\",\"rate\":\"3.39\",\"type\":\"SITE\"},{\"volume\":\"13\",\"rate\":\"1.3\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.05\",\"avg\":\"16.61\",\"max\":\"153.81\"},\"name\":\"Wells Fargo - Credit Card\",\"id\":\"982\"}]}},{\"date\":\"2018/03/04\",\"summary\":{\"totalVolume\":\"6444\",\"success\":{\"volume\":\"6203\",\"rate\":\"96.26\"},\"failure\":[{\"volume\":\"8\",\"rate\":\"0.12\",\"type\":\"TECHNICAL\"},{\"volume\":\"168\",\"rate\":\"2.61\",\"type\":\"SITE\"},{\"volume\":\"65\",\"rate\":\"1.01\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"23.14\",\"max\":\"372.82\"},\"containerStats\":[{\"container\":\"stocks\",\"totalVolume\":\"507\",\"success\":{\"volume\":\"484\",\"rate\":\"95.46\"},\"failure\":[{\"volume\":\"1\",\"rate\":\"0.2\",\"type\":\"TECHNICAL\"},{\"volume\":\"17\",\"rate\":\"3.35\",\"type\":\"SITE\"},{\"volume\":\"5\",\"rate\":\"0.99\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.04\",\"avg\":\"48.41\",\"max\":\"372.82\"},\"name\":\"Wells Fargo - Investments\",\"id\":\"10862\"},{\"container\":\"mortgage\",\"totalVolume\":\"1909\",\"success\":{\"volume\":\"1855\",\"rate\":\"97.17\"},\"failure\":[{\"volume\":\"1\",\"rate\":\"0.05\",\"type\":\"TECHNICAL\"},{\"volume\":\"42\",\"rate\":\"2.2\",\"type\":\"SITE\"},{\"volume\":\"11\",\"rate\":\"0.58\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.05\",\"avg\":\"18.30\",\"max\":\"157.64\"},\"name\":\"Wells Fargo - Mortgage\",\"id\":\"3797\"},{\"container\":\"loans\",\"totalVolume\":\"268\",\"success\":{\"volume\":\"251\",\"rate\":\"93.66\"},\"failure\":[{\"volume\":\"5\",\"rate\":\"1.87\",\"type\":\"TECHNICAL\"},{\"volume\":\"6\",\"rate\":\"2.24\",\"type\":\"SITE\"},{\"volume\":\"6\",\"rate\":\"2.24\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.04\",\"avg\":\"19.69\",\"max\":\"57.55\"},\"name\":\"Wells Fargo - Loan\",\"id\":\"4594\"},{\"container\":\"bill_payment\",\"totalVolume\":\"10\",\"success\":{\"volume\":\"10\",\"rate\":\"100.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"27.57\",\"avg\":\"34.11\",\"max\":\"43.24\"},\"name\":\"Wells Fargo - Bill Pay\",\"id\":\"4646\"},{\"container\":\"bank\",\"totalVolume\":\"2295\",\"success\":{\"volume\":\"2203\",\"rate\":\"95.99\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"57\",\"rate\":\"2.48\",\"type\":\"SITE\"},{\"volume\":\"35\",\"rate\":\"1.53\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"26.02\",\"max\":\"188.28\"},\"name\":\"Wells Fargo - Bank\",\"id\":\"5\"},{\"container\":\"credits\",\"totalVolume\":\"1455\",\"success\":{\"volume\":\"1400\",\"rate\":\"96.22\"},\"failure\":[{\"volume\":\"1\",\"rate\":\"0.07\",\"type\":\"TECHNICAL\"},{\"volume\":\"46\",\"rate\":\"3.16\",\"type\":\"SITE\"},{\"volume\":\"8\",\"rate\":\"0.55\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.05\",\"avg\":\"16.69\",\"max\":\"164.71\"},\"name\":\"Wells Fargo - Credit Card\",\"id\":\"982\"}]}},{\"date\":\"2018/03/03\",\"summary\":{\"totalVolume\":\"9985\",\"success\":{\"volume\":\"9733\",\"rate\":\"97.48\"},\"failure\":[{\"volume\":\"31\",\"rate\":\"0.31\",\"type\":\"TECHNICAL\"},{\"volume\":\"148\",\"rate\":\"1.48\",\"type\":\"SITE\"},{\"volume\":\"73\",\"rate\":\"0.73\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"25.37\",\"max\":\"330.98\"},\"containerStats\":[{\"container\":\"stocks\",\"totalVolume\":\"1016\",\"success\":{\"volume\":\"960\",\"rate\":\"94.49\"},\"failure\":[{\"volume\":\"2\",\"rate\":\"0.2\",\"type\":\"TECHNICAL\"},{\"volume\":\"34\",\"rate\":\"3.35\",\"type\":\"SITE\"},{\"volume\":\"20\",\"rate\":\"1.97\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.04\",\"avg\":\"48.81\",\"max\":\"330.98\"},\"name\":\"Wells Fargo - Investments\",\"id\":\"10862\"},{\"container\":\"mortgage\",\"totalVolume\":\"2056\",\"success\":{\"volume\":\"1976\",\"rate\":\"96.11\"},\"failure\":[{\"volume\":\"9\",\"rate\":\"0.44\",\"type\":\"TECHNICAL\"},{\"volume\":\"64\",\"rate\":\"3.11\",\"type\":\"SITE\"},{\"volume\":\"7\",\"rate\":\"0.34\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.04\",\"avg\":\"19.98\",\"max\":\"183.05\"},\"name\":\"Wells Fargo - Mortgage\",\"id\":\"3797\"},{\"container\":\"loans\",\"totalVolume\":\"292\",\"success\":{\"volume\":\"271\",\"rate\":\"92.81\"},\"failure\":[{\"volume\":\"14\",\"rate\":\"4.79\",\"type\":\"TECHNICAL\"},{\"volume\":\"4\",\"rate\":\"1.37\",\"type\":\"SITE\"},{\"volume\":\"3\",\"rate\":\"1.03\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.41\",\"avg\":\"21.85\",\"max\":\"65.67\"},\"name\":\"Wells Fargo - Loan\",\"id\":\"4594\"},{\"container\":\"bill_payment\",\"totalVolume\":\"13\",\"success\":{\"volume\":\"13\",\"rate\":\"100.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"28.36\",\"avg\":\"35.91\",\"max\":\"53.79\"},\"name\":\"Wells Fargo - Bill Pay\",\"id\":\"4646\"},{\"container\":\"bank\",\"totalVolume\":\"4064\",\"success\":{\"volume\":\"4007\",\"rate\":\"98.6\"},\"failure\":[{\"volume\":\"2\",\"rate\":\"0.05\",\"type\":\"TECHNICAL\"},{\"volume\":\"21\",\"rate\":\"0.52\",\"type\":\"SITE\"},{\"volume\":\"34\",\"rate\":\"0.84\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"27.61\",\"max\":\"326.07\"},\"name\":\"Wells Fargo - Bank\",\"id\":\"5\"},{\"container\":\"credits\",\"totalVolume\":\"2544\",\"success\":{\"volume\":\"2506\",\"rate\":\"98.51\"},\"failure\":[{\"volume\":\"4\",\"rate\":\"0.16\",\"type\":\"TECHNICAL\"},{\"volume\":\"25\",\"rate\":\"0.98\",\"type\":\"SITE\"},{\"volume\":\"9\",\"rate\":\"0.35\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.04\",\"avg\":\"17.13\",\"max\":\"174.67\"},\"name\":\"Wells Fargo - Credit Card\",\"id\":\"982\"}]}},{\"date\":\"2018/03/02\",\"summary\":{\"totalVolume\":\"9452\",\"success\":{\"volume\":\"9176\",\"rate\":\"97.08\"},\"failure\":[{\"volume\":\"21\",\"rate\":\"0.22\",\"type\":\"TECHNICAL\"},{\"volume\":\"169\",\"rate\":\"1.79\",\"type\":\"SITE\"},{\"volume\":\"86\",\"rate\":\"0.91\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"22.7\",\"max\":\"297.6\"},\"containerStats\":[{\"container\":\"stocks\",\"totalVolume\":\"944\",\"success\":{\"volume\":\"902\",\"rate\":\"95.55\"},\"failure\":[{\"volume\":\"5\",\"rate\":\"0.53\",\"type\":\"TECHNICAL\"},{\"volume\":\"26\",\"rate\":\"2.75\",\"type\":\"SITE\"},{\"volume\":\"11\",\"rate\":\"1.17\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.04\",\"avg\":\"45.43\",\"max\":\"297.60\"},\"name\":\"Wells Fargo - Investments\",\"id\":\"10862\"},{\"container\":\"mortgage\",\"totalVolume\":\"2161\",\"success\":{\"volume\":\"2105\",\"rate\":\"97.41\"},\"failure\":[{\"volume\":\"2\",\"rate\":\"0.09\",\"type\":\"TECHNICAL\"},{\"volume\":\"44\",\"rate\":\"2.04\",\"type\":\"SITE\"},{\"volume\":\"10\",\"rate\":\"0.46\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.04\",\"avg\":\"17.80\",\"max\":\"150.47\"},\"name\":\"Wells Fargo - Mortgage\",\"id\":\"3797\"},{\"container\":\"loans\",\"totalVolume\":\"282\",\"success\":{\"volume\":\"260\",\"rate\":\"92.2\"},\"failure\":[{\"volume\":\"8\",\"rate\":\"2.84\",\"type\":\"TECHNICAL\"},{\"volume\":\"5\",\"rate\":\"1.77\",\"type\":\"SITE\"},{\"volume\":\"9\",\"rate\":\"3.19\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.06\",\"avg\":\"18.06\",\"max\":\"53.41\"},\"name\":\"Wells Fargo - Loan\",\"id\":\"4594\"},{\"container\":\"bill_payment\",\"totalVolume\":\"15\",\"success\":{\"volume\":\"15\",\"rate\":\"100.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"26.60\",\"avg\":\"34.88\",\"max\":\"48.00\"},\"name\":\"Wells Fargo - Bill Pay\",\"id\":\"4646\"},{\"container\":\"bank\",\"totalVolume\":\"3608\",\"success\":{\"volume\":\"3521\",\"rate\":\"97.59\"},\"failure\":[{\"volume\":\"1\",\"rate\":\"0.03\",\"type\":\"TECHNICAL\"},{\"volume\":\"45\",\"rate\":\"1.25\",\"type\":\"SITE\"},{\"volume\":\"41\",\"rate\":\"1.14\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"24.56\",\"max\":\"199.93\"},\"name\":\"Wells Fargo - Bank\",\"id\":\"5\"},{\"container\":\"credits\",\"totalVolume\":\"2442\",\"success\":{\"volume\":\"2373\",\"rate\":\"97.17\"},\"failure\":[{\"volume\":\"5\",\"rate\":\"0.2\",\"type\":\"TECHNICAL\"},{\"volume\":\"49\",\"rate\":\"2.01\",\"type\":\"SITE\"},{\"volume\":\"15\",\"rate\":\"0.61\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.04\",\"avg\":\"15.97\",\"max\":\"172.06\"},\"name\":\"Wells Fargo - Credit Card\",\"id\":\"982\"}]}},{\"date\":\"2018/03/01\",\"summary\":{\"totalVolume\":\"9977\",\"success\":{\"volume\":\"9699\",\"rate\":\"97.21\"},\"failure\":[{\"volume\":\"29\",\"rate\":\"0.29\",\"type\":\"TECHNICAL\"},{\"volume\":\"155\",\"rate\":\"1.55\",\"type\":\"SITE\"},{\"volume\":\"94\",\"rate\":\"0.94\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"23.51\",\"max\":\"3601.8\"},\"containerStats\":[{\"container\":\"stocks\",\"totalVolume\":\"943\",\"success\":{\"volume\":\"908\",\"rate\":\"96.29\"},\"failure\":[{\"volume\":\"3\",\"rate\":\"0.32\",\"type\":\"TECHNICAL\"},{\"volume\":\"23\",\"rate\":\"2.44\",\"type\":\"SITE\"},{\"volume\":\"9\",\"rate\":\"0.95\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"45.50\",\"max\":\"357.01\"},\"name\":\"Wells Fargo - Investments\",\"id\":\"10862\"},{\"container\":\"mortgage\",\"totalVolume\":\"2492\",\"success\":{\"volume\":\"2411\",\"rate\":\"96.75\"},\"failure\":[{\"volume\":\"5\",\"rate\":\"0.2\",\"type\":\"TECHNICAL\"},{\"volume\":\"59\",\"rate\":\"2.37\",\"type\":\"SITE\"},{\"volume\":\"17\",\"rate\":\"0.68\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.04\",\"avg\":\"19.92\",\"max\":\"3601.80\"},\"name\":\"Wells Fargo - Mortgage\",\"id\":\"3797\"},{\"container\":\"loans\",\"totalVolume\":\"310\",\"success\":{\"volume\":\"293\",\"rate\":\"94.52\"},\"failure\":[{\"volume\":\"9\",\"rate\":\"2.9\",\"type\":\"TECHNICAL\"},{\"volume\":\"2\",\"rate\":\"0.65\",\"type\":\"SITE\"},{\"volume\":\"6\",\"rate\":\"1.94\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.05\",\"avg\":\"19.95\",\"max\":\"54.47\"},\"name\":\"Wells Fargo - Loan\",\"id\":\"4594\"},{\"container\":\"bill_payment\",\"totalVolume\":\"19\",\"success\":{\"volume\":\"18\",\"rate\":\"94.74\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"1\",\"rate\":\"5.26\",\"type\":\"SITE\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"8.34\",\"avg\":\"34.26\",\"max\":\"48.90\"},\"name\":\"Wells Fargo - Bill Pay\",\"id\":\"4646\"},{\"container\":\"bank\",\"totalVolume\":\"3761\",\"success\":{\"volume\":\"3686\",\"rate\":\"98.01\"},\"failure\":[{\"volume\":\"5\",\"rate\":\"0.13\",\"type\":\"TECHNICAL\"},{\"volume\":\"25\",\"rate\":\"0.66\",\"type\":\"SITE\"},{\"volume\":\"45\",\"rate\":\"1.2\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"25.22\",\"max\":\"206.18\"},\"name\":\"Wells Fargo - Bank\",\"id\":\"5\"},{\"container\":\"credits\",\"totalVolume\":\"2452\",\"success\":{\"volume\":\"2383\",\"rate\":\"97.19\"},\"failure\":[{\"volume\":\"7\",\"rate\":\"0.29\",\"type\":\"TECHNICAL\"},{\"volume\":\"45\",\"rate\":\"1.84\",\"type\":\"SITE\"},{\"volume\":\"17\",\"rate\":\"0.69\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.04\",\"avg\":\"16.44\",\"max\":\"174.35\"},\"name\":\"Wells Fargo - Credit Card\",\"id\":\"982\"}]}},{\"date\":\"2018/02/28\",\"summary\":{\"totalVolume\":\"8884\",\"success\":{\"volume\":\"8641\",\"rate\":\"97.26\"},\"failure\":[{\"volume\":\"21\",\"rate\":\"0.24\",\"type\":\"TECHNICAL\"},{\"volume\":\"154\",\"rate\":\"1.73\",\"type\":\"SITE\"},{\"volume\":\"68\",\"rate\":\"0.77\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"23.29\",\"max\":\"305.81\"},\"containerStats\":[{\"container\":\"stocks\",\"totalVolume\":\"892\",\"success\":{\"volume\":\"855\",\"rate\":\"95.85\"},\"failure\":[{\"volume\":\"3\",\"rate\":\"0.34\",\"type\":\"TECHNICAL\"},{\"volume\":\"23\",\"rate\":\"2.58\",\"type\":\"SITE\"},{\"volume\":\"11\",\"rate\":\"1.23\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.05\",\"avg\":\"49.34\",\"max\":\"305.81\"},\"name\":\"Wells Fargo - Investments\",\"id\":\"10862\"},{\"container\":\"mortgage\",\"totalVolume\":\"2120\",\"success\":{\"volume\":\"2044\",\"rate\":\"96.42\"},\"failure\":[{\"volume\":\"4\",\"rate\":\"0.19\",\"type\":\"TECHNICAL\"},{\"volume\":\"51\",\"rate\":\"2.41\",\"type\":\"SITE\"},{\"volume\":\"21\",\"rate\":\"0.99\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.04\",\"avg\":\"17.27\",\"max\":\"148.14\"},\"name\":\"Wells Fargo - Mortgage\",\"id\":\"3797\"},{\"container\":\"loans\",\"totalVolume\":\"312\",\"success\":{\"volume\":\"294\",\"rate\":\"94.23\"},\"failure\":[{\"volume\":\"11\",\"rate\":\"3.53\",\"type\":\"TECHNICAL\"},{\"volume\":\"5\",\"rate\":\"1.6\",\"type\":\"SITE\"},{\"volume\":\"2\",\"rate\":\"0.64\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.08\",\"avg\":\"19.72\",\"max\":\"159.99\"},\"name\":\"Wells Fargo - Loan\",\"id\":\"4594\"},{\"container\":\"bill_payment\",\"totalVolume\":\"16\",\"success\":{\"volume\":\"15\",\"rate\":\"93.75\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"1\",\"rate\":\"6.25\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"16.81\",\"avg\":\"32.01\",\"max\":\"45.47\"},\"name\":\"Wells Fargo - Bill Pay\",\"id\":\"4646\"},{\"container\":\"bank\",\"totalVolume\":\"3328\",\"success\":{\"volume\":\"3267\",\"rate\":\"98.17\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"39\",\"rate\":\"1.17\",\"type\":\"SITE\"},{\"volume\":\"22\",\"rate\":\"0.66\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"25.27\",\"max\":\"172.35\"},\"name\":\"Wells Fargo - Bank\",\"id\":\"5\"},{\"container\":\"credits\",\"totalVolume\":\"2216\",\"success\":{\"volume\":\"2166\",\"rate\":\"97.74\"},\"failure\":[{\"volume\":\"3\",\"rate\":\"0.14\",\"type\":\"TECHNICAL\"},{\"volume\":\"36\",\"rate\":\"1.62\",\"type\":\"SITE\"},{\"volume\":\"11\",\"rate\":\"0.5\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.05\",\"avg\":\"16.02\",\"max\":\"244.13\"},\"name\":\"Wells Fargo - Credit Card\",\"id\":\"982\"}]}},{\"date\":\"2018/02/27\",\"summary\":{\"totalVolume\":\"9554\",\"success\":{\"volume\":\"9275\",\"rate\":\"97.08\"},\"failure\":[{\"volume\":\"27\",\"rate\":\"0.28\",\"type\":\"TECHNICAL\"},{\"volume\":\"190\",\"rate\":\"1.99\",\"type\":\"SITE\"},{\"volume\":\"62\",\"rate\":\"0.65\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"22.96\",\"max\":\"418.62\"},\"containerStats\":[{\"container\":\"stocks\",\"totalVolume\":\"925\",\"success\":{\"volume\":\"889\",\"rate\":\"96.11\"},\"failure\":[{\"volume\":\"3\",\"rate\":\"0.32\",\"type\":\"TECHNICAL\"},{\"volume\":\"28\",\"rate\":\"3.03\",\"type\":\"SITE\"},{\"volume\":\"5\",\"rate\":\"0.54\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"45.64\",\"max\":\"418.62\"},\"name\":\"Wells Fargo - Investments\",\"id\":\"10862\"},{\"container\":\"mortgage\",\"totalVolume\":\"2446\",\"success\":{\"volume\":\"2377\",\"rate\":\"97.18\"},\"failure\":[{\"volume\":\"6\",\"rate\":\"0.25\",\"type\":\"TECHNICAL\"},{\"volume\":\"50\",\"rate\":\"2.04\",\"type\":\"SITE\"},{\"volume\":\"13\",\"rate\":\"0.53\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.05\",\"avg\":\"17.74\",\"max\":\"155.33\"},\"name\":\"Wells Fargo - Mortgage\",\"id\":\"3797\"},{\"container\":\"loans\",\"totalVolume\":\"310\",\"success\":{\"volume\":\"287\",\"rate\":\"92.58\"},\"failure\":[{\"volume\":\"9\",\"rate\":\"2.9\",\"type\":\"TECHNICAL\"},{\"volume\":\"5\",\"rate\":\"1.61\",\"type\":\"SITE\"},{\"volume\":\"9\",\"rate\":\"2.9\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.07\",\"avg\":\"21.03\",\"max\":\"160.05\"},\"name\":\"Wells Fargo - Loan\",\"id\":\"4594\"},{\"container\":\"bill_payment\",\"totalVolume\":\"8\",\"success\":{\"volume\":\"8\",\"rate\":\"100.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"26.89\",\"avg\":\"31.30\",\"max\":\"34.09\"},\"name\":\"Wells Fargo - Bill Pay\",\"id\":\"4646\"},{\"container\":\"bank\",\"totalVolume\":\"3565\",\"success\":{\"volume\":\"3479\",\"rate\":\"97.59\"},\"failure\":[{\"volume\":\"3\",\"rate\":\"0.08\",\"type\":\"TECHNICAL\"},{\"volume\":\"59\",\"rate\":\"1.65\",\"type\":\"SITE\"},{\"volume\":\"24\",\"rate\":\"0.67\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"24.92\",\"max\":\"248.97\"},\"name\":\"Wells Fargo - Bank\",\"id\":\"5\"},{\"container\":\"credits\",\"totalVolume\":\"2300\",\"success\":{\"volume\":\"2235\",\"rate\":\"97.17\"},\"failure\":[{\"volume\":\"6\",\"rate\":\"0.26\",\"type\":\"TECHNICAL\"},{\"volume\":\"48\",\"rate\":\"2.09\",\"type\":\"SITE\"},{\"volume\":\"11\",\"rate\":\"0.48\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.05\",\"avg\":\"16.58\",\"max\":\"145.61\"},\"name\":\"Wells Fargo - Credit Card\",\"id\":\"982\"}]}},{\"date\":\"2018/02/26\",\"summary\":{\"totalVolume\":\"12081\",\"success\":{\"volume\":\"11486\",\"rate\":\"95.07\"},\"failure\":[{\"volume\":\"42\",\"rate\":\"0.35\",\"type\":\"TECHNICAL\"},{\"volume\":\"272\",\"rate\":\"2.25\",\"type\":\"SITE\"},{\"volume\":\"281\",\"rate\":\"2.33\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"24.34\",\"max\":\"342.42\"},\"containerStats\":[{\"container\":\"stocks\",\"totalVolume\":\"1013\",\"success\":{\"volume\":\"950\",\"rate\":\"93.78\"},\"failure\":[{\"volume\":\"5\",\"rate\":\"0.49\",\"type\":\"TECHNICAL\"},{\"volume\":\"43\",\"rate\":\"4.24\",\"type\":\"SITE\"},{\"volume\":\"15\",\"rate\":\"1.48\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.04\",\"avg\":\"50.48\",\"max\":\"342.42\"},\"name\":\"Wells Fargo - Investments\",\"id\":\"10862\"},{\"container\":\"mortgage\",\"totalVolume\":\"3514\",\"success\":{\"volume\":\"3426\",\"rate\":\"97.5\"},\"failure\":[{\"volume\":\"3\",\"rate\":\"0.09\",\"type\":\"TECHNICAL\"},{\"volume\":\"71\",\"rate\":\"2.02\",\"type\":\"SITE\"},{\"volume\":\"14\",\"rate\":\"0.4\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.05\",\"avg\":\"19.42\",\"max\":\"166.09\"},\"name\":\"Wells Fargo - Mortgage\",\"id\":\"3797\"},{\"container\":\"loans\",\"totalVolume\":\"438\",\"success\":{\"volume\":\"402\",\"rate\":\"91.78\"},\"failure\":[{\"volume\":\"11\",\"rate\":\"2.51\",\"type\":\"TECHNICAL\"},{\"volume\":\"11\",\"rate\":\"2.51\",\"type\":\"SITE\"},{\"volume\":\"14\",\"rate\":\"3.2\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.06\",\"avg\":\"20.38\",\"max\":\"83.81\"},\"name\":\"Wells Fargo - Loan\",\"id\":\"4594\"},{\"container\":\"bill_payment\",\"totalVolume\":\"19\",\"success\":{\"volume\":\"16\",\"rate\":\"84.21\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"3\",\"rate\":\"15.79\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"17.66\",\"avg\":\"31.89\",\"max\":\"50.42\"},\"name\":\"Wells Fargo - Bill Pay\",\"id\":\"4646\"},{\"container\":\"bank\",\"totalVolume\":\"4434\",\"success\":{\"volume\":\"4282\",\"rate\":\"96.57\"},\"failure\":[{\"volume\":\"1\",\"rate\":\"0.02\",\"type\":\"TECHNICAL\"},{\"volume\":\"79\",\"rate\":\"1.78\",\"type\":\"SITE\"},{\"volume\":\"72\",\"rate\":\"1.62\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"27.34\",\"max\":\"222.60\"},\"name\":\"Wells Fargo - Bank\",\"id\":\"5\"},{\"container\":\"credits\",\"totalVolume\":\"2663\",\"success\":{\"volume\":\"2410\",\"rate\":\"90.5\"},\"failure\":[{\"volume\":\"22\",\"rate\":\"0.83\",\"type\":\"TECHNICAL\"},{\"volume\":\"68\",\"rate\":\"2.55\",\"type\":\"SITE\"},{\"volume\":\"163\",\"rate\":\"6.12\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.04\",\"avg\":\"16.51\",\"max\":\"152.31\"},\"name\":\"Wells Fargo - Credit Card\",\"id\":\"982\"}]}},{\"date\":\"2018/02/25\",\"summary\":{\"totalVolume\":\"6346\",\"success\":{\"volume\":\"6084\",\"rate\":\"95.87\"},\"failure\":[{\"volume\":\"20\",\"rate\":\"0.32\",\"type\":\"TECHNICAL\"},{\"volume\":\"174\",\"rate\":\"2.74\",\"type\":\"SITE\"},{\"volume\":\"68\",\"rate\":\"1.07\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"23.08\",\"max\":\"258.65\"},\"containerStats\":[{\"container\":\"stocks\",\"totalVolume\":\"517\",\"success\":{\"volume\":\"483\",\"rate\":\"93.42\"},\"failure\":[{\"volume\":\"6\",\"rate\":\"1.16\",\"type\":\"TECHNICAL\"},{\"volume\":\"19\",\"rate\":\"3.68\",\"type\":\"SITE\"},{\"volume\":\"9\",\"rate\":\"1.74\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.00\",\"avg\":\"50.16\",\"max\":\"258.65\"},\"name\":\"Wells Fargo - Investments\",\"id\":\"10862\"},{\"container\":\"mortgage\",\"totalVolume\":\"1969\",\"success\":{\"volume\":\"1910\",\"rate\":\"97.0\"},\"failure\":[{\"volume\":\"4\",\"rate\":\"0.2\",\"type\":\"TECHNICAL\"},{\"volume\":\"42\",\"rate\":\"2.13\",\"type\":\"SITE\"},{\"volume\":\"13\",\"rate\":\"0.66\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.04\",\"avg\":\"18.22\",\"max\":\"158.51\"},\"name\":\"Wells Fargo - Mortgage\",\"id\":\"3797\"},{\"container\":\"loans\",\"totalVolume\":\"242\",\"success\":{\"volume\":\"222\",\"rate\":\"91.74\"},\"failure\":[{\"volume\":\"8\",\"rate\":\"3.31\",\"type\":\"TECHNICAL\"},{\"volume\":\"6\",\"rate\":\"2.48\",\"type\":\"SITE\"},{\"volume\":\"6\",\"rate\":\"2.48\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.04\",\"avg\":\"20.47\",\"max\":\"46.00\"},\"name\":\"Wells Fargo - Loan\",\"id\":\"4594\"},{\"container\":\"bill_payment\",\"totalVolume\":\"7\",\"success\":{\"volume\":\"6\",\"rate\":\"85.71\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"1\",\"rate\":\"14.29\",\"type\":\"SITE\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"4.24\",\"avg\":\"28.31\",\"max\":\"41.29\"},\"name\":\"Wells Fargo - Bill Pay\",\"id\":\"4646\"},{\"container\":\"bank\",\"totalVolume\":\"2258\",\"success\":{\"volume\":\"2166\",\"rate\":\"95.93\"},\"failure\":[{\"volume\":\"1\",\"rate\":\"0.04\",\"type\":\"TECHNICAL\"},{\"volume\":\"64\",\"rate\":\"2.83\",\"type\":\"SITE\"},{\"volume\":\"27\",\"rate\":\"1.2\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"25.51\",\"max\":\"181.53\"},\"name\":\"Wells Fargo - Bank\",\"id\":\"5\"},{\"container\":\"credits\",\"totalVolume\":\"1353\",\"success\":{\"volume\":\"1297\",\"rate\":\"95.86\"},\"failure\":[{\"volume\":\"1\",\"rate\":\"0.07\",\"type\":\"TECHNICAL\"},{\"volume\":\"42\",\"rate\":\"3.1\",\"type\":\"SITE\"},{\"volume\":\"13\",\"rate\":\"0.96\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.05\",\"avg\":\"16.19\",\"max\":\"173.99\"},\"name\":\"Wells Fargo - Credit Card\",\"id\":\"982\"}]}},{\"date\":\"2018/02/24\",\"summary\":{\"totalVolume\":\"11225\",\"success\":{\"volume\":\"10974\",\"rate\":\"97.76\"},\"failure\":[{\"volume\":\"28\",\"rate\":\"0.25\",\"type\":\"TECHNICAL\"},{\"volume\":\"113\",\"rate\":\"1.01\",\"type\":\"SITE\"},{\"volume\":\"110\",\"rate\":\"0.98\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"23.05\",\"max\":\"329.09\"},\"containerStats\":[{\"container\":\"stocks\",\"totalVolume\":\"1103\",\"success\":{\"volume\":\"1057\",\"rate\":\"95.83\"},\"failure\":[{\"volume\":\"4\",\"rate\":\"0.36\",\"type\":\"TECHNICAL\"},{\"volume\":\"17\",\"rate\":\"1.54\",\"type\":\"SITE\"},{\"volume\":\"25\",\"rate\":\"2.27\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.05\",\"avg\":\"45.63\",\"max\":\"329.09\"},\"name\":\"Wells Fargo - Investments\",\"id\":\"10862\"},{\"container\":\"mortgage\",\"totalVolume\":\"2400\",\"success\":{\"volume\":\"2325\",\"rate\":\"96.88\"},\"failure\":[{\"volume\":\"3\",\"rate\":\"0.12\",\"type\":\"TECHNICAL\"},{\"volume\":\"53\",\"rate\":\"2.21\",\"type\":\"SITE\"},{\"volume\":\"19\",\"rate\":\"0.79\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.05\",\"avg\":\"18.39\",\"max\":\"148.02\"},\"name\":\"Wells Fargo - Mortgage\",\"id\":\"3797\"},{\"container\":\"loans\",\"totalVolume\":\"326\",\"success\":{\"volume\":\"303\",\"rate\":\"92.94\"},\"failure\":[{\"volume\":\"11\",\"rate\":\"3.37\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"12\",\"rate\":\"3.68\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.10\",\"avg\":\"20.75\",\"max\":\"51.50\"},\"name\":\"Wells Fargo - Loan\",\"id\":\"4594\"},{\"container\":\"bill_payment\",\"totalVolume\":\"16\",\"success\":{\"volume\":\"16\",\"rate\":\"100.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"24.68\",\"avg\":\"34.50\",\"max\":\"51.19\"},\"name\":\"Wells Fargo - Bill Pay\",\"id\":\"4646\"},{\"container\":\"bank\",\"totalVolume\":\"4541\",\"success\":{\"volume\":\"4477\",\"rate\":\"98.59\"},\"failure\":[{\"volume\":\"3\",\"rate\":\"0.07\",\"type\":\"TECHNICAL\"},{\"volume\":\"25\",\"rate\":\"0.55\",\"type\":\"SITE\"},{\"volume\":\"36\",\"rate\":\"0.79\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"25.10\",\"max\":\"175.89\"},\"name\":\"Wells Fargo - Bank\",\"id\":\"5\"},{\"container\":\"credits\",\"totalVolume\":\"2839\",\"success\":{\"volume\":\"2796\",\"rate\":\"98.49\"},\"failure\":[{\"volume\":\"7\",\"rate\":\"0.25\",\"type\":\"TECHNICAL\"},{\"volume\":\"18\",\"rate\":\"0.63\",\"type\":\"SITE\"},{\"volume\":\"18\",\"rate\":\"0.63\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.05\",\"avg\":\"15.12\",\"max\":\"161.51\"},\"name\":\"Wells Fargo - Credit Card\",\"id\":\"982\"}]}},{\"date\":\"2018/02/23\",\"summary\":{\"totalVolume\":\"9719\",\"success\":{\"volume\":\"9409\",\"rate\":\"96.81\"},\"failure\":[{\"volume\":\"22\",\"rate\":\"0.23\",\"type\":\"TECHNICAL\"},{\"volume\":\"194\",\"rate\":\"2.0\",\"type\":\"SITE\"},{\"volume\":\"94\",\"rate\":\"0.97\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"22.93\",\"max\":\"524.4\"},\"containerStats\":[{\"container\":\"stocks\",\"totalVolume\":\"1001\",\"success\":{\"volume\":\"937\",\"rate\":\"93.61\"},\"failure\":[{\"volume\":\"4\",\"rate\":\"0.4\",\"type\":\"TECHNICAL\"},{\"volume\":\"39\",\"rate\":\"3.9\",\"type\":\"SITE\"},{\"volume\":\"21\",\"rate\":\"2.1\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"45.30\",\"max\":\"524.40\"},\"name\":\"Wells Fargo - Investments\",\"id\":\"10862\"},{\"container\":\"mortgage\",\"totalVolume\":\"2316\",\"success\":{\"volume\":\"2236\",\"rate\":\"96.55\"},\"failure\":[{\"volume\":\"3\",\"rate\":\"0.13\",\"type\":\"TECHNICAL\"},{\"volume\":\"59\",\"rate\":\"2.55\",\"type\":\"SITE\"},{\"volume\":\"18\",\"rate\":\"0.78\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.04\",\"avg\":\"17.67\",\"max\":\"142.84\"},\"name\":\"Wells Fargo - Mortgage\",\"id\":\"3797\"},{\"container\":\"loans\",\"totalVolume\":\"310\",\"success\":{\"volume\":\"288\",\"rate\":\"92.9\"},\"failure\":[{\"volume\":\"9\",\"rate\":\"2.9\",\"type\":\"TECHNICAL\"},{\"volume\":\"2\",\"rate\":\"0.65\",\"type\":\"SITE\"},{\"volume\":\"11\",\"rate\":\"3.55\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"1.74\",\"avg\":\"20.19\",\"max\":\"56.19\"},\"name\":\"Wells Fargo - Loan\",\"id\":\"4594\"},{\"container\":\"bill_payment\",\"totalVolume\":\"14\",\"success\":{\"volume\":\"13\",\"rate\":\"92.86\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"1\",\"rate\":\"7.14\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"15.72\",\"avg\":\"31.84\",\"max\":\"43.54\"},\"name\":\"Wells Fargo - Bill Pay\",\"id\":\"4646\"},{\"container\":\"bank\",\"totalVolume\":\"3725\",\"success\":{\"volume\":\"3635\",\"rate\":\"97.58\"},\"failure\":[{\"volume\":\"2\",\"rate\":\"0.05\",\"type\":\"TECHNICAL\"},{\"volume\":\"55\",\"rate\":\"1.48\",\"type\":\"SITE\"},{\"volume\":\"33\",\"rate\":\"0.89\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"25.24\",\"max\":\"278.03\"},\"name\":\"Wells Fargo - Bank\",\"id\":\"5\"},{\"container\":\"credits\",\"totalVolume\":\"2353\",\"success\":{\"volume\":\"2300\",\"rate\":\"97.75\"},\"failure\":[{\"volume\":\"4\",\"rate\":\"0.17\",\"type\":\"TECHNICAL\"},{\"volume\":\"39\",\"rate\":\"1.66\",\"type\":\"SITE\"},{\"volume\":\"10\",\"rate\":\"0.42\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.05\",\"avg\":\"15.25\",\"max\":\"151.17\"},\"name\":\"Wells Fargo - Credit Card\",\"id\":\"982\"}]}},{\"date\":\"2018/02/22\",\"summary\":{\"totalVolume\":\"5275\",\"success\":{\"volume\":\"5153\",\"rate\":\"97.69\"},\"failure\":[{\"volume\":\"15\",\"rate\":\"0.28\",\"type\":\"TECHNICAL\"},{\"volume\":\"56\",\"rate\":\"1.06\",\"type\":\"SITE\"},{\"volume\":\"51\",\"rate\":\"0.97\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.04\",\"avg\":\"22.84\",\"max\":\"299.04\"},\"containerStats\":[{\"container\":\"stocks\",\"totalVolume\":\"415\",\"success\":{\"volume\":\"400\",\"rate\":\"96.39\"},\"failure\":[{\"volume\":\"1\",\"rate\":\"0.24\",\"type\":\"TECHNICAL\"},{\"volume\":\"6\",\"rate\":\"1.45\",\"type\":\"SITE\"},{\"volume\":\"8\",\"rate\":\"1.93\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.04\",\"avg\":\"47.25\",\"max\":\"299.04\"},\"name\":\"Wells Fargo - Investments\",\"id\":\"10862\"},{\"container\":\"mortgage\",\"totalVolume\":\"1550\",\"success\":{\"volume\":\"1519\",\"rate\":\"98.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"22\",\"rate\":\"1.42\",\"type\":\"SITE\"},{\"volume\":\"9\",\"rate\":\"0.58\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.05\",\"avg\":\"18.35\",\"max\":\"163.08\"},\"name\":\"Wells Fargo - Mortgage\",\"id\":\"3797\"},{\"container\":\"loans\",\"totalVolume\":\"193\",\"success\":{\"volume\":\"175\",\"rate\":\"90.67\"},\"failure\":[{\"volume\":\"11\",\"rate\":\"5.7\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"7\",\"rate\":\"3.63\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.08\",\"avg\":\"23.39\",\"max\":\"87.49\"},\"name\":\"Wells Fargo - Loan\",\"id\":\"4594\"},{\"container\":\"bill_payment\",\"totalVolume\":\"7\",\"success\":{\"volume\":\"7\",\"rate\":\"100.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"27.12\",\"avg\":\"31.87\",\"max\":\"36.78\"},\"name\":\"Wells Fargo - Bill Pay\",\"id\":\"4646\"},{\"container\":\"bank\",\"totalVolume\":\"2074\",\"success\":{\"volume\":\"2042\",\"rate\":\"98.46\"},\"failure\":[{\"volume\":\"1\",\"rate\":\"0.05\",\"type\":\"TECHNICAL\"},{\"volume\":\"11\",\"rate\":\"0.53\",\"type\":\"SITE\"},{\"volume\":\"20\",\"rate\":\"0.96\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.04\",\"avg\":\"24.86\",\"max\":\"163.06\"},\"name\":\"Wells Fargo - Bank\",\"id\":\"5\"},{\"container\":\"credits\",\"totalVolume\":\"1036\",\"success\":{\"volume\":\"1010\",\"rate\":\"97.49\"},\"failure\":[{\"volume\":\"2\",\"rate\":\"0.19\",\"type\":\"TECHNICAL\"},{\"volume\":\"17\",\"rate\":\"1.64\",\"type\":\"SITE\"},{\"volume\":\"7\",\"rate\":\"0.68\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.04\",\"avg\":\"15.59\",\"max\":\"135.84\"},\"name\":\"Wells Fargo - Credit Card\",\"id\":\"982\"}]}},{\"date\":\"2018/02/21\",\"summary\":{\"totalVolume\":\"9803\",\"success\":{\"volume\":\"9527\",\"rate\":\"97.18\"},\"failure\":[{\"volume\":\"29\",\"rate\":\"0.3\",\"type\":\"TECHNICAL\"},{\"volume\":\"170\",\"rate\":\"1.73\",\"type\":\"SITE\"},{\"volume\":\"77\",\"rate\":\"0.79\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"22.65\",\"max\":\"3600.19\"},\"containerStats\":[{\"container\":\"stocks\",\"totalVolume\":\"964\",\"success\":{\"volume\":\"922\",\"rate\":\"95.64\"},\"failure\":[{\"volume\":\"5\",\"rate\":\"0.52\",\"type\":\"TECHNICAL\"},{\"volume\":\"26\",\"rate\":\"2.7\",\"type\":\"SITE\"},{\"volume\":\"11\",\"rate\":\"1.14\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"44.04\",\"max\":\"295.56\"},\"name\":\"Wells Fargo - Investments\",\"id\":\"10862\"},{\"container\":\"mortgage\",\"totalVolume\":\"2185\",\"success\":{\"volume\":\"2117\",\"rate\":\"96.89\"},\"failure\":[{\"volume\":\"7\",\"rate\":\"0.32\",\"type\":\"TECHNICAL\"},{\"volume\":\"52\",\"rate\":\"2.38\",\"type\":\"SITE\"},{\"volume\":\"9\",\"rate\":\"0.41\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.04\",\"avg\":\"17.29\",\"max\":\"152.18\"},\"name\":\"Wells Fargo - Mortgage\",\"id\":\"3797\"},{\"container\":\"loans\",\"totalVolume\":\"288\",\"success\":{\"volume\":\"271\",\"rate\":\"94.1\"},\"failure\":[{\"volume\":\"9\",\"rate\":\"3.12\",\"type\":\"TECHNICAL\"},{\"volume\":\"3\",\"rate\":\"1.04\",\"type\":\"SITE\"},{\"volume\":\"5\",\"rate\":\"1.74\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"1.56\",\"avg\":\"18.74\",\"max\":\"51.08\"},\"name\":\"Wells Fargo - Loan\",\"id\":\"4594\"},{\"container\":\"bill_payment\",\"totalVolume\":\"15\",\"success\":{\"volume\":\"15\",\"rate\":\"100.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"26.95\",\"avg\":\"35.10\",\"max\":\"42.72\"},\"name\":\"Wells Fargo - Bill Pay\",\"id\":\"4646\"},{\"container\":\"bank\",\"totalVolume\":\"3876\",\"success\":{\"volume\":\"3785\",\"rate\":\"97.65\"},\"failure\":[{\"volume\":\"1\",\"rate\":\"0.03\",\"type\":\"TECHNICAL\"},{\"volume\":\"50\",\"rate\":\"1.29\",\"type\":\"SITE\"},{\"volume\":\"40\",\"rate\":\"1.03\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"24.15\",\"max\":\"182.49\"},\"name\":\"Wells Fargo - Bank\",\"id\":\"5\"},{\"container\":\"credits\",\"totalVolume\":\"2475\",\"success\":{\"volume\":\"2417\",\"rate\":\"97.66\"},\"failure\":[{\"volume\":\"7\",\"rate\":\"0.28\",\"type\":\"TECHNICAL\"},{\"volume\":\"39\",\"rate\":\"1.58\",\"type\":\"SITE\"},{\"volume\":\"12\",\"rate\":\"0.48\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.04\",\"avg\":\"17.08\",\"max\":\"3600.19\"},\"name\":\"Wells Fargo - Credit Card\",\"id\":\"982\"}]}},{\"date\":\"2018/02/20\",\"summary\":{\"totalVolume\":\"9929\",\"success\":{\"volume\":\"9612\",\"rate\":\"96.81\"},\"failure\":[{\"volume\":\"30\",\"rate\":\"0.3\",\"type\":\"TECHNICAL\"},{\"volume\":\"203\",\"rate\":\"2.04\",\"type\":\"SITE\"},{\"volume\":\"84\",\"rate\":\"0.85\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"23.34\",\"max\":\"362.88\"},\"containerStats\":[{\"container\":\"stocks\",\"totalVolume\":\"953\",\"success\":{\"volume\":\"903\",\"rate\":\"94.75\"},\"failure\":[{\"volume\":\"5\",\"rate\":\"0.52\",\"type\":\"TECHNICAL\"},{\"volume\":\"29\",\"rate\":\"3.04\",\"type\":\"SITE\"},{\"volume\":\"16\",\"rate\":\"1.68\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"47.65\",\"max\":\"313.52\"},\"name\":\"Wells Fargo - Investments\",\"id\":\"10862\"},{\"container\":\"mortgage\",\"totalVolume\":\"2368\",\"success\":{\"volume\":\"2295\",\"rate\":\"96.92\"},\"failure\":[{\"volume\":\"4\",\"rate\":\"0.17\",\"type\":\"TECHNICAL\"},{\"volume\":\"47\",\"rate\":\"1.98\",\"type\":\"SITE\"},{\"volume\":\"22\",\"rate\":\"0.93\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.04\",\"avg\":\"18.18\",\"max\":\"159.87\"},\"name\":\"Wells Fargo - Mortgage\",\"id\":\"3797\"},{\"container\":\"loans\",\"totalVolume\":\"317\",\"success\":{\"volume\":\"284\",\"rate\":\"89.59\"},\"failure\":[{\"volume\":\"16\",\"rate\":\"5.05\",\"type\":\"TECHNICAL\"},{\"volume\":\"11\",\"rate\":\"3.47\",\"type\":\"SITE\"},{\"volume\":\"6\",\"rate\":\"1.89\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.08\",\"avg\":\"20.08\",\"max\":\"136.08\"},\"name\":\"Wells Fargo - Loan\",\"id\":\"4594\"},{\"container\":\"bill_payment\",\"totalVolume\":\"9\",\"success\":{\"volume\":\"9\",\"rate\":\"100.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"25.67\",\"avg\":\"34.69\",\"max\":\"47.38\"},\"name\":\"Wells Fargo - Bill Pay\",\"id\":\"4646\"},{\"container\":\"bank\",\"totalVolume\":\"3891\",\"success\":{\"volume\":\"3801\",\"rate\":\"97.69\"},\"failure\":[{\"volume\":\"2\",\"rate\":\"0.05\",\"type\":\"TECHNICAL\"},{\"volume\":\"56\",\"rate\":\"1.44\",\"type\":\"SITE\"},{\"volume\":\"32\",\"rate\":\"0.82\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.03\",\"avg\":\"24.73\",\"max\":\"362.88\"},\"name\":\"Wells Fargo - Bank\",\"id\":\"5\"},{\"container\":\"credits\",\"totalVolume\":\"2391\",\"success\":{\"volume\":\"2320\",\"rate\":\"97.03\"},\"failure\":[{\"volume\":\"3\",\"rate\":\"0.13\",\"type\":\"TECHNICAL\"},{\"volume\":\"60\",\"rate\":\"2.51\",\"type\":\"SITE\"},{\"volume\":\"8\",\"rate\":\"0.33\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.05\",\"avg\":\"16.88\",\"max\":\"147.85\"},\"name\":\"Wells Fargo - Credit Card\",\"id\":\"982\"}]}}],\"id\":\"5\",\"lastModified\":\"2018-03-06T04:00:00Z\"}]}}");
	}
	
	@Test
	public void networkRefreshStatsTest() {
		this.filter.setGroupBy("PROVIDER");
		this.filter.setCobrandId("All");
		this.filter.setTimeSlot("");
		this.filter.setConsolidatedBy("");
		this.filter.setInclude("");
		this.filter.setProviderIds("9856,8474,4,7335,16932,1028,10073,6880,1649,4132,3531,3946,3018,492,2852");
		this.filter.setOffSetTimeSlot("");
		this.filter.setNumRecords("15");
		this.filter.setTop("TOP_FAILURE");
		this.filter.setCustomerId("10000004");
		this.filter.setReportType("REFRESH");
		String response = this.dashBoardController.cobRefreshStats("3099:fdskj",devAppIdHeader, this.filter);
		Assert.assertNotNull(response);
		Assert.assertTrue(!response.isEmpty(), "networkRefreshStatsTest is empty");
		Assert.assertTrue(!response.contains("errorCode"), "networkRefreshStatsTest is throwing some error - "+response);
		Assert.assertTrue(response.contains("\"id\":\"9856\""), "networkRefreshStatsTest JSON is changed - "+response);
		Assert.assertTrue(response.contains("\"TOP_FAILURE\""), "networkRefreshStatsTest JSON is changed - "+response);
		Assert.assertTrue(!response.contains("\"details\""), "networkRefreshStatsTest JSON is changed - "+response);
		Assert.assertEquals(response, "{\"refreshStats\":{\"orderBy\":\"TOP_FAILURE\",\"refreshType\":\"REFRESH\",\"groupBy\":\"PROVIDER\",\"info\":[{\"summary\":{\"totalVolume\":\"301\",\"success\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"failure\":[{\"volume\":\"297\",\"rate\":\"98.67\",\"type\":\"TECHNICAL\"},{\"volume\":\"1\",\"rate\":\"0.33\",\"type\":\"SITE\"},{\"volume\":\"3\",\"rate\":\"1.0\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"14.98\",\"max\":\"0.0\"}},\"name\":\"CFNA Firestone Credit Card\",\"id\":\"9856\",\"lastModified\":\"2018-02-16T06:00:00Z\"},{\"summary\":{\"totalVolume\":\"243\",\"success\":{\"volume\":\"19\",\"rate\":\"7.82\"},\"failure\":[{\"volume\":\"1\",\"rate\":\"0.41\",\"type\":\"TECHNICAL\"},{\"volume\":\"220\",\"rate\":\"90.53\",\"type\":\"SITE\"},{\"volume\":\"3\",\"rate\":\"1.23\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"25.46\",\"max\":\"0.0\"}},\"name\":\"Citi Platinum Business MasterCard\",\"id\":\"8474\",\"lastModified\":\"2018-02-16T06:00:00Z\"},{\"summary\":{\"totalVolume\":\"604\",\"success\":{\"volume\":\"76\",\"rate\":\"12.58\"},\"failure\":[{\"volume\":\"3\",\"rate\":\"0.5\",\"type\":\"TECHNICAL\"},{\"volume\":\"525\",\"rate\":\"86.92\",\"type\":\"SITE\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"19.63\",\"max\":\"0.0\"}},\"name\":\"AT&T Universal Card\",\"id\":\"4\",\"lastModified\":\"2018-02-16T06:00:00Z\"},{\"summary\":{\"totalVolume\":\"241\",\"success\":{\"volume\":\"13\",\"rate\":\"5.39\"},\"failure\":[{\"volume\":\"206\",\"rate\":\"85.48\",\"type\":\"TECHNICAL\"},{\"volume\":\"1\",\"rate\":\"0.41\",\"type\":\"SITE\"},{\"volume\":\"21\",\"rate\":\"8.71\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"45.13\",\"max\":\"0.0\"}},\"name\":\"NorthwesternMutual\",\"id\":\"7335\",\"lastModified\":\"2018-02-16T06:00:00Z\"},{\"summary\":{\"totalVolume\":\"542\",\"success\":{\"volume\":\"144\",\"rate\":\"26.57\"},\"failure\":[{\"volume\":\"29\",\"rate\":\"5.35\",\"type\":\"TECHNICAL\"},{\"volume\":\"369\",\"rate\":\"68.08\",\"type\":\"SITE\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"30.08\",\"max\":\"0.0\"}},\"name\":\"Priority Club Rewards\",\"id\":\"16932\",\"lastModified\":\"2018-02-16T06:00:00Z\"},{\"summary\":{\"totalVolume\":\"252\",\"success\":{\"volume\":\"78\",\"rate\":\"30.95\"},\"failure\":[{\"volume\":\"20\",\"rate\":\"7.94\",\"type\":\"TECHNICAL\"},{\"volume\":\"153\",\"rate\":\"60.71\",\"type\":\"SITE\"},{\"volume\":\"1\",\"rate\":\"0.4\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"31.12\",\"max\":\"0.0\"}},\"name\":\"IHG Rewards Club\",\"id\":\"1028\",\"lastModified\":\"2018-02-16T06:00:00Z\"},{\"summary\":{\"totalVolume\":\"332\",\"success\":{\"volume\":\"112\",\"rate\":\"33.73\"},\"failure\":[{\"volume\":\"23\",\"rate\":\"6.93\",\"type\":\"TECHNICAL\"},{\"volume\":\"191\",\"rate\":\"57.53\",\"type\":\"SITE\"},{\"volume\":\"6\",\"rate\":\"1.81\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"129.87\",\"max\":\"0.0\"}},\"name\":\"Computershare (Shareholder Services)\",\"id\":\"10073\",\"lastModified\":\"2018-02-16T06:00:00Z\"},{\"summary\":{\"totalVolume\":\"1732\",\"success\":{\"volume\":\"880\",\"rate\":\"50.81\"},\"failure\":[{\"volume\":\"769\",\"rate\":\"44.4\",\"type\":\"TECHNICAL\"},{\"volume\":\"33\",\"rate\":\"1.91\",\"type\":\"SITE\"},{\"volume\":\"50\",\"rate\":\"2.89\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"34.39\",\"max\":\"0.0\"}},\"name\":\"Macy's Credit Card\",\"id\":\"6880\",\"lastModified\":\"2018-02-16T06:00:00Z\"},{\"summary\":{\"totalVolume\":\"521\",\"success\":{\"volume\":\"303\",\"rate\":\"58.16\"},\"failure\":[{\"volume\":\"35\",\"rate\":\"6.72\",\"type\":\"TECHNICAL\"},{\"volume\":\"157\",\"rate\":\"30.13\",\"type\":\"SITE\"},{\"volume\":\"26\",\"rate\":\"4.99\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"68.56\",\"max\":\"0.0\"}},\"name\":\"Morgan Stanley Online\",\"id\":\"1649\",\"lastModified\":\"2018-02-16T06:00:00Z\"},{\"summary\":{\"totalVolume\":\"277\",\"success\":{\"volume\":\"189\",\"rate\":\"68.23\"},\"failure\":[{\"volume\":\"50\",\"rate\":\"18.05\",\"type\":\"TECHNICAL\"},{\"volume\":\"29\",\"rate\":\"10.47\",\"type\":\"SITE\"},{\"volume\":\"9\",\"rate\":\"3.25\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"36.19\",\"max\":\"0.0\"}},\"name\":\"TD Bank\",\"id\":\"4132\",\"lastModified\":\"2018-02-16T06:00:00Z\"},{\"summary\":{\"totalVolume\":\"2635\",\"success\":{\"volume\":\"2194\",\"rate\":\"83.26\"},\"failure\":[{\"volume\":\"18\",\"rate\":\"0.68\",\"type\":\"TECHNICAL\"},{\"volume\":\"378\",\"rate\":\"14.35\",\"type\":\"SITE\"},{\"volume\":\"45\",\"rate\":\"1.71\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"41.84\",\"max\":\"0.0\"}},\"name\":\"PayPal\",\"id\":\"3531\",\"lastModified\":\"2018-02-16T06:00:00Z\"},{\"summary\":{\"totalVolume\":\"697\",\"success\":{\"volume\":\"586\",\"rate\":\"84.07\"},\"failure\":[{\"volume\":\"79\",\"rate\":\"11.33\",\"type\":\"TECHNICAL\"},{\"volume\":\"22\",\"rate\":\"3.16\",\"type\":\"SITE\"},{\"volume\":\"10\",\"rate\":\"1.43\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"104.73\",\"max\":\"0.0\"}},\"name\":\"Prudential Retirement Services\",\"id\":\"3946\",\"lastModified\":\"2018-02-16T06:00:00Z\"},{\"summary\":{\"totalVolume\":\"812\",\"success\":{\"volume\":\"698\",\"rate\":\"85.96\"},\"failure\":[{\"volume\":\"92\",\"rate\":\"11.33\",\"type\":\"TECHNICAL\"},{\"volume\":\"18\",\"rate\":\"2.22\",\"type\":\"SITE\"},{\"volume\":\"4\",\"rate\":\"0.49\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"8.60\",\"max\":\"0.0\"}},\"name\":\"Ameriprise Financial\",\"id\":\"3018\",\"lastModified\":\"2018-02-16T06:00:00Z\"},{\"summary\":{\"totalVolume\":\"14351\",\"success\":{\"volume\":\"13435\",\"rate\":\"93.62\"},\"failure\":[{\"volume\":\"89\",\"rate\":\"0.62\",\"type\":\"TECHNICAL\"},{\"volume\":\"719\",\"rate\":\"5.01\",\"type\":\"SITE\"},{\"volume\":\"108\",\"rate\":\"0.75\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"80.88\",\"max\":\"0.0\"}},\"name\":\"Fidelity Investments\",\"id\":\"492\",\"lastModified\":\"2018-02-16T06:00:00Z\"},{\"summary\":{\"totalVolume\":\"319864\",\"success\":{\"volume\":\"309913\",\"rate\":\"96.89\"},\"failure\":[{\"volume\":\"583\",\"rate\":\"0.18\",\"type\":\"TECHNICAL\"},{\"volume\":\"107\",\"rate\":\"0.03\",\"type\":\"SITE\"},{\"volume\":\"9261\",\"rate\":\"2.9\",\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"3.44\",\"max\":\"0.0\"}},\"name\":\"Bank of America\",\"id\":\"2852\",\"lastModified\":\"2018-02-16T06:00:00Z\"}]}}");
	}
	
	
	@Test
	public void addCommonRefreshStatsTest() {
		this.filter.setGroupBy("COBRAND");
		this.filter.setCobrandId("10000004");
		this.filter.setTimeSlot("P15D");
		this.filter.setConsolidatedBy("");
		this.filter.setInclude("historic,latencyBreakup");
		this.filter.setProviderIds("");
		this.filter.setOffSetTimeSlot("");
		this.filter.setNumRecords("");
		this.filter.setTop("");
		this.filter.setCustomerId("10000004");
		this.filter.setReportType("Add");
		String response = this.dashBoardController.cobRefreshStats("3099:fdskj",devAppIdHeader, this.filter);
		Assert.assertNotNull(response);
		Assert.assertTrue(!response.isEmpty(), "addCommonRefreshStatsTest is empty");
		Assert.assertTrue(!response.contains("errorCode"), "addCommonRefreshStatsTest is throwing some error - "+response);
		Assert.assertTrue(response.contains("\"id\":\"10000004\""), "addCommonRefreshStatsTest JSON is changed - "+response);
		Assert.assertTrue(response.contains("\"partialSuccess\""), "addCommonRefreshStatsTest JSON is changed - "+response);
		Assert.assertTrue(response.contains("\"details\""), "addCommonRefreshStatsTest JSON is changed - "+response);
		Assert.assertEquals(response, "{\"refreshStats\":{\"refreshType\":\"ADD\",\"groupBy\":\"COBRAND\",\"info\":[{\"summary\":{\"totalVolume\":\"75\",\"success\":{\"volume\":\"38.0\",\"rate\":\"50.67\"},\"failure\":[{\"volume\":\"7\",\"rate\":\"9.33\",\"type\":\"TECHNICAL\"},{\"volume\":\"4\",\"rate\":\"5.33\",\"type\":\"SITE\"},{\"volume\":\"25\",\"rate\":\"33.33\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"1.0\",\"rate\":\"1.33\"},\"latency\":{\"min\":\"1.99\",\"avg\":\"91.4\",\"max\":\"363.03\",\"breakups\":[{\"volume\":\"26\",\"rate\":\"34.67\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"4\",\"rate\":\"5.33\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"4\",\"rate\":\"5.33\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"4\",\"rate\":\"5.33\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"3\",\"rate\":\"4.0\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"34\",\"rate\":\"45.33\",\"range\":\"GRT_THAN_100_SECS\"}]}},\"name\":\"Yodlee\",\"details\":[{\"date\":\"2018/05/02\",\"summary\":{\"totalVolume\":\"1\",\"success\":{\"volume\":\"1\",\"rate\":\"100.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"latency\":{\"min\":\"187.06\",\"avg\":\"187.06\",\"max\":\"187.06\",\"breakups\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"1\",\"rate\":\"100.0\",\"range\":\"GRT_THAN_100_SECS\"}]}}},{\"date\":\"2018/05/01\",\"summary\":{\"totalVolume\":\"112\",\"success\":{\"volume\":\"54\",\"rate\":\"48.21\"},\"failure\":[{\"volume\":\"15\",\"rate\":\"13.39\",\"type\":\"TECHNICAL\"},{\"volume\":\"6\",\"rate\":\"5.36\",\"type\":\"SITE\"},{\"volume\":\"36\",\"rate\":\"32.14\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"1\",\"rate\":\"0.89\"},\"latency\":{\"min\":\"1.74\",\"avg\":\"95.16\",\"max\":\"454.97\",\"breakups\":[{\"volume\":\"40\",\"rate\":\"35.71\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"6\",\"rate\":\"5.36\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"9\",\"rate\":\"8.04\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"4\",\"rate\":\"3.57\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"3\",\"rate\":\"2.68\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"50\",\"rate\":\"44.64\",\"range\":\"GRT_THAN_100_SECS\"}]}}},{\"date\":\"2018/04/30\",\"summary\":{\"totalVolume\":\"138\",\"success\":{\"volume\":\"93\",\"rate\":\"67.39\"},\"failure\":[{\"volume\":\"19\",\"rate\":\"13.77\",\"type\":\"TECHNICAL\"},{\"volume\":\"4\",\"rate\":\"2.9\",\"type\":\"SITE\"},{\"volume\":\"22\",\"rate\":\"15.94\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"latency\":{\"min\":\"0.72\",\"avg\":\"99.94\",\"max\":\"318.68\",\"breakups\":[{\"volume\":\"30\",\"rate\":\"21.74\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"10\",\"rate\":\"7.25\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"9\",\"rate\":\"6.52\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"17\",\"rate\":\"12.32\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"6\",\"rate\":\"4.35\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"66\",\"rate\":\"47.83\",\"range\":\"GRT_THAN_100_SECS\"}]}}},{\"date\":\"2018/04/29\",\"summary\":{\"totalVolume\":\"204\",\"success\":{\"volume\":\"105\",\"rate\":\"51.47\"},\"failure\":[{\"volume\":\"31\",\"rate\":\"15.2\",\"type\":\"TECHNICAL\"},{\"volume\":\"17\",\"rate\":\"8.33\",\"type\":\"SITE\"},{\"volume\":\"49\",\"rate\":\"24.02\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"2\",\"rate\":\"0.98\"},\"latency\":{\"min\":\"0.67\",\"avg\":\"93.25\",\"max\":\"763.86\",\"breakups\":[{\"volume\":\"65\",\"rate\":\"31.86\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"12\",\"rate\":\"5.88\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"20\",\"rate\":\"9.8\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"18\",\"rate\":\"8.82\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"14\",\"rate\":\"6.86\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"75\",\"rate\":\"36.76\",\"range\":\"GRT_THAN_100_SECS\"}]}}},{\"date\":\"2018/04/28\",\"summary\":{\"totalVolume\":\"54\",\"success\":{\"volume\":\"31\",\"rate\":\"57.41\"},\"failure\":[{\"volume\":\"6\",\"rate\":\"11.11\",\"type\":\"TECHNICAL\"},{\"volume\":\"3\",\"rate\":\"5.56\",\"type\":\"SITE\"},{\"volume\":\"14\",\"rate\":\"25.93\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"latency\":{\"min\":\"0.78\",\"avg\":\"85.92\",\"max\":\"337.23\",\"breakups\":[{\"volume\":\"15\",\"rate\":\"27.78\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"5\",\"rate\":\"9.26\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"5\",\"rate\":\"9.26\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"6\",\"rate\":\"11.11\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"3\",\"rate\":\"5.56\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"20\",\"rate\":\"37.04\",\"range\":\"GRT_THAN_100_SECS\"}]}}},{\"date\":\"2018/04/27\",\"summary\":{\"totalVolume\":\"155\",\"success\":{\"volume\":\"62\",\"rate\":\"40.0\"},\"failure\":[{\"volume\":\"52\",\"rate\":\"33.55\",\"type\":\"TECHNICAL\"},{\"volume\":\"11\",\"rate\":\"7.1\",\"type\":\"SITE\"},{\"volume\":\"28\",\"rate\":\"18.06\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"2\",\"rate\":\"1.29\"},\"latency\":{\"min\":\"0.82\",\"avg\":\"98.36\",\"max\":\"536.88\",\"breakups\":[{\"volume\":\"29\",\"rate\":\"18.71\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"11\",\"rate\":\"7.1\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"9\",\"rate\":\"5.81\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"41\",\"rate\":\"26.45\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"6\",\"rate\":\"3.87\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"59\",\"rate\":\"38.06\",\"range\":\"GRT_THAN_100_SECS\"}]}}},{\"date\":\"2018/04/26\",\"summary\":{\"totalVolume\":\"161\",\"success\":{\"volume\":\"73\",\"rate\":\"45.34\"},\"failure\":[{\"volume\":\"45\",\"rate\":\"27.95\",\"type\":\"TECHNICAL\"},{\"volume\":\"14\",\"rate\":\"8.7\",\"type\":\"SITE\"},{\"volume\":\"29\",\"rate\":\"18.01\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"latency\":{\"min\":\"1.21\",\"avg\":\"90.74\",\"max\":\"446.61\",\"breakups\":[{\"volume\":\"54\",\"rate\":\"33.54\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"10\",\"rate\":\"6.21\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"5\",\"rate\":\"3.11\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"15\",\"rate\":\"9.32\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"6\",\"rate\":\"3.73\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"71\",\"rate\":\"44.1\",\"range\":\"GRT_THAN_100_SECS\"}]}}},{\"date\":\"2018/04/25\",\"summary\":{\"totalVolume\":\"82\",\"success\":{\"volume\":\"49\",\"rate\":\"59.76\"},\"failure\":[{\"volume\":\"12\",\"rate\":\"14.63\",\"type\":\"TECHNICAL\"},{\"volume\":\"2\",\"rate\":\"2.44\",\"type\":\"SITE\"},{\"volume\":\"18\",\"rate\":\"21.95\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"1\",\"rate\":\"1.22\"},\"latency\":{\"min\":\"4.37\",\"avg\":\"107.51\",\"max\":\"548.35\",\"breakups\":[{\"volume\":\"23\",\"rate\":\"28.05\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"7\",\"rate\":\"8.54\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"6\",\"rate\":\"7.32\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"5\",\"rate\":\"6.1\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"5\",\"rate\":\"6.1\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"36\",\"rate\":\"43.9\",\"range\":\"GRT_THAN_100_SECS\"}]}}},{\"date\":\"2018/04/24\",\"summary\":{\"totalVolume\":\"210\",\"success\":{\"volume\":\"119\",\"rate\":\"56.67\"},\"failure\":[{\"volume\":\"26\",\"rate\":\"12.38\",\"type\":\"TECHNICAL\"},{\"volume\":\"5\",\"rate\":\"2.38\",\"type\":\"SITE\"},{\"volume\":\"57\",\"rate\":\"27.14\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"3\",\"rate\":\"1.43\"},\"latency\":{\"min\":\"1.51\",\"avg\":\"112.02\",\"max\":\"533.92\",\"breakups\":[{\"volume\":\"48\",\"rate\":\"22.86\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"12\",\"rate\":\"5.71\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"10\",\"rate\":\"4.76\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"16\",\"rate\":\"7.62\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"12\",\"rate\":\"5.71\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"112\",\"rate\":\"53.33\",\"range\":\"GRT_THAN_100_SECS\"}]}}},{\"date\":\"2018/04/23\",\"summary\":{\"totalVolume\":\"189\",\"success\":{\"volume\":\"130\",\"rate\":\"68.78\"},\"failure\":[{\"volume\":\"11\",\"rate\":\"5.82\",\"type\":\"TECHNICAL\"},{\"volume\":\"4\",\"rate\":\"2.12\",\"type\":\"SITE\"},{\"volume\":\"41\",\"rate\":\"21.69\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"3\",\"rate\":\"1.59\"},\"latency\":{\"min\":\"2.09\",\"avg\":\"115.42\",\"max\":\"655.57\",\"breakups\":[{\"volume\":\"39\",\"rate\":\"20.63\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"13\",\"rate\":\"6.88\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"8\",\"rate\":\"4.23\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"13\",\"rate\":\"6.88\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"13\",\"rate\":\"6.88\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"103\",\"rate\":\"54.5\",\"range\":\"GRT_THAN_100_SECS\"}]}}},{\"date\":\"2018/04/22\",\"summary\":{\"totalVolume\":\"262\",\"success\":{\"volume\":\"189\",\"rate\":\"72.14\"},\"failure\":[{\"volume\":\"30\",\"rate\":\"11.45\",\"type\":\"TECHNICAL\"},{\"volume\":\"3\",\"rate\":\"1.15\",\"type\":\"SITE\"},{\"volume\":\"38\",\"rate\":\"14.5\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"2\",\"rate\":\"0.76\"},\"latency\":{\"min\":\"0.03\",\"avg\":\"108.77\",\"max\":\"356.13\",\"breakups\":[{\"volume\":\"33\",\"rate\":\"12.6\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"10\",\"rate\":\"3.82\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"16\",\"rate\":\"6.11\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"46\",\"rate\":\"17.56\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"14\",\"rate\":\"5.34\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"143\",\"rate\":\"54.58\",\"range\":\"GRT_THAN_100_SECS\"}]}}},{\"date\":\"2018/04/21\",\"summary\":{\"totalVolume\":\"114\",\"success\":{\"volume\":\"65\",\"rate\":\"57.02\"},\"failure\":[{\"volume\":\"11\",\"rate\":\"9.65\",\"type\":\"TECHNICAL\"},{\"volume\":\"12\",\"rate\":\"10.53\",\"type\":\"SITE\"},{\"volume\":\"25\",\"rate\":\"21.93\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"1\",\"rate\":\"0.88\"},\"latency\":{\"min\":\"0.78\",\"avg\":\"91.92\",\"max\":\"438.06\",\"breakups\":[{\"volume\":\"34\",\"rate\":\"29.82\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"10\",\"rate\":\"8.77\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"15\",\"rate\":\"13.16\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"5\",\"rate\":\"4.39\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"7\",\"rate\":\"6.14\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"43\",\"rate\":\"37.72\",\"range\":\"GRT_THAN_100_SECS\"}]}}},{\"date\":\"2018/04/20\",\"summary\":{\"totalVolume\":\"67\",\"success\":{\"volume\":\"30\",\"rate\":\"44.78\"},\"failure\":[{\"volume\":\"7\",\"rate\":\"10.45\",\"type\":\"TECHNICAL\"},{\"volume\":\"1\",\"rate\":\"1.49\",\"type\":\"SITE\"},{\"volume\":\"25\",\"rate\":\"37.31\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"4\",\"rate\":\"5.97\"},\"latency\":{\"min\":\"2.03\",\"avg\":\"83.79\",\"max\":\"410.82\",\"breakups\":[{\"volume\":\"24\",\"rate\":\"35.82\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"9\",\"rate\":\"13.43\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"1\",\"rate\":\"1.49\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"6\",\"rate\":\"8.96\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"1\",\"rate\":\"1.49\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"26\",\"rate\":\"38.81\",\"range\":\"GRT_THAN_100_SECS\"}]}}},{\"date\":\"2018/04/19\",\"summary\":{\"totalVolume\":\"143\",\"success\":{\"volume\":\"96\",\"rate\":\"67.13\"},\"failure\":[{\"volume\":\"20\",\"rate\":\"13.99\",\"type\":\"TECHNICAL\"},{\"volume\":\"2\",\"rate\":\"1.4\",\"type\":\"SITE\"},{\"volume\":\"25\",\"rate\":\"17.48\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"latency\":{\"min\":\"1.75\",\"avg\":\"97.26\",\"max\":\"427.42\",\"breakups\":[{\"volume\":\"31\",\"rate\":\"21.68\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"9\",\"rate\":\"6.29\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"9\",\"rate\":\"6.29\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"16\",\"rate\":\"11.19\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"11\",\"rate\":\"7.69\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"67\",\"rate\":\"46.85\",\"range\":\"GRT_THAN_100_SECS\"}]}}},{\"date\":\"2018/04/18\",\"summary\":{\"totalVolume\":\"480\",\"success\":{\"volume\":\"228\",\"rate\":\"47.5\"},\"failure\":[{\"volume\":\"148\",\"rate\":\"30.83\",\"type\":\"TECHNICAL\"},{\"volume\":\"14\",\"rate\":\"2.92\",\"type\":\"SITE\"},{\"volume\":\"89\",\"rate\":\"18.54\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"1\",\"rate\":\"0.21\"},\"latency\":{\"min\":\"0.23\",\"avg\":\"110.88\",\"max\":\"404.25\",\"breakups\":[{\"volume\":\"98\",\"rate\":\"20.42\",\"range\":\"0_TO_20_SECS\"},{\"volume\":\"17\",\"rate\":\"3.54\",\"range\":\"20_TO_40_SECS\"},{\"volume\":\"21\",\"rate\":\"4.38\",\"range\":\"40_TO_60_SECS\"},{\"volume\":\"58\",\"rate\":\"12.08\",\"range\":\"60_TO_80_SECS\"},{\"volume\":\"16\",\"rate\":\"3.33\",\"range\":\"80_TO_100_SECS\"},{\"volume\":\"270\",\"rate\":\"56.25\",\"range\":\"GRT_THAN_100_SECS\"}]}}}],\"id\":\"10000004\",\"lastModified\":\"2018-04-18T10:33:05Z\"}]}}");
	}
	
	@Test
	public void addTopFailureStatsTest() {
		this.filter.setGroupBy("PROVIDER");
		this.filter.setCobrandId("10000004");
		this.filter.setTimeSlot("");
		this.filter.setConsolidatedBy("");
		this.filter.setInclude("");
		this.filter.setProviderIds("");
		this.filter.setOffSetTimeSlot("");
		this.filter.setNumRecords("15");
		this.filter.setTop("TOP_FAILURE");
		this.filter.setCustomerId("10000004");
		this.filter.setReportType("Add");
		String response = this.dashBoardController.cobRefreshStats("3099:fdskj",devAppIdHeader, this.filter);
		Assert.assertNotNull(response);
		Assert.assertTrue(!response.isEmpty(), "addTopFailureStatsTest is empty");
		Assert.assertTrue(!response.contains("errorCode"), "addTopFailureStatsTest is throwing some error - "+response);
		Assert.assertTrue(response.contains("\"id\":\"1649\""), "addTopFailureStatsTest JSON is changed - "+response);
		Assert.assertTrue(response.contains("\"TOP_FAILURE\""), "addTopFailureStatsTest JSON is changed - "+response);
		Assert.assertTrue(!response.contains("\"details\""), "addTopFailureStatsTest JSON is changed - "+response);
		Assert.assertEquals(response, "{\"refreshStats\":{\"orderBy\":\"TOP_FAILURE\",\"refreshType\":\"ADD\",\"groupBy\":\"PROVIDER\",\"info\":[{\"summary\":{\"totalVolume\":\"2\",\"success\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"failure\":[{\"volume\":\"2\",\"rate\":\"100.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"latency\":{\"min\":\"0.0\",\"avg\":\"114.56\",\"max\":\"0.0\"}},\"name\":\"Morgan Stanley Online\",\"id\":\"1649\",\"lastModified\":\"2018-04-18T10:56:51Z\"},{\"summary\":{\"totalVolume\":\"1\",\"success\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"1\",\"rate\":\"100.0\",\"type\":\"SITE\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"latency\":{\"min\":\"0.0\",\"avg\":\"3.09\",\"max\":\"0.0\"}},\"name\":\"Southeastern Employee Benefit Services\",\"id\":\"12386\",\"lastModified\":\"2018-04-18T10:56:51Z\"},{\"summary\":{\"totalVolume\":\"1\",\"success\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"failure\":[{\"volume\":\"1\",\"rate\":\"100.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"latency\":{\"min\":\"0.0\",\"avg\":\"6.01\",\"max\":\"0.0\"}},\"name\":\"Paychex Online Retirement Services - Advisor\",\"id\":\"21101\",\"lastModified\":\"2018-04-18T10:56:51Z\"},{\"summary\":{\"totalVolume\":\"1\",\"success\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"failure\":[{\"volume\":\"1\",\"rate\":\"100.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"latency\":{\"min\":\"0.0\",\"avg\":\"24.47\",\"max\":\"0.0\"}},\"name\":\"Fidelity.com at work\",\"id\":\"22655\",\"lastModified\":\"2018-04-18T10:56:51Z\"},{\"summary\":{\"totalVolume\":\"1\",\"success\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"1\",\"rate\":\"100.0\",\"type\":\"SITE\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"latency\":{\"min\":\"0.0\",\"avg\":\"26.77\",\"max\":\"0.0\"}},\"name\":\"Sears Credit Card\",\"id\":\"6913\",\"lastModified\":\"2018-04-18T10:56:51Z\"},{\"summary\":{\"totalVolume\":\"2\",\"success\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"failure\":[{\"volume\":\"1\",\"rate\":\"50.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"1\",\"rate\":\"50.0\"},\"latency\":{\"min\":\"0.0\",\"avg\":\"51.63\",\"max\":\"0.0\"}},\"name\":\"TD Bank\",\"id\":\"4132\",\"lastModified\":\"2018-04-18T10:56:51Z\"},{\"summary\":{\"totalVolume\":\"2\",\"success\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"1\",\"rate\":\"50.0\",\"type\":\"SITE\"},{\"volume\":\"1\",\"rate\":\"50.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"latency\":{\"min\":\"0.0\",\"avg\":\"70.50\",\"max\":\"0.0\"}},\"name\":\"Safra National Bank of New York\",\"id\":\"3165\",\"lastModified\":\"2018-04-18T10:56:51Z\"},{\"summary\":{\"totalVolume\":\"5\",\"success\":{\"volume\":\"3\",\"rate\":\"60.0\"},\"failure\":[{\"volume\":\"2\",\"rate\":\"40.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"latency\":{\"min\":\"0.0\",\"avg\":\"86.86\",\"max\":\"0.0\"}},\"name\":\"Fidelity Investments\",\"id\":\"492\",\"lastModified\":\"2018-04-18T10:56:51Z\"},{\"summary\":{\"totalVolume\":\"50\",\"success\":{\"volume\":\"32\",\"rate\":\"64.0\"},\"failure\":[{\"volume\":\"1\",\"rate\":\"2.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"2\",\"rate\":\"4.0\",\"type\":\"SITE\"},{\"volume\":\"14\",\"rate\":\"28.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"1\",\"rate\":\"2.0\"},\"latency\":{\"min\":\"0.0\",\"avg\":\"98.34\",\"max\":\"0.0\"}},\"name\":\"Chase\",\"id\":\"643\",\"lastModified\":\"2018-04-18T10:56:51Z\"},{\"summary\":{\"totalVolume\":\"1\",\"success\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"1\",\"rate\":\"100.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"latency\":{\"min\":\"0.0\",\"avg\":\"7.71\",\"max\":\"0.0\"}},\"name\":\"Charles Schwab (Signature Alliance)\",\"id\":\"11323\",\"lastModified\":\"2018-04-18T10:56:51Z\"},{\"summary\":{\"totalVolume\":\"1\",\"success\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"1\",\"rate\":\"100.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"latency\":{\"min\":\"0.0\",\"avg\":\"48.85\",\"max\":\"0.0\"}},\"name\":\"Paychex Online\",\"id\":\"19653\",\"lastModified\":\"2018-04-18T10:56:51Z\"},{\"summary\":{\"totalVolume\":\"1\",\"success\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"1\",\"rate\":\"100.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"latency\":{\"min\":\"0.0\",\"avg\":\"134.04\",\"max\":\"0.0\"}},\"name\":\"Fidelity Rewards Visa Signature Card\",\"id\":\"20931\",\"lastModified\":\"2018-04-18T10:56:51Z\"},{\"summary\":{\"totalVolume\":\"1\",\"success\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"1\",\"rate\":\"100.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"latency\":{\"min\":\"0.0\",\"avg\":\"4.77\",\"max\":\"0.0\"}},\"name\":\"Bank of America Merrill Lynch - Account Management\",\"id\":\"21085\",\"lastModified\":\"2018-04-18T10:56:51Z\"},{\"summary\":{\"totalVolume\":\"1\",\"success\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"1\",\"rate\":\"100.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"latency\":{\"min\":\"0.0\",\"avg\":\"5.83\",\"max\":\"0.0\"}},\"name\":\"TD Credit Card Services online\",\"id\":\"23277\",\"lastModified\":\"2018-04-18T10:56:51Z\"},{\"summary\":{\"totalVolume\":\"1\",\"success\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"1\",\"rate\":\"100.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"latency\":{\"min\":\"0.0\",\"avg\":\"219.75\",\"max\":\"0.0\"}},\"name\":\"Capital One Credit Cards\",\"id\":\"2856\",\"lastModified\":\"2018-04-18T10:56:51Z\"}]}}");
	}
	
	@Test
	public void addSiteCommonRefreshStatsTest() {
		this.filter.setGroupBy("PROVIDER");
		this.filter.setCobrandId("10000004");
		this.filter.setTimeSlot("P15D");
		this.filter.setConsolidatedBy("");
		this.filter.setInclude("container,historic");
		this.filter.setProviderIds("5");
		this.filter.setOffSetTimeSlot("");
		this.filter.setNumRecords("");
		this.filter.setTop("");
		this.filter.setCustomerId("10000004");
		this.filter.setReportType("Add");
		String response = this.dashBoardController.cobRefreshStats("3099:fdskj",devAppIdHeader, this.filter);
		Assert.assertNotNull(response);
		Assert.assertTrue(!response.isEmpty(), "addSiteCommonRefreshStatsTest is empty");
		Assert.assertTrue(!response.contains("errorCode"), "addSiteCommonRefreshStatsTest is throwing some error - "+response);
		Assert.assertTrue(response.contains("\"id\":\"5\""), "addSiteCommonRefreshStatsTest JSON is changed - "+response);
		Assert.assertTrue(response.contains("\"containerStats\""), "addSiteCommonRefreshStatsTest JSON is changed - "+response);
		Assert.assertTrue(response.contains("\"details\""), "addSiteCommonRefreshStatsTest JSON is changed - "+response);
		Assert.assertEquals(response, "{\"refreshStats\":{\"orderBy\":\"VOLUME\",\"refreshType\":\"REFRESH\",\"groupBy\":\"PROVIDER\",\"info\":[{\"name\":\"Wells Fargo\",\"details\":[{\"date\":\"2018/04/30\",\"summary\":{\"totalVolume\":\"2\",\"success\":{\"volume\":\"1\",\"rate\":\"50.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"1\",\"rate\":\"50.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"latency\":{\"min\":\"86.47\",\"avg\":\"118.74\",\"max\":\"151.01\"},\"containerStats\":[{\"container\":\"\",\"totalVolume\":\"2\",\"success\":{\"volume\":\"1\",\"rate\":\"50.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"1\",\"rate\":\"50.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"defaultSuccessPer\"},\"latency\":{\"min\":\"86.47\",\"avg\":\"118.74\",\"max\":\"151.01\"},\"name\":\"WellsFargo\"}]}},{\"date\":\"2018/04/29\",\"summary\":{\"totalVolume\":\"3\",\"success\":{\"volume\":\"2\",\"rate\":\"66.67\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"1\",\"rate\":\"33.33\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"latency\":{\"min\":\"22.51\",\"avg\":\"279.96\",\"max\":\"408.69\"},\"containerStats\":[{\"container\":\"\",\"totalVolume\":\"3\",\"success\":{\"volume\":\"2\",\"rate\":\"66.67\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"1\",\"rate\":\"33.33\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"defaultSuccessPer\"},\"latency\":{\"min\":\"22.51\",\"avg\":\"279.96\",\"max\":\"408.69\"},\"name\":\"WellsFargo\"}]}},{\"date\":\"2018/04/28\",\"summary\":{\"totalVolume\":\"3\",\"success\":{\"volume\":\"1\",\"rate\":\"33.33\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"2\",\"rate\":\"66.67\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"latency\":{\"min\":\"27.3\",\"avg\":\"46.28\",\"max\":\"84.24\"},\"containerStats\":[{\"container\":\"\",\"totalVolume\":\"3\",\"success\":{\"volume\":\"1\",\"rate\":\"33.33\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"2\",\"rate\":\"66.67\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"defaultSuccessPer\"},\"latency\":{\"min\":\"27.30\",\"avg\":\"46.28\",\"max\":\"84.24\"},\"name\":\"WellsFargo\"}]}},{\"date\":\"2018/04/27\",\"summary\":{\"totalVolume\":\"1\",\"success\":{\"volume\":\"1\",\"rate\":\"100.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"latency\":{\"min\":\"85.41\",\"avg\":\"85.41\",\"max\":\"85.41\"},\"containerStats\":[{\"container\":\"\",\"totalVolume\":\"1\",\"success\":{\"volume\":\"1\",\"rate\":\"100.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"defaultSuccessPer\"},\"latency\":{\"min\":\"85.41\",\"avg\":\"85.41\",\"max\":\"85.41\"},\"name\":\"WellsFargo\"}]}},{\"date\":\"2018/04/25\",\"summary\":{\"totalVolume\":\"2\",\"success\":{\"volume\":\"2\",\"rate\":\"100.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"latency\":{\"min\":\"36.23\",\"avg\":\"52.5\",\"max\":\"68.77\"},\"containerStats\":[{\"container\":\"\",\"totalVolume\":\"2\",\"success\":{\"volume\":\"2\",\"rate\":\"100.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"defaultSuccessPer\"},\"latency\":{\"min\":\"36.23\",\"avg\":\"52.50\",\"max\":\"68.77\"},\"name\":\"WellsFargo\"}]}},{\"date\":\"2018/04/24\",\"summary\":{\"totalVolume\":\"4\",\"success\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"4\",\"rate\":\"100.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"latency\":{\"min\":\"3.65\",\"avg\":\"40.36\",\"max\":\"136.79\"},\"containerStats\":[{\"container\":\"\",\"totalVolume\":\"4\",\"success\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"4\",\"rate\":\"100.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"defaultSuccessPer\"},\"latency\":{\"min\":\"3.65\",\"avg\":\"40.36\",\"max\":\"136.79\"},\"name\":\"WellsFargo\"}]}},{\"date\":\"2018/04/23\",\"summary\":{\"totalVolume\":\"2\",\"success\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"2\",\"rate\":\"100.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"latency\":{\"min\":\"137.89\",\"avg\":\"141.62\",\"max\":\"145.35\"},\"containerStats\":[{\"container\":\"\",\"totalVolume\":\"2\",\"success\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"2\",\"rate\":\"100.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"defaultSuccessPer\"},\"latency\":{\"min\":\"137.89\",\"avg\":\"141.62\",\"max\":\"145.35\"},\"name\":\"WellsFargo\"}]}},{\"date\":\"2018/04/22\",\"summary\":{\"totalVolume\":\"1\",\"success\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"1\",\"rate\":\"100.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"latency\":{\"min\":\"132.96\",\"avg\":\"132.96\",\"max\":\"132.96\"},\"containerStats\":[{\"container\":\"\",\"totalVolume\":\"1\",\"success\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"1\",\"rate\":\"100.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"defaultSuccessPer\"},\"latency\":{\"min\":\"132.96\",\"avg\":\"132.96\",\"max\":\"132.96\"},\"name\":\"WellsFargo\"}]}},{\"date\":\"2018/04/21\",\"summary\":{\"totalVolume\":\"4\",\"success\":{\"volume\":\"2\",\"rate\":\"50.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"2\",\"rate\":\"50.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"latency\":{\"min\":\"6.01\",\"avg\":\"57.15\",\"max\":\"138.94\"},\"containerStats\":[{\"container\":\"\",\"totalVolume\":\"4\",\"success\":{\"volume\":\"2\",\"rate\":\"50.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"2\",\"rate\":\"50.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"defaultSuccessPer\"},\"latency\":{\"min\":\"6.01\",\"avg\":\"57.15\",\"max\":\"138.94\"},\"name\":\"WellsFargo\"}]}},{\"date\":\"2018/04/20\",\"summary\":{\"totalVolume\":\"8\",\"success\":{\"volume\":\"2\",\"rate\":\"25.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"5\",\"rate\":\"62.5\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"1\",\"rate\":\"12.5\"},\"latency\":{\"min\":\"5.81\",\"avg\":\"114.26\",\"max\":\"410.82\"},\"containerStats\":[{\"container\":\"\",\"totalVolume\":\"8\",\"success\":{\"volume\":\"2\",\"rate\":\"25.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"5\",\"rate\":\"62.5\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"1\",\"rate\":\"defaultSuccessPer\"},\"latency\":{\"min\":\"5.81\",\"avg\":\"114.26\",\"max\":\"410.82\"},\"name\":\"WellsFargo\"}]}},{\"date\":\"2018/04/19\",\"summary\":{\"totalVolume\":\"3\",\"success\":{\"volume\":\"2\",\"rate\":\"66.67\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"1\",\"rate\":\"33.33\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"latency\":{\"min\":\"6.49\",\"avg\":\"63.76\",\"max\":\"123.38\"},\"containerStats\":[{\"container\":\"\",\"totalVolume\":\"3\",\"success\":{\"volume\":\"2\",\"rate\":\"66.67\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"1\",\"rate\":\"33.33\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"defaultSuccessPer\"},\"latency\":{\"min\":\"6.49\",\"avg\":\"63.76\",\"max\":\"123.38\"},\"name\":\"WellsFargo\"}]}},{\"date\":\"2018/04/18\",\"summary\":{\"totalVolume\":\"2\",\"success\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"2\",\"rate\":\"100.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"latency\":{\"min\":\"8.4\",\"avg\":\"9.73\",\"max\":\"11.07\"},\"containerStats\":[{\"container\":\"\",\"totalVolume\":\"2\",\"success\":{\"volume\":\"0\",\"rate\":\"0.0\"},\"failure\":[{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"TECHNICAL\"},{\"volume\":\"0\",\"rate\":\"0.0\",\"type\":\"SITE\"},{\"volume\":\"2\",\"rate\":\"100.0\",\"type\":\"USERACTIONREQUIRED\"}],\"partialSuccess\":{\"volume\":\"0\",\"rate\":\"defaultSuccessPer\"},\"latency\":{\"min\":\"8.40\",\"avg\":\"9.73\",\"max\":\"11.07\"},\"name\":\"WellsFargo\"}]}}],\"id\":\"5\",\"lastModified\":\"2018-04-18T10:54:50Z\"}]}}");
	}
	
	@Test
	public void addSiteErrorCodeStatsTest() {
		this.filter.setGroupBy("PROVIDER");
		this.filter.setCobrandId("10000004");
		this.filter.setTimeSlot("PT24H");
		this.filter.setConsolidatedBy("");
		this.filter.setInclude("errorcode");
		this.filter.setProviderIds("5");
		this.filter.setOffSetTimeSlot("");
		this.filter.setNumRecords("");
		this.filter.setTop("");
		this.filter.setCustomerId("10000004");
		this.filter.setReportType("Add");
		String response = this.dashBoardController.cobRefreshStats("3099:fdskj",devAppIdHeader, this.filter);
		Assert.assertNotNull(response);
		Assert.assertTrue(!response.isEmpty(), "addSiteErrorCodeStatsTest is empty");
		Assert.assertTrue(!response.contains("errorCode"), "addSiteErrorCodeStatsTest is throwing some error - "+response);
		Assert.assertTrue(response.contains("\"id\":\"5\""), "addSiteErrorCodeStatsTest JSON is changed - "+response);
		Assert.assertTrue(!response.contains("\"containerStats\""), "addSiteErrorCodeStatsTest JSON is changed - "+response);
		Assert.assertTrue(!response.contains("\"details\""), "addSiteErrorCodeStatsTest JSON is changed - "+response);
		Assert.assertEquals(response, "{\"refreshStats\":{\"orderBy\":\"VOLUME\",\"refreshType\":\"REFRESH\",\"groupBy\":\"PROVIDER\",\"info\":[{\"summary\":{\"totalVolume\":\"9565\",\"success\":{\"volume\":\"9197.0\",\"rate\":\"96.15\"},\"failure\":[{\"volume\":\"20\",\"rate\":\"0.21\",\"breakups\":[{\"volume\":\"14\",\"code\":\"403\",\"rate\":\"63.64\",\"description\":\"Updating Error\"},{\"volume\":\"6\",\"code\":\"404\",\"rate\":\"27.27\",\"description\":\"Updating Error\"},{\"volume\":\"2\",\"code\":\"413\",\"rate\":\"9.09\",\"description\":\"Updating Error\"}],\"type\":\"TECHNICAL\"},{\"volume\":\"255\",\"rate\":\"2.67\",\"breakups\":[{\"volume\":\"5\",\"code\":\"401\",\"rate\":\"1.69\",\"description\":\"Request Timed Out\"},{\"volume\":\"207\",\"code\":\"409\",\"rate\":\"70.17\",\"description\":\"Error At Wells Fargo\"},{\"volume\":\"82\",\"code\":\"412\",\"rate\":\"27.8\",\"description\":\"Error At Wells Fargo\"},{\"volume\":\"1\",\"code\":\"415\",\"rate\":\"0.34\",\"description\":\"Error At Wells Fargo \"}],\"type\":\"SITE\"},{\"volume\":\"93\",\"rate\":\"0.97\",\"breakups\":[{\"volume\":\"11\",\"code\":\"402\",\"rate\":\"9.65\",\"description\":\"Credential Re-Verification Required\"},{\"volume\":\"7\",\"code\":\"407\",\"rate\":\"6.14\",\"description\":\"Account locked\"},{\"volume\":\"47\",\"code\":\"414\",\"rate\":\"41.23\",\"description\":\"Requested Account Not Found\"},{\"volume\":\"1\",\"code\":\"428\",\"rate\":\"0.88\",\"description\":\"New Terms & Conditions\"},{\"volume\":\"11\",\"code\":\"429\",\"rate\":\"9.65\",\"description\":\"Updated Information Required\"},{\"volume\":\"29\",\"code\":\"518\",\"rate\":\"25.44\",\"description\":\"New Information Needed\"},{\"volume\":\"6\",\"code\":\"522\",\"rate\":\"5.26\",\"description\":\"Request Timed Out\"},{\"volume\":\"2\",\"code\":\"523\",\"rate\":\"1.75\",\"description\":\"Authentication Information Incorrect\"}],\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"27.29\",\"max\":\"0.0\"}},\"name\":\"Wells Fargo\",\"id\":\"5\",\"lastModified\":\"2018-03-06T04:00:00Z\"}]}}");
	}
	
	
	@Test
	public void addCobErrorCodeStatsTest() {
		this.filter.setGroupBy("COBRAND");
		this.filter.setCobrandId("10000004");
		this.filter.setTimeSlot("PT24H");
		this.filter.setConsolidatedBy("");
		this.filter.setInclude("errorcode");
		this.filter.setProviderIds("");
		this.filter.setOffSetTimeSlot("");
		this.filter.setNumRecords("");
		this.filter.setTop("");
		this.filter.setCustomerId("10000004");
		this.filter.setReportType("Add");
		String response = this.dashBoardController.cobRefreshStats("3099:fdskj",devAppIdHeader, this.filter);
		Assert.assertNotNull(response);
		Assert.assertTrue(!response.isEmpty(), "addCobErrorCodeStatsTest is empty");
		Assert.assertTrue(!response.contains("errorCode"), "addCobErrorCodeStatsTest is throwing some error - "+response);
		Assert.assertTrue(response.contains("\"id\":\"10000004\""), "addCobErrorCodeStatsTest JSON is changed - "+response);
		Assert.assertTrue(!response.contains("\"containerStats\""), "addCobErrorCodeStatsTest JSON is changed - "+response);
		Assert.assertTrue(response.contains("\"Multiple Logins\""), "addCobErrorCodeStatsTest JSON is changed - "+response);
		Assert.assertEquals(response, "{\"refreshStats\":{\"refreshType\":\"ADD\",\"groupBy\":\"COBRAND\",\"info\":[{\"summary\":{\"totalVolume\":\"59\",\"failure\":[{\"volume\":\"7\",\"rate\":\"11.86\",\"breakups\":[{\"volume\":\"1\",\"code\":\"413\",\"rate\":\"14.29\",\"description\":\"Updating Error\"},{\"volume\":\"6\",\"code\":\"504\",\"rate\":\"85.71\",\"description\":\"Un-defined error code\"}],\"type\":\"TECHNICAL\"},{\"volume\":\"4\",\"rate\":\"6.78\",\"breakups\":[{\"volume\":\"2\",\"code\":\"412\",\"rate\":\"50.0\",\"description\":\"Error At Site\"},{\"volume\":\"1\",\"code\":\"416\",\"rate\":\"25.0\",\"description\":\"Multiple Logins\"},{\"volume\":\"1\",\"code\":\"409\",\"rate\":\"25.0\",\"description\":\"Error At Site\"}],\"type\":\"SITE\"},{\"volume\":\"15\",\"rate\":\"25.42\",\"breakups\":[{\"volume\":\"2\",\"code\":\"522\",\"rate\":\"13.33\",\"description\":\"Request Timed Out\"},{\"volume\":\"12\",\"code\":\"402\",\"rate\":\"80.0\",\"description\":\"Credential Re-Verification Required\"},{\"volume\":\"1\",\"code\":\"407\",\"rate\":\"6.67\",\"description\":\"Account locked\"}],\"type\":\"USERACTIONREQUIRED\"}]},\"name\":\"Yodlee\",\"id\":\"10000004\"}]}}");
	}
	
	@Test
	public void siteErrorCodeStatsTest() {
		this.filter.setGroupBy("PROVIDER");
		this.filter.setCobrandId("10001372");
		this.filter.setTimeSlot("PT24H");
		this.filter.setConsolidatedBy("");
		this.filter.setInclude("errorcode");
		this.filter.setProviderIds("5");
		this.filter.setOffSetTimeSlot("");
		this.filter.setNumRecords("");
		this.filter.setTop("");
		this.filter.setCustomerId("10000004");
		this.filter.setReportType("REFRESH");
		String response = this.dashBoardController.cobRefreshStats("3099:fdskj",devAppIdHeader, this.filter);
		Assert.assertNotNull(response);
		Assert.assertTrue(!response.isEmpty(), "siteErrorCodeStats is empty");
		Assert.assertTrue(!response.contains("errorCode"), "siteErrorCodeStats is throwing some error - "+response);
		Assert.assertTrue(response.contains("\"code\":\"402\""), "siteErrorCodeStats JSON is changed - "+response);
		Assert.assertEquals(response, "{\"refreshStats\":{\"orderBy\":\"VOLUME\",\"refreshType\":\"REFRESH\",\"groupBy\":\"PROVIDER\",\"info\":[{\"summary\":{\"totalVolume\":\"9565\",\"success\":{\"volume\":\"9197.0\",\"rate\":\"96.15\"},\"failure\":[{\"volume\":\"20\",\"rate\":\"0.21\",\"breakups\":[{\"volume\":\"14\",\"code\":\"403\",\"rate\":\"63.64\",\"description\":\"Updating Error\"},{\"volume\":\"6\",\"code\":\"404\",\"rate\":\"27.27\",\"description\":\"Updating Error\"},{\"volume\":\"2\",\"code\":\"413\",\"rate\":\"9.09\",\"description\":\"Updating Error\"}],\"type\":\"TECHNICAL\"},{\"volume\":\"255\",\"rate\":\"2.67\",\"breakups\":[{\"volume\":\"5\",\"code\":\"401\",\"rate\":\"1.69\",\"description\":\"Request Timed Out\"},{\"volume\":\"207\",\"code\":\"409\",\"rate\":\"70.17\",\"description\":\"Error At Wells Fargo\"},{\"volume\":\"82\",\"code\":\"412\",\"rate\":\"27.8\",\"description\":\"Error At Wells Fargo\"},{\"volume\":\"1\",\"code\":\"415\",\"rate\":\"0.34\",\"description\":\"Error At Wells Fargo \"}],\"type\":\"SITE\"},{\"volume\":\"93\",\"rate\":\"0.97\",\"breakups\":[{\"volume\":\"11\",\"code\":\"402\",\"rate\":\"9.65\",\"description\":\"Credential Re-Verification Required\"},{\"volume\":\"7\",\"code\":\"407\",\"rate\":\"6.14\",\"description\":\"Account locked\"},{\"volume\":\"47\",\"code\":\"414\",\"rate\":\"41.23\",\"description\":\"Requested Account Not Found\"},{\"volume\":\"1\",\"code\":\"428\",\"rate\":\"0.88\",\"description\":\"New Terms & Conditions\"},{\"volume\":\"11\",\"code\":\"429\",\"rate\":\"9.65\",\"description\":\"Updated Information Required\"},{\"volume\":\"29\",\"code\":\"518\",\"rate\":\"25.44\",\"description\":\"New Information Needed\"},{\"volume\":\"6\",\"code\":\"522\",\"rate\":\"5.26\",\"description\":\"Request Timed Out\"},{\"volume\":\"2\",\"code\":\"523\",\"rate\":\"1.75\",\"description\":\"Authentication Information Incorrect\"}],\"type\":\"USERACTIONREQUIRED\"}],\"latency\":{\"min\":\"0.0\",\"avg\":\"27.29\",\"max\":\"0.0\"}},\"name\":\"Wells Fargo\",\"id\":\"5\",\"lastModified\":\"2018-03-06T04:00:00Z\"}]}}");
	}
	
	
	@Test
	public void refreshStatsFailureTest() {
		this.filter.setGroupBy("PROVIDER");
		this.filter.setCobrandId("");
		this.filter.setTimeSlot("PT24H");
		this.filter.setConsolidatedBy("");
		this.filter.setInclude("errorcode");
		this.filter.setOffSetTimeSlot("");
		this.filter.setProviderIds("5");
		this.filter.setCustomerId("");
		this.filter.setNumRecords("");
		this.filter.setTop("");
		this.filter.setReportType("REFRESH");
		String response = this.dashBoardController.cobRefreshStats("","", this.filter);
		Assert.assertTrue(response.contains("errorCode"), "refreshStatsFailureTest is not throwing some error - "+response);
		this.filter.setCobrandId("10001372");
		this.filter.setReportType("REFRESH");
	}
	
	
	@Test
	public void refreshStatsFailureCobrandValueNullTest() {
		this.filter.setGroupBy("PROVIDER");
		this.filter.setTimeSlot("PT24H");
		this.filter.setConsolidatedBy("");
		this.filter.setInclude("errorcode");
		this.filter.setOffSetTimeSlot("");
		this.filter.setProviderIds("5");
		this.filter.setNumRecords("");
		this.filter.setTop("");
		this.filter.setCustomerId("");
		this.filter.setCobrandId(null);
		this.filter.setReportType("REFRESH");
		String response = this.dashBoardController.cobRefreshStats("","", this.filter);
		 Assert.assertTrue(response.contains("errorCode"), "refreshStatsFailureTest is not throwing some error - "+response);
		this.filter.setCobrandId("10001372");
		this.filter.setReportType("REFRESH");
	}

	
	@Test
	public void refreshStatsFailureForEmptyParametersTest() {
		this.filter.setGroupBy("");
		this.filter.setCobrandId("");
		this.filter.setTimeSlot("");
		this.filter.setConsolidatedBy("");
		this.filter.setInclude("");
		this.filter.setOffSetTimeSlot("");
		this.filter.setProviderIds("");
		this.filter.setCustomerId("");
		this.filter.setNumRecords("");
		this.filter.setReportType("");
		this.filter.setTop("");
		this.filter.setReportType("");
		String response = this.dashBoardController.cobRefreshStats(null,null, this.filter);
		Assert.assertTrue(response.contains("errorCode"), "refreshStatsFailureTest is not throwing some error - "+response);
		this.filter.setCobrandId("10001372");
		this.filter.setReportType("REFRESH");
	}

	@Test
	public void refreshStatsFailureForNullParametersTest() {
		this.filter.setGroupBy(null);
		this.filter.setCobrandId(null);
		this.filter.setTimeSlot(null);
		this.filter.setConsolidatedBy(null);
		this.filter.setInclude(null);
		this.filter.setReportType(null);
		this.filter.setOffSetTimeSlot(null);
		this.filter.setProviderIds(null);
		this.filter.setCustomerId(null);
		this.filter.setNumRecords(null);
		this.filter.setTop(null);
		String response = this.dashBoardController.cobRefreshStats(null,null, this.filter);
		Assert.assertTrue(response.contains("errorCode"), "refreshStatsFailureTest is not throwing some error - "+response);
		this.filter.setCobrandId("10001372");
		this.filter.setReportType("REFRESH");
	}

	
	
}
