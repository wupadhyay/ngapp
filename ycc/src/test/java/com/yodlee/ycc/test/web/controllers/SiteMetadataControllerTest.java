/**
 *
 * Copyright (c) 2016 Yodlee Inc. All Rights Reserved.
 *
 * This software is the confidential and proprietary information of Yodlee, Inc.
 * Use is subject to license terms.
 *
 */

package com.yodlee.ycc.test.web.controllers;



import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.beans.factory.annotation.Autowired;
import org.testng.Assert;
import org.testng.annotations.BeforeClass;
import org.testng.annotations.Test;

import com.yodlee.ycc.app.search.SiteSearchFilter;
import com.yodlee.ycc.app.web.controllers.SiteMetadataController;
import com.yodlee.ycc.test.web.MainServiceTest;

public class SiteMetadataControllerTest extends MainServiceTest{

	private static final String devAppIdHeader = "94AAC319-CF5E-4733-AA42-CA88C79C656D";

	private static Logger logger = LoggerFactory.getLogger(SiteMetadataControllerTest.class);

	@Autowired
	private SiteMetadataController sitemetadataController;

	private SiteSearchFilter siteSearchFilter;


	@BeforeClass
	public void setRequestParameters() {
		this.siteSearchFilter=new SiteSearchFilter();

	}

	@Test
	public void siteIdSearchWidgetTest() {
		this.siteSearchFilter.setName("");
		this.siteSearchFilter.setFieldName("favicon,status,loginUrl,baseUrl,name");		
		this.siteSearchFilter.setAgentName("");
		this.siteSearchFilter.setCobrandId("10001372");
		this.siteSearchFilter.setUrl("");
		this.siteSearchFilter.setProviderName("");
		this.siteSearchFilter.setCustomerId("10000004");
		this.siteSearchFilter.setProviderIds("5");
		this.siteSearchFilter.setProviderId("");
		String sites = this.sitemetadataController.siteFaviconSearch("3099:fdskj",devAppIdHeader, this.siteSearchFilter);
		Assert.assertNotNull(sites);
		Assert.assertTrue(!sites.isEmpty(), "siteIdSearchWidget is empty");
		Assert.assertTrue(!sites.contains("errorCode"), "siteIdSearchWidget is throwing some error - "+sites);
		Assert.assertTrue(sites.contains("\"id\":5"), "siteIdSearchWidget JSON is changed - "+sites);
		Assert.assertTrue(sites.contains("\"PROVIDERID\""), "siteIdSearchWidget JSON is changed - "+sites);
		Assert.assertTrue(sites.contains("\"123!~@#$^*()D\""), "siteIdSearchWidget JSON is changed - "+sites);
		Assert.assertEquals(sites, "{\"provider\":[{\"baseUrl\":\"https://www.wellsfargo.com/\",\"favicon\":\"http://yodlee.vo.llnwd.net/v1/FAVICON/FAV_5.SVG\",\"loginUrl\":\"https://connect.secure.wellsfargo.com/auth/login/present?origin=yodlee\",\"PROVIDERID\":\"PROVIDERID\",\"name\":\"123!~@#$^*()D\",\"id\":5,\"status\":\"Unsupported\"}]}");
	}

	@Test
	public void siteNameSearchWidgetTest() {
		this.siteSearchFilter.setName("Wellsfargo");
		this.siteSearchFilter.setFieldName("favicon,status,loginUrl,baseUrl,name");		
		this.siteSearchFilter.setAgentName("");
		this.siteSearchFilter.setCobrandId("10001372");
		this.siteSearchFilter.setUrl("");
		this.siteSearchFilter.setProviderName("");
		this.siteSearchFilter.setCustomerId("10000004");
		this.siteSearchFilter.setProviderIds("");
		this.siteSearchFilter.setProviderId("");
		String sites = this.sitemetadataController.siteFaviconSearch("3099:fdskj",devAppIdHeader, this.siteSearchFilter);
		Assert.assertNotNull(sites);
		Assert.assertTrue(!sites.isEmpty(), "siteNameSearchWidget is empty");
		Assert.assertTrue(!sites.contains("errorCode"), "siteNameSearchWidget is throwing some error - "+sites);
		Assert.assertTrue(sites.contains("\"id\":5"), "siteNameSearchWidget JSON is changed - "+sites);
		Assert.assertTrue(sites.contains("\"PROVIDERID\""), "siteNameSearchWidget JSON is changed - "+sites);
		Assert.assertTrue(sites.contains("\"Wells Fargo\""), "siteNameSearchWidget JSON is changed - "+sites);
		Assert.assertEquals(sites, "{\"provider\":[{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo\",\"id\":5},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Retirement Services\",\"id\":3008},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Asset Management\",\"id\":3298},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo\",\"id\":3658},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo 401K\",\"id\":3700},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo\",\"id\":4053},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Advisors\",\"id\":4891},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Funds\",\"id\":5032},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo (Your Retirement Plan)\",\"id\":8582},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Bank\",\"id\":8693},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Shareowner Online\",\"id\":8826},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Bank\",\"id\":8830},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Home Mortgage\",\"id\":8850},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Management and Trust\",\"id\":8903},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Executive Benefits\",\"id\":9147},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo & Company 401(k) Plan\",\"id\":9674},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"WellsFargo Education Financial Services\",\"id\":9897},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Business Card Rewards\",\"id\":10293},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Tution Rewards(Sage Scholar)\",\"id\":10340},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo 401(k) Online\",\"id\":10430},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo - Private Client Services\",\"id\":10527},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Adv. Funds (Inv. Professional)\",\"id\":10632},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo- The Private Bank\",\"id\":10957},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo - Your BenefitsResources\",\"id\":11545},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"WellsFargo Financial(Visa,Master,Nowline,COD Card)\",\"id\":11722},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Dealer Services\",\"id\":12178},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo HSA\",\"id\":12494},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Small Business\",\"id\":13167},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo (Commercial Electronic Office)\",\"id\":13286},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo - Retirement Savings\",\"id\":13394},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Advisors\",\"id\":13635},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo and Company 401(k) Plan\",\"id\":14077},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Teamworks 401k\",\"id\":14082},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Deferred Compensation Plan\",\"id\":15025},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Retirement\",\"id\":15459},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Retirement Solutions\",\"id\":15687},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Retirement Plan\",\"id\":16199},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Wealth Management & Trust\",\"id\":17845},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Go Far Rewards\",\"id\":18467},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Executive Benefits\",\"id\":18995},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo-YourMortgage\",\"id\":19614},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"WELLS FARGO\",\"id\":19751},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo 401K - Allegis\",\"id\":20093},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Advisors - First Clearing\",\"id\":21170},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo - Business Elite Card\",\"id\":22020},{\"PROVIDERID\":\"PROVIDERID\",\"name\":\"wells fargo credit union\",\"id\":146783}]}");
	}

	@Test
	public void siteSearchWidgetFailureTest() {
		this.siteSearchFilter.setName(null);
		this.siteSearchFilter.setFieldName("");		
		this.siteSearchFilter.setAgentName("");
		this.siteSearchFilter.setCobrandId("[10001372]");
		this.siteSearchFilter.setUrl("");
		this.siteSearchFilter.setProviderId("");
		this.siteSearchFilter.setProviderName("");
		this.siteSearchFilter.setCustomerId("10000004");
		this.siteSearchFilter.setProviderIds(null);
		String sites = this.sitemetadataController.siteFaviconSearch("3099:fdskj",devAppIdHeader, this.siteSearchFilter);
		Assert.assertNotNull(sites);
		Assert.assertTrue(!sites.isEmpty(), "siteSearchWidgetFailure is not empty");
		Assert.assertTrue(!sites.contains("errorCode"), "siteSearchWidgetFailure is throwing some error - "+sites);
		Assert.assertTrue(!sites.contains("\"id\":\"5\""), "siteSearchWidgetFailure JSON is changed - "+sites);
		Assert.assertTrue(!sites.contains("\"PROVIDERID\""), "siteSearchWidgetFailure JSON is changed - "+sites);
		Assert.assertEquals(sites, "{}");
	}

	@Test
	public void siteSearchWidgetForCobrandNullFailureTest() {
		this.siteSearchFilter.setName(null);
		this.siteSearchFilter.setAgentName("");
		this.siteSearchFilter.setUrl("");
		this.siteSearchFilter.setProviderId("");
		this.siteSearchFilter.setProviderName("");
		this.siteSearchFilter.setCustomerId("10000004");
		this.siteSearchFilter.setProviderIds(null);
		this.siteSearchFilter.setCobrandId(null);
		this.siteSearchFilter.setFieldName(null);		
		String sites = this.sitemetadataController.siteFaviconSearch("3099:fdskj",devAppIdHeader, this.siteSearchFilter);
		Assert.assertTrue(sites.contains("errorCode"), "siteSearchWidgetFailure is throwing some error - "+sites);
	}

	@Test
	public void siteSearchWidgetFailureForCobrandEmptyTest() {
		this.siteSearchFilter.setName(null);
		this.siteSearchFilter.setFieldName("");		
		this.siteSearchFilter.setAgentName("");
		this.siteSearchFilter.setUrl("");
		this.siteSearchFilter.setProviderId("");
		this.siteSearchFilter.setProviderName("");
		this.siteSearchFilter.setCustomerId("10000004");
		this.siteSearchFilter.setProviderIds(null);
		this.siteSearchFilter.setCobrandId("");
		String sites = this.sitemetadataController.siteFaviconSearch("3099:fdskj",devAppIdHeader, this.siteSearchFilter);
		Assert.assertTrue(sites.contains("errorCode"), "siteSearchWidgetFailure is throwing some error - "+sites);
	}

	@Test
	public void siteIdSearchTest() {
		this.siteSearchFilter.setName("");
		this.siteSearchFilter.setFieldName("");		
		this.siteSearchFilter.setAgentName("");
		this.siteSearchFilter.setCobrandId("10001372");
		this.siteSearchFilter.setUrl("");
		this.siteSearchFilter.setProviderName("");
		this.siteSearchFilter.setCustomerId("10000004");
		this.siteSearchFilter.setProviderIds("");
		this.siteSearchFilter.setProviderId("5");
		String sites = this.sitemetadataController.siteSearch("3099:fdskj",devAppIdHeader, this.siteSearchFilter);
		Assert.assertNotNull(sites);
		Assert.assertTrue(!sites.isEmpty(), "siteIdSearch is empty");
		Assert.assertTrue(!sites.contains("errorCode"), "siteIdSearch is throwing some error - "+sites);
		Assert.assertTrue(sites.contains("\"id\":5"), "siteIdSearch JSON is changed - "+sites);
		Assert.assertTrue(sites.contains("\"PROVIDERID\""), "siteIdSearch JSON is changed - "+sites);
		Assert.assertTrue(sites.contains("\"containerNames\""), "siteIdSearch JSON is changed - "+sites);
	//	Assert.assertEquals(sites, "{\"provider\":[{\"country\":\"UNITED STATES\",\"languageISOCode\":\"EN\",\"aggregationType\":\"HYBRID\",\"forgetPasswordUrl\":\"https://online.wellsfargo.com/das/cgi-bin/session.cgi?screenid=PASSWORD_HELP\",\"containerNames\":[\"bank\",\"bank\",\"credits\",\"stocks\",\"loans\",\"mortgage\",\"bill_payment\"],\"capability\":[{\"container\":[\"bank\"],\"name\":\"CHALLENGE_DEPOSIT_VERIFICATION\"}],\"additionalDataSet\":[{\"name\":\"ACCT_PROFILE\",\"attribute\":[{\"container\":[\"bank\"],\"name\":\"FULL_ACCT_NUMBER\"},{\"container\":[\"bank\"],\"name\":\"BANK_TRANSFER_CODE\"},{\"container\":[\"bank\"],\"name\":\"HOLDER_NAME\"},{\"container\":[\"bank\"],\"name\":\"HOLDER_DETAILS\"}]},{\"name\":\"DOCUMENT\",\"attribute\":[{\"container\":[\"bank\",\"stocks\",\"credits\",\"loans\",\"mortgage\",\"bill_payment\",\"bank\",\"loans\"],\"containerAttribute\":[{\"BANK\":{\"noOfDays\":365}},{\"STOCKS\":{\"noOfDays\":365}},{\"CREDITS\":{\"noOfDays\":90}},{\"LOANS\":{\"noOfDays\":90}},{\"MORTGAGE\":{\"noOfDays\":90}},{\"BILL_PAYMENT\":{\"noOfDays\":90}},{\"BANK\":{\"noOfDays\":3285}},{\"LOANS\":{\"noOfDays\":1825}}],\"name\":\"TAX\"},{\"container\":[\"bank\",\"stocks\",\"credits\",\"loans\",\"mortgage\",\"bill_payment\",\"bank\",\"stocks\",\"bank\"],\"containerAttribute\":[{\"BANK\":{\"noOfDays\":180}},{\"STOCKS\":{\"noOfDays\":90}},{\"CREDITS\":{\"noOfDays\":90}},{\"LOANS\":{\"noOfDays\":90}},{\"MORTGAGE\":{\"noOfDays\":90}},{\"BILL_PAYMENT\":{\"noOfDays\":90}},{\"BANK\":{\"noOfDays\":1}},{\"STOCKS\":{\"noOfDays\":90}},{\"BANK\":{\"noOfDays\":360}}],\"name\":\"STATEMENT\"},{\"container\":[\"mortgage\",\"loans\",\"bank\",\"stocks\",\"bill_payment\",\"mortgage\",\"loans\",\"credits\",\"credits\"],\"containerAttribute\":[{\"MORTGAGE\":{\"noOfDays\":90}},{\"LOANS\":{\"noOfDays\":365}},{\"BANK\":{\"noOfDays\":90}},{\"STOCKS\":{\"noOfDays\":90}},{\"BILL_PAYMENT\":{\"noOfDays\":90}},{\"MORTGAGE\":{\"noOfDays\":90}},{\"LOANS\":{\"noOfDays\":1020}},{\"CREDITS\":{\"noOfDays\":90}},{\"CREDITS\":{\"noOfDays\":90}}],\"name\":\"EBILL\"}]},{\"name\":\"INVESTMENT_OPTIONS\",\"attribute\":[{\"container\":[\"stocks\"]}]}],\"loginUrl\":\"https://www.wellsfargo.com/\",\"mfaType\":\"Multiple levels of strong authentication.\",\"isAutoRefreshEnabled\":true,\"providerCategory\":\"General\",\"logo\":\"https://192.168.210.234:8743/appscenter/bvtmcappscenter/ytmprod/siteImage.bvtmcfast.do?access_type=APPS_CENTER_PRODUCTION&siteId=LOGO/LOGO_5_1_2.SVG\",\"id\":5,\"authType\":\"OAUTH\",\"favicon\":\"https://192.168.210.234:8743/appscenter/bvtmcappscenter/ytmprod/siteImage.bvtmcfast.do?access_type=APPS_CENTER_PRODUCTION&siteId=FAVICON/FAV_5.SVG\",\"countryISOCode\":\"US\",\"PROVIDERID\":\"PROVIDERID\",\"primaryLanguageISOCode\":\"ENGLISH\",\"baseUrl\":\"https://www.wellsfargo.com/\",\"loginForm\":{\"forgetPasswordURL\":\"https://online.wellsfargo.com/das/cgi-bin/session.cgi?screenid=PASSWORD_HELP\",\"formType\":\"login\",\"id\":5,\"row\":[{\"fieldRowChoice\":\"0001\",\"form\":\"0001\",\"field\":[{\"size\":20,\"name\":\"LOGIN\",\"valueEditable\":true,\"id\":12,\"isOptional\":false,\"type\":\"text\",\"value\":\"\",\"maxLength\":14}],\"id\":121254,\"label\":\"Username\"},{\"fieldRowChoice\":\"0002\",\"form\":\"0001\",\"field\":[{\"size\":20,\"name\":\"PASSWORD\",\"valueEditable\":true,\"id\":13,\"isOptional\":false,\"type\":\"password\",\"value\":\"\",\"maxLength\":14}],\"id\":121253,\"label\":\"Password\"}]},\"localizedProviderAttributes\":[{\"nameWithCountry\":\"China\",\"languageISOCode\":\"CHINESE\",\"baseURL\":\"https://online.wellsfargo.com\",\"forgetPasswordURL\":\"https://online.wellsfargo.com\",\"loginURL\":\"https://online.wellsfargo.com\",\"countryISOCode\":\"CN\",\"name\":\"ABCDEEE\",\"id\":5}],\"containerAttributes\":{\"LOANS\":{\"isAutoRefreshEnabled\":false,\"name\":\"Wells Fargo - Loan\",\"agentName\":\"WellsFargoBankLoan\",\"numberOfTransactionDays\":90,\"id\":4594,\"lastModified\":\"2018-01-30T15:32:00Z\",\"status\":\"Unsupported\"},\"CREDITS\":{\"isAutoRefreshEnabled\":false,\"name\":\"Wells Fargo - Credit Card\",\"agentName\":\"WellsfargoCredits\",\"numberOfTransactionDays\":90,\"id\":982,\"lastModified\":\"2018-01-27T20:34:00Z\",\"status\":\"Unsupported\"},\"BANK\":{\"isAutoRefreshEnabled\":false,\"name\":\"Wells Fargo - Bank\",\"agentName\":\"Wellsfargo\",\"numberOfTransactionDays\":90,\"id\":5,\"lastModified\":\"2018-01-30T16:38:00Z\",\"status\":\"Unsupported\"},\"BILL_PAYMENT\":{\"isAutoRefreshEnabled\":false,\"name\":\"Wells Fargo - Bill Pay\",\"agentName\":\"WellsFargoBankBillPay\",\"numberOfTransactionDays\":90,\"id\":4646,\"lastModified\":\"2018-01-29T23:18:00Z\",\"status\":\"Unsupported\"},\"MORTGAGE\":{\"isAutoRefreshEnabled\":false,\"name\":\"Wells Fargo - Mortgage\",\"agentName\":\"WellsfargoMortgage\",\"numberOfTransactionDays\":90,\"id\":3797,\"lastModified\":\"2018-01-29T01:05:00Z\",\"status\":\"Unsupported\"},\"STOCKS\":{\"isAutoRefreshEnabled\":false,\"name\":\"Wells Fargo - Investments\",\"agentName\":\"WellsfargoInvestments\",\"numberOfTransactionDays\":90,\"id\":10862,\"lastModified\":\"2018-01-30T16:38:00Z\",\"status\":\"Unsupported\"}},\"name\":\"Wells Fargo\",\"lastModified\":\"2018-01-30T16:38:00Z\",\"status\":\"Unsupported\"}]}");
	}


	@Test
	public void siteNameSearchTest() {
		this.siteSearchFilter.setName("");
		this.siteSearchFilter.setFieldName("");		
		this.siteSearchFilter.setAgentName("");
		this.siteSearchFilter.setCobrandId("10001372");
		this.siteSearchFilter.setUrl("");
		this.siteSearchFilter.setProviderName("Wellsfargo");
		this.siteSearchFilter.setCustomerId("10000004");
		this.siteSearchFilter.setProviderIds("");
		this.siteSearchFilter.setProviderId("");
		String sites = this.sitemetadataController.siteSearch("3099:fdskj",devAppIdHeader, this.siteSearchFilter);
		Assert.assertNotNull(sites);
		Assert.assertTrue(!sites.isEmpty(), "siteNameSearch is empty");
		Assert.assertTrue(!sites.contains("errorCode"), "siteNameSearch is throwing some error - "+sites);
		Assert.assertTrue(sites.contains("\"id\":5"), "siteNameSearch JSON is changed - "+sites);
		Assert.assertTrue(sites.contains("\"PROVIDERID\""), "siteNameSearch JSON is changed - "+sites);
		Assert.assertTrue(sites.contains("\"Wells Fargo\""), "siteNameSearch JSON is changed - "+sites);
		Assert.assertEquals(sites, "{\"provider\":[{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/\",\"aggregationType\":\"HYBRID\",\"loginUrl\":\"https://connect.secure.wellsfargo.com/auth/login/present?origin=yodlee\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo\",\"id\":5,\"status\":\"Unsupported\",\"containerNames\":[\"bank\",\"bank\",\"credits\",\"stocks\",\"loans\",\"mortgage\",\"bill_payment\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://retirementservices.wellsfargo.com/Online/Financial/Business/Service?action=ampLogin\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://connect.secure.wellsfargo.com/auth/login/present?origin=irt\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Retirement Services\",\"id\":3008,\"status\":\"Unsupported\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargofunds.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://www.wellsfargofunds.com/ind?BV_UseBVCookie=no\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Asset Management\",\"id\":3298,\"status\":\"Unsupported\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/mortgage/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.wellsfargo.com/\",\"isAutoRefreshEnabled\":false,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo\",\"id\":3658,\"status\":\"Unavailable\",\"containerNames\":[\"mortgage\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/home.jhtml\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://connect.secure.wellsfargo.com/auth/login/present?origin=irt\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo 401K\",\"id\":3700,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.wellsfargo.com\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.wellsfargo.com/\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo\",\"id\":4053,\"status\":\"Unavailable\",\"containerNames\":[\"bill_payment\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargoadvisors.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://www.wellsfargoadvisors.com/online-access/signon.htm\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Advisors\",\"id\":4891,\"status\":\"Unsupported\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.wellsfargoadvantagefunds.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://www.wellsfargoadvantagefunds.com/wfweb/oaa_guest/login.jsp?core=1\",\"isAutoRefreshEnabled\":false,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Funds\",\"id\":5032,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/retirementplan/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://connect.secure.wellsfargo.com/auth/login/present?origin=irt\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo (Your Retirement Plan)\",\"id\":8582,\"status\":\"Unsupported\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.dummy.com\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://www.dymmy.com\",\"isAutoRefreshEnabled\":false,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Bank\",\"id\":8693,\"status\":\"Unavailable\",\"containerNames\":[\"tax\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.wellsfargo.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://www.shareowneronline.com/UserManagement/WFIndex.aspx\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Shareowner Online\",\"id\":8826,\"status\":\"Unsupported\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.wellsfargo.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.wellsfargo.com/\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Bank\",\"id\":8830,\"status\":\"Unavailable\",\"containerNames\":[\"bank\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.wellsfargo.com/mortgage/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.wellsfargo.com/\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Home Mortgage\",\"id\":8850,\"status\":\"Unavailable\",\"containerNames\":[\"mortgage\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.wellsfargo.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://banking.wellsfargo.com/\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Management and Trust\",\"id\":8903,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://execbenefits.nqbenefits.com/participant\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Executive Benefits\",\"id\":9147,\"status\":\"Unsupported\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://corporateretirementportal.wellsfargo.com/login/login.fcc?TYPE=33554433&REALMOID=06-98657d84-0f1e-10e4-9447\",\"isAutoRefreshEnabled\":false,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo & Company 401(k) Plan\",\"id\":9674,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://efs.wellsfargo.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.wellsfargo.com/\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"WellsFargo Education Financial Services\",\"id\":9897,\"status\":\"Unavailable\",\"containerNames\":[\"loans\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargorewards.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://businesscard.wellsfargorewards.com/ip-wf/app/Login\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Business Card Rewards\",\"id\":10293,\"status\":\"Unsupported\",\"containerNames\":[\"miles\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.tuitionrewards.com/?wellsfargo\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://secure.tuitionrewards.com/index.cfm?p=login&rtnMsg=30\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Tution Rewards(Sage Scholar)\",\"id\":10340,\"status\":\"UnsupportedBeta\",\"containerNames\":[\"miles\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo401konline.com\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://www.wellsfargo401konline.com\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo 401(k) Online\",\"id\":10430,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://www.wellsfargoadvisors.com/online-access/signon.htm\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo - Private Client Services\",\"id\":10527,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargoadvantagefunds.com\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://www.wellsfargofunds.com/ip\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Adv. Funds (Inv. Professional)\",\"id\":10632,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/the-private-bank/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://connect.secure.wellsfargo.com/auth/login/present\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo- The Private Bank\",\"id\":10957,\"status\":\"Unsupported\",\"containerNames\":[\"stocks\",\"tax\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://cobra.ehr.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://cobra.ehr.com/ESS/Home/Login.aspx?ReturnUrl=%2fESS\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo - Your BenefitsResources\",\"id\":11545,\"status\":\"Unsupported\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://financial.wellsfargo.com/index.html\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://www.wellsfargofinancialcards.com/eCustService/\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"WellsFargo Financial(Visa,Master,Nowline,COD Card)\",\"id\":11722,\"status\":\"Unsupported\",\"containerNames\":[\"credits\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.wellsfargodealerservices.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://eservices.wellsfargodealerservices.com/MyAccount/Login.aspx\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Dealer Services\",\"id\":12178,\"status\":\"Unsupported\",\"containerNames\":[\"loans\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/investing/hsa/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://connect.secure.wellsfargo.com/auth/log\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo HSA\",\"id\":12494,\"status\":\"Unsupported\",\"containerNames\":[\"bank\",\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.wellsfargo.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.wellsfargo.com/login\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Small Business\",\"id\":13167,\"status\":\"Unavailable\",\"containerNames\":[\"bank\",\"credits\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://wellsoffice.wellsfargo.com/portal/signon/index.jsp\",\"isAutoRefreshEnabled\":false,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo (Commercial Electronic Office)\",\"id\":13286,\"status\":\"Unsupported\",\"containerNames\":[\"bank\",\"credits\",\"stocks\",\"loans\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/retirementplan/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://connect.secure.wellsfargo.com/auth/login/present?origin=irt\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo - Retirement Savings\",\"id\":13394,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargoadvisors.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://www.wellsfargoadvisors.com/online-access/signon.htm\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Advisors\",\"id\":13635,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://corporateretirementportal.wellsfargo.com/wps2/myretirement\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo and Company 401(k) Plan\",\"id\":14077,\"status\":\"Unsupported\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://teamworks.wellsfargo.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"http://teamworks.wellsfargo.com/\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Teamworks 401k\",\"id\":14082,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://teamworks.wellsfargo.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://www-us.computershare.com/employee/login/selectcompany.aspx?cc=US&lang=en\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Deferred Compensation Plan\",\"id\":15025,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/retirementplan/amp/index\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://www.wellsfargo.com/retirementplan/\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Retirement\",\"id\":15459,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/retirementplan/solutions/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://www.wellsfargo.com/retirementplan/\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Retirement Solutions\",\"id\":15687,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/retirementplan/wrs/index\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://www.wellsfargo.com/retirementplan/\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Retirement Plan\",\"id\":16199,\"status\":\"Unsupported\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://connect.secure.wellsfargo.com/auth/login/present\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Wealth Management & Trust\",\"id\":17845,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://gofarrewards.wf.com/#/welcome\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://connect.secure.wellsfargo.com/auth/login/rewards\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\" Wells Fargo Go Far Rewards\",\"id\":18467,\"status\":\"Unsupported\",\"containerNames\":[\"miles\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.dymmy.com\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://execbenefits.nqbenefits.com/participant\",\"isAutoRefreshEnabled\":false,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Executive Benefits\",\"id\":18995,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://wellsfargo.customercarenet.com/ccn/wellsfargo/mymortgage.html#pid=HOME-C\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://wellsfargo.customercarenet.com/ccn/wellsfargo/mymortgage.html#pid=HOME-C\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo-YourMortgage\",\"id\":19614,\"status\":\"Unsupported\",\"containerNames\":[\"mortgage\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.wellsfargo.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.wellsfargo.com\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"WELLS FARGO\",\"id\":19751,\"status\":\"Unsupported\",\"containerNames\":[\"bank\",\"credits\",\"stocks\",\"loans\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://connect.secure.wellsfargo.com/auth/login/present?origin=irt\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo 401K - Allegis\",\"id\":20093,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://wfa.fccaccessonline.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://wfa.fccaccessonline.com/\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Advisors - First Clearing\",\"id\":21170,\"status\":\"UnsupportedBeta\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://360control.firstdata.com/UI/login/views/login.html#/Login\",\"isAutoRefreshEnabled\":false,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo - Business Elite Card\",\"id\":22020,\"status\":\"Unsupported\",\"containerNames\":[\"credits\"]},{\"country\":\"AUSTRIA\",\"baseUrl\":\"https://192.168.210.107\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://192.168.210.70:10043/ycc/createSumInfo.yodlee.do\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"wells fargo credit union\",\"id\":146783,\"status\":\"Unsupported\",\"containerNames\":[\"RealEstate\"]}]}");
	}

	@Test
	public void siteUrlSearchTest() {
		this.siteSearchFilter.setName("");
		this.siteSearchFilter.setFieldName("");		
		this.siteSearchFilter.setAgentName("");
		this.siteSearchFilter.setCobrandId("10001372");
		this.siteSearchFilter.setUrl("wellsfargo");
		this.siteSearchFilter.setProviderId("");
		this.siteSearchFilter.setProviderName("");
		this.siteSearchFilter.setCustomerId("10000004");
		this.siteSearchFilter.setProviderIds("");
		String sites = this.sitemetadataController.siteSearch("3099:fdskj",devAppIdHeader, this.siteSearchFilter);
		Assert.assertNotNull(sites);
		Assert.assertTrue(!sites.isEmpty(), "siteUrlSearch is empty");
		Assert.assertTrue(!sites.contains("errorCode"), "siteUrlSearch is throwing some error - "+sites);
		Assert.assertTrue(sites.contains("\"id\":5"), "siteUrlSearch JSON is changed - "+sites);
		Assert.assertTrue(sites.contains("\"PROVIDERID\""), "siteUrlSearch JSON is changed - "+sites);
		Assert.assertTrue(sites.contains("\"containerNames\""), "siteUrlSearch JSON is changed - "+sites);
		Assert.assertEquals(sites, "{\"provider\":[{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/\",\"aggregationType\":\"HYBRID\",\"loginUrl\":\"https://connect.secure.wellsfargo.com/auth/login/present?origin=yodlee\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo\",\"id\":5,\"status\":\"Unsupported\",\"containerNames\":[\"bank\",\"bank\",\"credits\",\"stocks\",\"loans\",\"mortgage\",\"bill_payment\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.wellsfargo.com/wellstrade/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.wellsfargo.com/signon?LOB=CONS\",\"isAutoRefreshEnabled\":false,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"WellsTrade\",\"id\":2989,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\",\"tax\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://retirementservices.wellsfargo.com/Online/Financial/Business/Service?action=ampLogin\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://connect.secure.wellsfargo.com/auth/login/present?origin=irt\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Retirement Services\",\"id\":3008,\"status\":\"Unsupported\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargofunds.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://www.wellsfargofunds.com/ind?BV_UseBVCookie=no\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Asset Management\",\"id\":3298,\"status\":\"Unsupported\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/mortgage/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.wellsfargo.com/\",\"isAutoRefreshEnabled\":false,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo\",\"id\":3658,\"status\":\"Unavailable\",\"containerNames\":[\"mortgage\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/home.jhtml\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://connect.secure.wellsfargo.com/auth/login/present?origin=irt\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo 401K\",\"id\":3700,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.wellsfargo.com\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.wellsfargo.com/\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo\",\"id\":4053,\"status\":\"Unavailable\",\"containerNames\":[\"bill_payment\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargoadvisors.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://www.wellsfargoadvisors.com/online-access/signon.htm\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Advisors\",\"id\":4891,\"status\":\"Unsupported\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.wellsfargoadvantagefunds.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://www.wellsfargoadvantagefunds.com/wfweb/oaa_guest/login.jsp?core=1\",\"isAutoRefreshEnabled\":false,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Funds\",\"id\":5032,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/retirementplan/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://connect.secure.wellsfargo.com/auth/login/present?origin=irt\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo (Your Retirement Plan)\",\"id\":8582,\"status\":\"Unsupported\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/investing/wellstrade-online-brokerage/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://connect.secure.wellsfargo.com/auth/login/present?origin=cob&LOB=CONS\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wachovia Portfolio Online\",\"id\":8647,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.wellsfargo.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.wellsfargo.com/\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Bank\",\"id\":8830,\"status\":\"Unavailable\",\"containerNames\":[\"bank\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.wellsfargo.com/mortgage/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.wellsfargo.com/\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Home Mortgage\",\"id\":8850,\"status\":\"Unavailable\",\"containerNames\":[\"mortgage\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.wellsfargo.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://banking.wellsfargo.com/\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Management and Trust\",\"id\":8903,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://corporateretirementportal.wellsfargo.com/login/login.fcc?TYPE=33554433&REALMOID=06-98657d84-0f1e-10e4-9447\",\"isAutoRefreshEnabled\":false,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo & Company 401(k) Plan\",\"id\":9674,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://efs.wellsfargo.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.wellsfargo.com/\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"WellsFargo Education Financial Services\",\"id\":9897,\"status\":\"Unavailable\",\"containerNames\":[\"loans\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargorewards.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://businesscard.wellsfargorewards.com/ip-wf/app/Login\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Business Card Rewards\",\"id\":10293,\"status\":\"Unsupported\",\"containerNames\":[\"miles\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo401konline.com\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://www.wellsfargo401konline.com\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo 401(k) Online\",\"id\":10430,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://www.wellsfargoadvisors.com/online-access/signon.htm\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo - Private Client Services\",\"id\":10527,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargoadvantagefunds.com\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://www.wellsfargofunds.com/ip\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Adv. Funds (Inv. Professional)\",\"id\":10632,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/the-private-bank/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://connect.secure.wellsfargo.com/auth/login/present\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo- The Private Bank\",\"id\":10957,\"status\":\"Unsupported\",\"containerNames\":[\"stocks\",\"tax\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://financial.wellsfargo.com/index.html\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://www.wellsfargofinancialcards.com/eCustService/\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"WellsFargo Financial(Visa,Master,Nowline,COD Card)\",\"id\":11722,\"status\":\"Unsupported\",\"containerNames\":[\"credits\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://wellsfargo.customercarenet.com/ccn/wellsfargo/mymortgage.html#HOME-C\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://wellsfargo.customercarenet.com/ccn/wellsfargo/mymortgage.html#HOME-C\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"America's Servicing Company - Mortgage\",\"id\":12172,\"status\":\"Unsupported\",\"containerNames\":[\"mortgage\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.wellsfargodealerservices.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://eservices.wellsfargodealerservices.com/MyAccount/Login.aspx\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Dealer Services\",\"id\":12178,\"status\":\"Unsupported\",\"containerNames\":[\"loans\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/investing/hsa/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://connect.secure.wellsfargo.com/auth/log\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo HSA\",\"id\":12494,\"status\":\"Unsupported\",\"containerNames\":[\"bank\",\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.wellsfargo.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.wellsfargo.com/login\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Small Business\",\"id\":13167,\"status\":\"Unavailable\",\"containerNames\":[\"bank\",\"credits\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://wellsoffice.wellsfargo.com/portal/signon/index.jsp\",\"isAutoRefreshEnabled\":false,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo (Commercial Electronic Office)\",\"id\":13286,\"status\":\"Unsupported\",\"containerNames\":[\"bank\",\"credits\",\"stocks\",\"loans\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/retirementplan/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://connect.secure.wellsfargo.com/auth/login/present?origin=irt\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo - Retirement Savings\",\"id\":13394,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargoadvisors.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://www.wellsfargoadvisors.com/online-access/signon.htm\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Advisors\",\"id\":13635,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://corporateretirementportal.wellsfargo.com/wps2/myretirement\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo and Company 401(k) Plan\",\"id\":14077,\"status\":\"Unsupported\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://teamworks.wellsfargo.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"http://teamworks.wellsfargo.com/\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Teamworks 401k\",\"id\":14082,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/retirementplansite/penske\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://connect.secure.wellsfargo.com/auth/login/present?origin=irt\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Penske 401(k)\",\"id\":14095,\"status\":\"Unsupported\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/retirementplan/amp/index\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://www.wellsfargo.com/retirementplan/\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Retirement\",\"id\":15459,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/retirementplan/solutions/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://www.wellsfargo.com/retirementplan/\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Retirement Solutions\",\"id\":15687,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/retirementplan/wrs/index\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://www.wellsfargo.com/retirementplan/\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Retirement Plan\",\"id\":16199,\"status\":\"Unsupported\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://connect.secure.wellsfargo.com/auth/login/present\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo Wealth Management & Trust\",\"id\":17845,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://wellsfargo.customercarenet.com/ccn/wellsfargo/mymortgage.html#pid=HOME-C\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://wellsfargo.customercarenet.com/ccn/wellsfargo/mymortgage.html#pid=HOME-C\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo-YourMortgage\",\"id\":19614,\"status\":\"Unsupported\",\"containerNames\":[\"mortgage\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.wellsfargo.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.wellsfargo.com\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"WELLS FARGO\",\"id\":19751,\"status\":\"Unsupported\",\"containerNames\":[\"bank\",\"credits\",\"stocks\",\"loans\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://connect.secure.wellsfargo.com/auth/login/present?origin=irt\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo 401K - Allegis\",\"id\":20093,\"status\":\"Unavailable\",\"containerNames\":[\"stocks\"]}]}");
	}

	@Test
	public void agentNameSearchTest() {
		this.siteSearchFilter.setName("");
		this.siteSearchFilter.setFieldName("");		
		this.siteSearchFilter.setAgentName("Wellsfargo");
		this.siteSearchFilter.setCobrandId("10001372");
		this.siteSearchFilter.setUrl("");
		this.siteSearchFilter.setProviderId("");
		this.siteSearchFilter.setProviderName("");
		this.siteSearchFilter.setCustomerId("10000004");
		this.siteSearchFilter.setProviderIds("");
		String sites = this.sitemetadataController.siteSearch("3099:fdskj",devAppIdHeader, this.siteSearchFilter);
		Assert.assertNotNull(sites);
		Assert.assertTrue(!sites.isEmpty(), "agentNameSearch is empty");
		Assert.assertTrue(!sites.contains("errorCode"), "agentNameSearch is throwing some error - "+sites);
		Assert.assertTrue(sites.contains("\"id\":5"), "agentNameSearch JSON is changed - "+sites);
		Assert.assertTrue(sites.contains("\"AGENTNAME\""), "agentNameSearch JSON is changed - "+sites);
		Assert.assertTrue(sites.contains("\"containerNames\""), "agentNameSearch JSON is changed - "+sites);
		Assert.assertEquals(sites, "{\"provider\":[{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.banknbc.com\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.wellsfargo.com/\",\"isAutoRefreshEnabled\":true,\"name\":\"National Bank of Commerce\",\"id\":1295,\"AGENTNAME\":\"AGENTNAME\",\"status\":\"Unavailable\",\"containerNames\":[\"bank\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.fsbot.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.wellsfargo.com/\",\"isAutoRefreshEnabled\":true,\"name\":\"First State Bank of Texas\",\"id\":3305,\"AGENTNAME\":\"AGENTNAME\",\"status\":\"Unavailable\",\"containerNames\":[\"bank\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.fcbcolorado.com\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.wellsfargo.com/\",\"isAutoRefreshEnabled\":true,\"name\":\"First Commerce Bank of Colorado\",\"id\":1280,\"AGENTNAME\":\"AGENTNAME\",\"status\":\"Unavailable\",\"containerNames\":[\"bank\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.wellsfargo.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.wellsfargo.com/\",\"isAutoRefreshEnabled\":true,\"name\":\"Wells Fargo Bank\",\"id\":8830,\"AGENTNAME\":\"AGENTNAME\",\"status\":\"Unavailable\",\"containerNames\":[\"bank\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.sheridanstatebank.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://www.netteller.com/sheridanstatebank/login.cfm\",\"isAutoRefreshEnabled\":false,\"name\":\"Sheridan State Bank\",\"id\":3428,\"AGENTNAME\":\"AGENTNAME\",\"status\":\"Unavailable\",\"containerNames\":[\"bank\",\"loans\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.bankofsantaclara.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.wellsfargo.com\",\"isAutoRefreshEnabled\":true,\"name\":\"Bank of Santa Clara\",\"id\":8424,\"AGENTNAME\":\"AGENTNAME\",\"status\":\"Unavailable\",\"containerNames\":[\"bank\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.firstsecuritybank.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.wellsfargo.com/\",\"isAutoRefreshEnabled\":true,\"name\":\"First Security Corporation\",\"id\":2708,\"AGENTNAME\":\"AGENTNAME\",\"status\":\"Unavailable\",\"containerNames\":[\"bank\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.bankonb.com\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.wellsfargo.com/\",\"isAutoRefreshEnabled\":true,\"name\":\"Overland National Bank\",\"id\":1298,\"AGENTNAME\":\"AGENTNAME\",\"status\":\"Unavailable\",\"containerNames\":[\"bank\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.bayareabank.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.wellsfargo.com\",\"isAutoRefreshEnabled\":true,\"name\":\"Bay Area Bank\",\"id\":8455,\"AGENTNAME\":\"AGENTNAME\",\"status\":\"Unavailable\",\"containerNames\":[\"bank\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.pnwbank.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.wellsfargo.com/signon\",\"isAutoRefreshEnabled\":true,\"name\":\"Pacific Northwest Bank\",\"id\":3547,\"AGENTNAME\":\"AGENTNAME\",\"status\":\"Unavailable\",\"containerNames\":[\"bank\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.pbck.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.wellsfargo.com\",\"isAutoRefreshEnabled\":true,\"name\":\"Peninsula Bank of Commerce\",\"id\":8166,\"AGENTNAME\":\"AGENTNAME\",\"status\":\"Unavailable\",\"containerNames\":[\"bank\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.fnbkearney.com\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.wellsfargo.com/\",\"isAutoRefreshEnabled\":true,\"name\":\"First National of Kearney\",\"id\":1333,\"AGENTNAME\":\"AGENTNAME\",\"status\":\"Unavailable\",\"containerNames\":[\"bank\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.fnbtexas.com\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.wellsfargo.com/\",\"isAutoRefreshEnabled\":true,\"name\":\"First National Bank of Texas\",\"id\":3353,\"AGENTNAME\":\"AGENTNAME\",\"status\":\"Unavailable\",\"containerNames\":[\"bank\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.1stchoicebank.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.wellsfargo.com/\",\"isAutoRefreshEnabled\":true,\"name\":\"1st Choice Bank (CO)\",\"id\":3392,\"AGENTNAME\":\"AGENTNAME\",\"status\":\"Unavailable\",\"containerNames\":[\"bank\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.shoshonefirstbank.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.wellsfargo.com/\",\"isAutoRefreshEnabled\":true,\"name\":\"Shoshone First Bank\",\"id\":9599,\"AGENTNAME\":\"AGENTNAME\",\"status\":\"Unavailable\",\"containerNames\":[\"bank\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.wellsfargo.com/\",\"aggregationType\":\"HYBRID\",\"loginUrl\":\"https://connect.secure.wellsfargo.com/auth/login/present?origin=yodlee\",\"isAutoRefreshEnabled\":true,\"name\":\"Wells Fargo\",\"id\":5,\"AGENTNAME\":\"AGENTNAME\",\"status\":\"Unsupported\",\"containerNames\":[\"bank\",\"bank\",\"credits\",\"stocks\",\"loans\",\"mortgage\",\"bill_payment\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.wnnb.com\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.wellsfargo.com/\",\"isAutoRefreshEnabled\":true,\"name\":\"Western Nebraska National Bank\",\"id\":1282,\"AGENTNAME\":\"AGENTNAME\",\"status\":\"Unavailable\",\"containerNames\":[\"bank\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"http://www.1stnb.com\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://online.1stnb.com/ \",\"isAutoRefreshEnabled\":true,\"name\":\"First National Bank of Texas\",\"id\":1336,\"AGENTNAME\":\"AGENTNAME\",\"status\":\"Unsupported\",\"containerNames\":[\"bank\",\"credits\",\"loans\",\"mortgage\",\"bill_payment\"]},{\"country\":\"UNITED STATES\",\"baseUrl\":\"https://www.pinedalebank.com/\",\"aggregationType\":\"SCREEN_SCRAPING\",\"loginUrl\":\"https://www.wellsfargo.com/\",\"isAutoRefreshEnabled\":true,\"name\":\"1st National Bank of Pinedale\",\"id\":5089,\"AGENTNAME\":\"AGENTNAME\",\"status\":\"Unavailable\",\"containerNames\":[\"bank\"]}]}");
	}

	@Test
	public void siteSearchFailureTest() {
		this.siteSearchFilter.setName("");
		this.siteSearchFilter.setFieldName("");		
		this.siteSearchFilter.setAgentName("ServiceInsight");
		this.siteSearchFilter.setCobrandId("10001372");
		this.siteSearchFilter.setUrl("");
		this.siteSearchFilter.setProviderId("");
		this.siteSearchFilter.setProviderName("");
		this.siteSearchFilter.setCustomerId("10000004");
		this.siteSearchFilter.setProviderIds("");
		String sites = this.sitemetadataController.siteSearch("3099:fdskj",devAppIdHeader, this.siteSearchFilter);
		Assert.assertNotNull(sites);
		Assert.assertTrue(!sites.isEmpty(), "siteSearchFailure is empty");
		Assert.assertTrue(!sites.contains("errorCode"), "siteSearchFailure is throwing some error - "+sites);
		Assert.assertTrue(!sites.contains("\"id\":5"), "siteSearchFailure JSON is changed - "+sites);
		Assert.assertTrue(!sites.contains("\"containerStats\""), "siteSearchFailure JSON is changed - "+sites);
		Assert.assertTrue(!sites.contains("\"AGENTNAME\""), "siteSearchFailure JSON is changed - "+sites);
		Assert.assertEquals(sites, "{}");
	}

	@Test
	public void siteViewDetailsTest() {
		this.siteSearchFilter.setName("");
		this.siteSearchFilter.setFieldName("");		
		this.siteSearchFilter.setAgentName("");
		this.siteSearchFilter.setCobrandId("10001372");
		this.siteSearchFilter.setUrl("");
		this.siteSearchFilter.setProviderName("");
		this.siteSearchFilter.setCustomerId("10000004");
		this.siteSearchFilter.setProviderIds("");
		this.siteSearchFilter.setProviderId("5");
		String sites = this.sitemetadataController.siteViewDetails("3099:fdskj",devAppIdHeader, this.siteSearchFilter);
		Assert.assertNotNull(sites);
		Assert.assertTrue(!sites.isEmpty(), "siteIdSearch is empty");
		Assert.assertTrue(!sites.contains("errorCode"), "siteIdSearch is throwing some error - "+sites);
		Assert.assertTrue(sites.contains("\"id\":5"), "siteIdSearch JSON is changed - "+sites);
		Assert.assertTrue(sites.contains("\"PROVIDERID\""), "siteIdSearch JSON is changed - "+sites);
		Assert.assertTrue(sites.contains("\"containerNames\""), "siteIdSearch JSON is changed - "+sites);
	//	Assert.assertEquals(sites, "{\"provider\":[{\"country\":\"UNITED STATES\",\"languageISOCode\":\"EN\",\"aggregationType\":\"HYBRID\",\"forgetPasswordUrl\":\"https://online.wellsfargo.com/das/cgi-bin/session.cgi?screenid=PASSWORD_HELP\",\"containerNames\":[\"bank\",\"bank\",\"credits\",\"stocks\",\"loans\",\"mortgage\",\"bill_payment\"],\"capability\":[{\"container\":[\"bank\"],\"name\":\"CHALLENGE_DEPOSIT_VERIFICATION\"}],\"loginUrl\":\"https://www.wellsfargo.com/\",\"mfaType\":\"Multiple levels of strong authentication.\",\"isAutoRefreshEnabled\":true,\"providerCategory\":\"General\",\"logo\":\"https://192.168.210.234:8743/appscenter/bvtmcappscenter/ytmprod/siteImage.bvtmcfast.do?access_type=APPS_CENTER_PRODUCTION&siteId=LOGO/LOGO_5_1_2.SVG\",\"id\":5,\"authType\":\"OAUTH\",\"favicon\":\"https://192.168.210.234:8743/appscenter/bvtmcappscenter/ytmprod/siteImage.bvtmcfast.do?access_type=APPS_CENTER_PRODUCTION&siteId=FAVICON/FAV_5.SVG\",\"countryISOCode\":\"US\",\"PROVIDERID\":\"PROVIDERID\",\"primaryLanguageISOCode\":\"ENGLISH\",\"baseUrl\":\"https://www.wellsfargo.com/\",\"loginForm\":{\"forgetPasswordURL\":\"https://online.wellsfargo.com/das/cgi-bin/session.cgi?screenid=PASSWORD_HELP\",\"formType\":\"login\",\"id\":5,\"row\":[{\"fieldRowChoice\":\"0001\",\"form\":\"0001\",\"field\":[{\"size\":20,\"name\":\"LOGIN\",\"valueEditable\":true,\"id\":12,\"isOptional\":false,\"type\":\"text\",\"value\":\"\",\"maxLength\":14}],\"id\":121254,\"label\":\"Username\"},{\"fieldRowChoice\":\"0002\",\"form\":\"0001\",\"field\":[{\"size\":20,\"name\":\"PASSWORD\",\"valueEditable\":true,\"id\":13,\"isOptional\":false,\"type\":\"password\",\"value\":\"\",\"maxLength\":14}],\"id\":121253,\"label\":\"Password\"}]},\"localizedProviderAttributes\":[{\"nameWithCountry\":\"China\",\"languageISOCode\":\"CHINESE\",\"baseURL\":\"https://online.wellsfargo.com\",\"forgetPasswordURL\":\"https://online.wellsfargo.com\",\"loginURL\":\"https://online.wellsfargo.com\",\"countryISOCode\":\"CN\",\"name\":\"ABCDEEE\",\"id\":5}],\"containerAttributes\":{\"LOANS\":{\"isAutoRefreshEnabled\":false,\"name\":\"Wells Fargo - Loan\",\"agentName\":\"WellsFargoBankLoan\",\"numberOfTransactionDays\":90,\"id\":4594,\"lastModified\":\"2018-01-30T15:32:00Z\",\"status\":\"Unsupported\"},\"CREDITS\":{\"isAutoRefreshEnabled\":false,\"name\":\"Wells Fargo - Credit Card\",\"agentName\":\"WellsfargoCredits\",\"numberOfTransactionDays\":90,\"id\":982,\"lastModified\":\"2018-01-27T20:34:00Z\",\"status\":\"Unsupported\"},\"BANK\":{\"isAutoRefreshEnabled\":false,\"name\":\"Wells Fargo - Bank\",\"agentName\":\"Wellsfargo\",\"numberOfTransactionDays\":90,\"id\":5,\"lastModified\":\"2018-01-30T16:38:00Z\",\"status\":\"Unsupported\"},\"BILL_PAYMENT\":{\"isAutoRefreshEnabled\":false,\"name\":\"Wells Fargo - Bill Pay\",\"agentName\":\"WellsFargoBankBillPay\",\"numberOfTransactionDays\":90,\"id\":4646,\"lastModified\":\"2018-01-29T23:18:00Z\",\"status\":\"Unsupported\"},\"MORTGAGE\":{\"isAutoRefreshEnabled\":false,\"name\":\"Wells Fargo - Mortgage\",\"agentName\":\"WellsfargoMortgage\",\"numberOfTransactionDays\":90,\"id\":3797,\"lastModified\":\"2018-01-29T01:05:00Z\",\"status\":\"Unsupported\"},\"STOCKS\":{\"isAutoRefreshEnabled\":false,\"name\":\"Wells Fargo - Investments\",\"agentName\":\"WellsfargoInvestments\",\"numberOfTransactionDays\":90,\"id\":10862,\"lastModified\":\"2018-01-30T16:38:00Z\",\"status\":\"Unsupported\"}},\"name\":\"Wells Fargo\",\"lastModified\":\"2018-01-30T16:38:00Z\",\"status\":\"Unsupported\",\"additionalDataSet\": {\"LOANS\":[{\"DOCUMENT\":{\"STATEMENT\":[{\"noOfDays\":90}],\"EBILL\":[{\"noOfDays\":365},{\"noOfDays\":1020}],\"TAX\":[{\"noOfDays\":90},{\"noOfDays\":1825}]}}],\"CREDITS\":[{\"DOCUMENT\":{\"STATEMENT\":[{\"noOfDays\":90}],\"EBILL\":[{\"noOfDays\":90},{\"noOfDays\":90}],\"TAX\":[{\"noOfDays\":90}]}}],\"BANK\":[{\"ACCT_PROFILE\":{\"HOLDER_DETAILS\":[],\"HOLDER_NAME\":[],\"BANK_TRANSFER_CODE\":[],\"FULL_ACCT_NUMBER\":[]}},{\"DOCUMENT\":{\"STATEMENT\":[{\"noOfDays\":180},{\"noOfDays\":1},{\"noOfDays\":360}],\"EBILL\":[{\"noOfDays\":90}],\"TAX\":[{\"noOfDays\":365},{\"noOfDays\":3285}]}}],\"BILL_PAYMENT\":[{\"DOCUMENT\":{\"STATEMENT\":[{\"noOfDays\":90}],\"EBILL\":[{\"noOfDays\":90}],\"TAX\":[{\"noOfDays\":90}]}}],\"MORTGAGE\":[{\"DOCUMENT\":{\"STATEMENT\":[{\"noOfDays\":90}],\"EBILL\":[{\"noOfDays\":90},{\"noOfDays\":90}],\"TAX\":[{\"noOfDays\":90}]}}],\"STOCKS\":[{\"DOCUMENT\":{\"STATEMENT\":[{\"noOfDays\":90},{\"noOfDays\":90}],\"EBILL\":[{\"noOfDays\":90}],\"TAX\":[{\"noOfDays\":365}]}},{\"INVESTMENT_OPTIONS\":{}}]}}]}");
	}

	@Test
	public void siteViewDetailsFailureTest() {
		this.siteSearchFilter.setName("");
		this.siteSearchFilter.setFieldName("");		
		this.siteSearchFilter.setAgentName(null);
		this.siteSearchFilter.setCobrandId("[10001372]");
		this.siteSearchFilter.setUrl(null);
		this.siteSearchFilter.setProviderName(null);
		this.siteSearchFilter.setCustomerId("10000004");
		this.siteSearchFilter.setProviderIds("");
		this.siteSearchFilter.setProviderId("1000000");
		String sites = this.sitemetadataController.siteViewDetails("3099:fdskj",devAppIdHeader, this.siteSearchFilter);
		Assert.assertNotNull(sites);
		Assert.assertTrue(!sites.isEmpty(), "siteCommonRefreshStats is empty");
		Assert.assertTrue(!sites.contains("errorCode"), "siteCommonRefreshStats is throwing some error - "+sites);
		Assert.assertTrue(!sites.contains("\"id\":\"100000\""), "siteCommonRefreshStats JSON is changed - "+sites);
		Assert.assertTrue(!sites.contains("\"PROVIDERID\""), "siteCommonRefreshStats JSON is changed - "+sites);
		Assert.assertTrue(!sites.contains("\"containerNames\""), "siteCommonRefreshStats JSON is changed - "+sites);
		Assert.assertEquals(sites, "{}");
	}

	@Test
	public void siteViewDetailsFailureForEmptyProviderTest() {
		this.siteSearchFilter.setName("");
		this.siteSearchFilter.setFieldName("");		
		this.siteSearchFilter.setAgentName(null);
		this.siteSearchFilter.setUrl(null);
		this.siteSearchFilter.setProviderName(null);
		this.siteSearchFilter.setCustomerId("10000004");
		this.siteSearchFilter.setProviderIds("");
		this.siteSearchFilter.setCobrandId(null);
		this.siteSearchFilter.setProviderId("");
		String sites = this.sitemetadataController.siteViewDetails("3099:fdskj",devAppIdHeader, this.siteSearchFilter);
		Assert.assertTrue(sites.contains("errorCode"), "siteCommonRefreshStats is throwing some error - "+sites);
	}

	@Test
	public void siteViewDetailsFailureForNullProviderTest() {
		this.siteSearchFilter.setName("");
		this.siteSearchFilter.setFieldName("");		
		this.siteSearchFilter.setAgentName(null);
		this.siteSearchFilter.setUrl(null);
		this.siteSearchFilter.setProviderName(null);
		this.siteSearchFilter.setCustomerId("10000004");
		this.siteSearchFilter.setProviderIds("");
		this.siteSearchFilter.setCobrandId("");
		this.siteSearchFilter.setProviderId(null);
		String sites = this.sitemetadataController.siteViewDetails("3099:fdskj",devAppIdHeader, this.siteSearchFilter);
		Assert.assertTrue(sites.contains("errorCode"), "siteCommonRefreshStats is throwing some error - "+sites);
	}


	@Test
	public void siteFaviconSearchTest() {
		this.siteSearchFilter.setName("");
		this.siteSearchFilter.setFieldName("favicon,logo,status,isAutoRefreshEnabled");		
		this.siteSearchFilter.setAgentName("");
		this.siteSearchFilter.setCobrandId("10001372");
		this.siteSearchFilter.setUrl("");
		this.siteSearchFilter.setProviderName("");
		this.siteSearchFilter.setCustomerId("10000004");
		this.siteSearchFilter.setProviderIds("2852,643,10642,12,1503,11,492,5,686,98,2856,291,17155,744,21");
		this.siteSearchFilter.setProviderId("");
		String sites = this.sitemetadataController.siteFaviconSearch("3099:fdskj",devAppIdHeader, this.siteSearchFilter);
		Assert.assertNotNull(sites);
		Assert.assertTrue(!sites.isEmpty(), "siteFaviconSearch is empty");
		Assert.assertTrue(!sites.contains("errorCode"), "siteFaviconSearch is throwing some error - "+sites);
		Assert.assertTrue(sites.contains("\"id\":5"), "siteFaviconSearch JSON is changed - "+sites);
		Assert.assertTrue(sites.contains("yodlee.vo.llnwd.net"), "siteFaviconSearch JSON is changed - "+sites);
		Assert.assertTrue(sites.contains("\"favicon\""), "siteFaviconSearch JSON is changed - "+sites);
		Assert.assertEquals(sites, "{\"provider\":[{\"favicon\":\"http://yodlee.vo.llnwd.net/v1/FAVICON/FAV_5.SVG\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Wells Fargo\",\"logo\":\"http://yodlee.vo.llnwd.net/v1/LOGO/LOGO_5_1_2.SVG\",\"id\":5,\"status\":\"Unsupported\"},{\"favicon\":\"http://yodlee.vo.llnwd.net/v1/FAVICON/FAV_Default.PNG\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Discover Card\",\"logo\":\"http://yodlee.vo.llnwd.net/v1/LOGO/LOGO_11_1_1.PNG\",\"id\":11,\"status\":\"Unsupported\"},{\"favicon\":\"http://yodlee.vo.llnwd.net/v1/FAVICON/FAV_Default.PNG\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"American Express Cards\",\"logo\":\"http://yodlee.vo.llnwd.net/v1/LOGO/LOGO_12_1_1.PNG\",\"id\":12,\"status\":\"Unsupported\"},{\"favicon\":\"http://yodlee.vo.llnwd.net/v1/FAVICON/FAV_Default.PNG\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Charles Schwab\",\"logo\":\"http://yodlee.vo.llnwd.net/v1/LOGO/LOGO_21_1_1.PNG\",\"id\":21,\"status\":\"Unsupported\"},{\"favicon\":\"http://yodlee.vo.llnwd.net/v1/FAVICON/FAV_Default.PNG\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Vanguard - Investments\",\"logo\":\"http://yodlee.vo.llnwd.net/v1/LOGO/LOGO_98_1_1.PNG\",\"id\":98,\"status\":\"Unsupported\"},{\"favicon\":\"http://yodlee.vo.llnwd.net/v1/FAVICON/FAV_291.PNG\",\"isAutoRefreshEnabled\":false,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"TD Ameritrade Inc.\",\"logo\":\"http://yodlee.vo.llnwd.net/v1/LOGO/LOGO_291_1_1.PNG\",\"id\":291,\"status\":\"Unsupported\"},{\"favicon\":\"http://yodlee.vo.llnwd.net/v1/FAVICON/FAV_Default.PNG\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Fidelity Investments\",\"logo\":\"http://yodlee.vo.llnwd.net/v1/LOGO/LOGO_492_1_1.PNG\",\"id\":492,\"status\":\"Unsupported\"},{\"favicon\":\"http://yodlee.vo.llnwd.net/v1/FAVICON/FAV_643.PNG\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Chase\",\"logo\":\"http://yodlee.vo.llnwd.net/v1/LOGO/LOGO_643_1_1.PNG\",\"id\":643,\"status\":\"Unsupported\"},{\"favicon\":\"http://yodlee.vo.llnwd.net/v1/FAVICON/FAV_Default.PNG\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"E*TRADE\",\"logo\":\"http://yodlee.vo.llnwd.net/v1/LOGO/LOGO_744_1_1.PNG\",\"id\":744,\"status\":\"Unsupported\"},{\"favicon\":\"http://yodlee.vo.llnwd.net/v1/FAVICON/FAV_Default.PNG\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Citi Credit Cards\",\"logo\":\"http://yodlee.vo.llnwd.net/v1/LOGO/LOGO_1503_1_1.PNG\",\"id\":1503,\"status\":\"Unsupported\"},{\"favicon\":\"http://yodlee.vo.llnwd.net/v1/FAVICON/FAV_Default.PNG\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Capital One Credit Cards\",\"logo\":\"http://yodlee.vo.llnwd.net/v1/LOGO/LOGO_2856_1_1.PNG\",\"id\":2856,\"status\":\"Unsupported\"},{\"favicon\":\"http://yodlee.vo.llnwd.net/v1/FAVICON/FAV_Default.PNG\",\"isAutoRefreshEnabled\":true,\"PROVIDERID\":\"PROVIDERID\",\"name\":\"Zillow.com\",\"logo\":\"http://yodlee.vo.llnwd.net/v1/LOGO/LOGO_10642_1_1.PNG\",\"id\":10642,\"status\":\"Unsupported\"}]}");
	}

	@Test
	public void siteFaviconSearchFailureTest() {
		this.siteSearchFilter.setName("");
		this.siteSearchFilter.setFieldName("favicon,logo,status,isAutoRefreshEnabled");		
		this.siteSearchFilter.setAgentName("");
		this.siteSearchFilter.setCobrandId("10001372");
		this.siteSearchFilter.setUrl("");
		this.siteSearchFilter.setProviderName("");
		this.siteSearchFilter.setCustomerId("10000004");
		this.siteSearchFilter.setProviderIds("2852,643");
		this.siteSearchFilter.setProviderId("");
		String sites = this.sitemetadataController.siteFaviconSearch("3099:fdskj",devAppIdHeader, this.siteSearchFilter);
		Assert.assertNotNull(sites);
		Assert.assertTrue(!sites.isEmpty(), "siteFaviconSearchFailure is empty");
		Assert.assertTrue(!sites.contains("errorCode"), "siteFaviconSearchFailure is throwing some error - "+sites);
		Assert.assertTrue(!sites.contains("\"id\":5"), "siteFaviconSearchFailure JSON is changed - "+sites);
		Assert.assertTrue(!sites.contains("\"favicon\""), "siteFaviconSearchFailure JSON is changed - "+sites);
		Assert.assertEquals(sites, "{}");
	}

}
